= Web service status codes for Launchpad-specific exceptions =

Most of the time, if a web service client triggers an exception, the
response code will be 500. But specific exception classes can override
this behavior and set some other response code.

    >>> from lazr.restful.testing.webservice import FakeRequest
    >>> from zope.component import getMultiAdapter
    >>> def render_using_default_view(error):
    ...     """Render an exception using its default 'index.html' view.
    ...     :return: response, result tuple. (The response object and
    ...         the content).
    ...     """
    ...     try:
    ...         raise error
    ...     except Exception, error:
    ...         request = FakeRequest()
    ...         view = getMultiAdapter((error, request), name="index.html")
    ...         result = view()
    ...         return request.response, result


IRequestExpired exceptions have a 503 status code.

    >>> from canonical.launchpad.webapp.adapter import RequestExpired
    >>> response, result = render_using_default_view(RequestExpired())
    >>> response.status
    503
