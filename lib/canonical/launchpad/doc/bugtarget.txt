Bug Targets
===========

A bug target is a thing on which a bug can be reported, e.g., an
IDistributionSourcePackage, an IProduct, etc.

Bug Tasks on Bug Targets
------------------------

An IBugTarget provides various attributes for manipulating its
bugtasks. Here are some examples, using Debian mozilla-firefox:

    >>> from zope.component import getUtility
    >>> from canonical.launchpad.interfaces import IDistributionSet

    >>> debian = getUtility(IDistributionSet).getByName("debian")
    >>> debian_firefox = debian.getSourcePackage("mozilla-firefox")

Open bugtasks:

    >>> [bugtask.bug.id for bugtask in debian_firefox.open_bugtasks]
    [1, 2, 3]

For the next couple of examples, we'll temporarily modify some bugtask
values to have some sample data for examples following.

    >>> login("foo.bar@canonical.com")

    >>> from canonical.lp.dbschema import BugTaskStatus, BugTaskImportance
    >>> from canonical.launchpad.interfaces import IBugTaskSet
    >>> import transaction

    >>> bug_one_in_debian_firefox = getUtility(IBugTaskSet).get(4)
    >>> bug_two_in_debian_firefox = getUtility(IBugTaskSet).get(5)
    >>> bug_one_in_debian_firefox.importance = BugTaskImportance.CRITICAL
    >>> bug_one_in_debian_firefox.transitionToStatus(BugTaskStatus.INPROGRESS)
    >>> bug_two_in_debian_firefox.transitionToStatus(BugTaskStatus.INPROGRESS)

    >>> transaction.commit()

Critical bugtasks:

    >>> [bugtask.bug.id for bugtask in debian_firefox.critical_bugtasks]
    [1]

In progress bugtasks:

    >>> [bugtask.bug.id for bugtask in debian_firefox.inprogress_bugtasks]
    [1, 2]

Unassigned bugtasks:

    >>> [bugtask.bug.id for bugtask in debian_firefox.unassigned_bugtasks]
    [1, 3]

All bugtasks ever reported:

    >>> [bugtask.bug.id for bugtask in debian_firefox.all_bugtasks]
    [1, 2, 3, 8]

Bug contacts
------------

Distributions and products can have zero or one bug
contact. Distribution source packages can have zero, one, or more bug
contacts. Bug contacts are accessed with the IBugTarget.getBugContacts
method.

Let's set a bug contact on Ubuntu and upstream Firefox and see the data
returned by this method.

    >>> from canonical.launchpad.interfaces import IProductSet, IPersonSet

    >>> ubuntu = getUtility(IDistributionSet).get(1)
    >>> firefox = getUtility(IProductSet).get(4)

    >>> personset = getUtility(IPersonSet)

    >>> sabdfl = personset.get(1)
    >>> sample_person = personset.get(12)

    >>> print ubuntu.name
    ubuntu
    >>> print firefox.name
    firefox
    >>> print sabdfl.name
    sabdfl
    >>> print sample_person.name
    name12

    >>> login("foo.bar@canonical.com")

    >>> ubuntu.bugcontact = sabdfl
    >>> firefox.bugcontact = sample_person

The data returned is a list:

    >>> 
