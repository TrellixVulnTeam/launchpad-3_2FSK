
Get a tarball representation of a release's translations.

This is needed to make utilities work.

  >>> login(ANONYMOUS)

Get hold of our distribution release.

  >>> from canonical.launchpad.database import DistroRelease
  >>> release = DistroRelease.get(3)
  >>> release.name
  u'hoary'

Now get hold of a tarball for the release.

  >>> from canonical.launchpad.components.poexport import \
  ...     DistroReleasePOExporter
  >>> exporter = DistroReleasePOExporter(release)
  >>> tarfile_string = exporter.export_tarball()

Check the tarball has the right members.

  >>> from canonical.launchpad.helpers import string_to_tarfile
  >>> tarfile = string_to_tarfile(tarfile_string)
  >>> for name in tarfile.getnames():
  ...     print name
  ...
  rosetta-hoary/
  rosetta-hoary/ca/
  rosetta-hoary/ca/LC_MESSAGES/
  rosetta-hoary/ca/LC_MESSAGES/pmount.po
  rosetta-hoary/cs/
  rosetta-hoary/cs/LC_MESSAGES/
  rosetta-hoary/cs/LC_MESSAGES/pmount.po
  rosetta-hoary/fr/
  rosetta-hoary/fr/LC_MESSAGES/
  rosetta-hoary/fr/LC_MESSAGES/pmount.po
  rosetta-hoary/de/
  rosetta-hoary/de/LC_MESSAGES/
  rosetta-hoary/de/LC_MESSAGES/pmount.po
  rosetta-hoary/nb/
  rosetta-hoary/nb/LC_MESSAGES/
  rosetta-hoary/nb/LC_MESSAGES/pmount.po
  rosetta-hoary/hr/
  rosetta-hoary/hr/LC_MESSAGES/
  rosetta-hoary/hr/LC_MESSAGES/pmount.po
  rosetta-hoary/es/
  rosetta-hoary/es/LC_MESSAGES/
  rosetta-hoary/es/LC_MESSAGES/pmount.po
  rosetta-hoary/es_ES/
  rosetta-hoary/es_ES/LC_MESSAGES/
  rosetta-hoary/es_ES/LC_MESSAGES/pmount.po
  rosetta-hoary/it_IT/
  rosetta-hoary/it_IT/LC_MESSAGES/
  rosetta-hoary/it_IT/LC_MESSAGES/pmount.po
  rosetta-hoary/es/LC_MESSAGES/evolution-2.2.po
  rosetta-hoary/timestamp.txt


Check the PO file looks like what we expected.

  >>> fh = tarfile.extractfile('rosetta-hoary/es/LC_MESSAGES/evolution-2.2.po')
  >>> fh.readline()
  '# traducci\xc3\xb3n de es.po al Spanish\n'

