= Visibility of Imported DebBugs Comments =

Comments imported from the DebBugs bug tracker are not displayed in the
user interface by default.

A config option, malone.show_imported_comments, controls whether or not
imported comments will be displayed. We can demonstrate these using the
standard BugTaskView for bug 15, which has a debian bug watch and
imported comments.

    >>> from zope.component import getUtility
    >>> from canonical.launchpad.browser import BugTaskView
    >>> from canonical.launchpad.interfaces import IBugSet
    >>> from canonical.launchpad.webapp.servers import (
    ...     LaunchpadTestRequest)
    >>> from canonical.testing import LaunchpadZopelessLayer
    >>> bug = getUtility(IBugSet).get(15)
    >>> view = BugTaskView(bug.bugtasks[0], LaunchpadTestRequest())

By default, the comments returned which have been imported from a bug
watch will have a can_be_shown property of False.

    >>> for comment in view.getBugCommentsForDisplay():
    ...     comment.can_be_shown
    False
    False
    False
    False
    False
    False

However, if we set the show_imported_comments config option to True, the
imported comments for bug 4 will be displayable.

    >>> from canonical.config import config
    >>> config.malone.show_imported_comments = True
    >>> view = BugTaskView(bug.bugtasks[0], LaunchpadTestRequest())
    >>> for comment in view.getBugCommentsForDisplay():
    ...     comment.can_be_shown
    True
    True
    True
    True
    True
    True

