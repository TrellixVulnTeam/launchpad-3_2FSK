<table tal:condition="view/has_pofiles"
       class="sortable listing" id="language-chart" width="100%">
  <thead>
    <tr>
      <th>Language</th>
      <th>Status</th>
      <th class="amount">Untranslated</th>
      <th class="amount">Need review</th>
      <th class="amount">Changed</th>
      <th>Last Edited</th>
      <th>By</th>
    </tr>
  </thead>

  <tbody>
    <tr tal:repeat="pfview view/pofiles">
      <tal:block define="pf pfview/context">
        <td>
          <a tal:attributes="href string:${pf/fmt:url}/+translate"
             tal:content="pf/language/englishname/fmt:shorten/25">
             Language Name
          </a>
        </td>
        <td style="white-space: nowrap">
          <div tal:replace="structure pf/@@+barchart" />
        </td>
        <td>
          <span class="sortkey" tal:content="pf/untranslatedCount">0</span>
          <tal:count
            tal:condition="pf/untranslatedCount"
            tal:replace="pf/untranslatedCount">0</tal:count>
          <tal:count condition="not: pf/untranslatedCount">
            &mdash;
          </tal:count>
        </td>
        <td>
          <span class="sortkey" tal:content="pf/unreviewedCount">0</span>
          <tal:count
            tal:condition="pf/unreviewedCount"
            tal:replace="pf/unreviewedCount">0</tal:count>
          <tal:count condition="not: pf/unreviewedCount">
            &mdash;
          </tal:count>
        </td>
        <td>
          <span class="sortkey" tal:content="pf/updatesCount">0</span>
          <tal:count
            tal:condition="pf/updatesCount"
            tal:replace="pf/updatesCount">0</tal:count>
          <tal:count condition="not: pf/updatesCount">
            &mdash;
          </tal:count>
        </td>
        <td>
          <span class="sortkey"
            tal:condition="pf/last_touched_pomsgset"
            tal:content="
              pf/last_touched_pomsgset/latest_change_date/fmt:datetime">
            time sort key
          </span>
          <span
            tal:condition="pf/last_touched_pomsgset"
            tal:attributes="
              title pf/last_touched_pomsgset/latest_change_date/fmt:datetime"
            tal:content="
              pf/last_touched_pomsgset/latest_change_date/fmt:approximatedate"
            >
            2007-02-10
          </span>
          <tal:block condition="not: pf/last_touched_pomsgset">
              &mdash;
          </tal:block>
        </td>
        <td>
          <tal:comment condition="nothing">
             <!-- XXX CarlosPerelloMarin 2007-02-12:
                  This code is exactly the same
                  as in distroserieslanguage-index.pt -->
          </tal:comment>
          <tal:block condition="pf/last_touched_pomsgset">
            <a tal:attributes="
                 href pf/last_touched_pomsgset/latest_change_person/fmt:url"
               tal:content="pf/last_touched_pomsgset/latest_change_person/browsername/fmt:shorten/25"></a>
          </tal:block>
          <tal:block condition="not: pf/last_touched_pomsgset">
              &mdash;
          </tal:block>
        </td>
      </tal:block>
    </tr>
  </tbody>
</table>

