<html>
<head>
</head>
<body tal:define="vhosts
    modules/canonical.launchpad.webapp.vhosts/allvhosts/configs">
    <p>A site identifying as
        <em tal:content="view/openid_request/trust_root" />
        has asked us for confirmation that
        <em tal:content="view/openid_request/identity" />
        is your identity URL.
    </p>

    <p class="warning message" tal:condition="not:view/trust_root/isSane">
        <strong>Warning:</strong>
        <em tal:content="view/openid_request/trust_root" /> does not look
        like a trustworthy URL.
    </p>

    <p>If you click the <strong>Allow Once</strong> button, we will
        confirm to <tal:x content="view/openid_request/trust_root" />
        that <tal:x content="view/openid_request/identity" />
        belongs to you.
    </p>

    <p>If you click the <strong>Deny</strong> button, we will send you
        back to <tal:x content="view/openid_request/trust_root" />
        without confirming your identity.
    </p>

    <tal:comment condition="nothing">
        The form method needs to be GET, as if we are not
        authenticated the login system needs to issue redirects
        (see canonical/launchpad/webapp/login.py 'Application error.
        Unauthentiated user POSTing to page that requires
        authentication.'
    </tal:comment>
    <form method="get" action=".">
        <input type="hidden" name="token"
            tal:attributes="value view/token" />
        <input type="submit" name="action_allow_once" value="Allow Once" />
        <input type="submit" name="action_deny" value="Deny" />
    </form>
</body>
</html>
