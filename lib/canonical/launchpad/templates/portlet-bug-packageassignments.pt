
<!-- NB for Alex Limi:
     I've moved the work we were doing here into another file because that
     work is for a "headline summary" of both package and product
     assignments. This file reverts to being a portlet that just lists
     package assignments.
-->

<!-- Missing at the moment: an indicator for status integrated (should maybe
    not be a separate header) 
    Code:
            <td tal:content="bugass/bugstatus/lp:BugAssignmentStatus">
                $ProductBugAssignment.bugstatus
            </td>
    -->


<table class="listing">
    <thead>
        <tr>
            <th title="Assignment">Package / Upstream</th>
            <th title="Severity">Sev</th>
            <th title="Assignee">Assigned to</th>
            <th title="Priority">Pri</th>
        </tr>
    </thead>


    <tbody>
        <!-- Upstream Assignments -->
        <tr tal:repeat="bugass context/productassignments">
           
            <td tal:attributes="class string:packageName severity${bugass/severity/lp:BugSeverity}Row">
                <img src="++resource++product_icon.gif" 
                     title="Product Assignment" />
                <a href=""
                   tal:attributes="href
                   string:/doap/${bugass/product/project/name}/${bugass/product/name}"
                   tal:content="bugass/product/name">
                $Product.name
                </a>
            </td>
            
            <td>
                <acronym title="Critical
This bug is essential to fix as soon as possible. It affects system stability, data integrity and / or remote access security."
                         tal:content="bugass/severity/lp:BugSeverity"
                         tal:attributes="class string:severity${bugass/severity/lp:BugSeverity}"
                >C</acronym>
            </td>

            <td title="Mr. FixMe">
                <a tal:condition="bugass/assignee"
                   tal:attributes="href string:/malone/bugs/assigned?name=${bugass/assignee/name}">
                    <img src="++resource++user.gif" alt="" 
                    /><span tal:replace="bugass/assignee/browsername">
                    assignee.browsername
                    </span>
                </a>
            </td>
        
            <td>
                <acronym class="priorityMedium"
                         title="Medium Priority. This is a medium priority bug for the maintainer."
                         tal:content="bugass/priority/lp:BugPriority"
                         tal:attributes="class string:priority${bugass/priority/lp:BugPriority}"
                >=</acronym>
            </td>
            
        </tr>


        <!-- Distribution Package Assignments -->
        <tr tal:repeat="bugass context/packageassignments">
           
            <td tal:attributes="class string:packageName severity${bugass/severity/lp:BugSeverity}Row">
                <img src="++resource++product_icon.gif" 
                     title="Package Assignment" />
                <a href=""
                   tal:attributes="href string:/malone/package/${bugass/sourcepackage/name}"
                   tal:content="bugass/sourcepackage/name">
                $SourcePackageName.name
                </a>
            </td>
            
            <td>
                <acronym title="Critical Severity.
This bug is essential to fix as soon as possible. It affects system stability, data integrity and / or remote access security."
                         tal:content="bugass/severity/lp:BugSeverity"
                         tal:attributes="class string:severity${bugass/severity/lp:BugSeverity}"
                >C</acronym>
            </td>

            <td title="Mr. FixMe">
                <a tal:condition="bugass/assignee"
                   tal:attributes="href string:/malone/bugs/assigned?name=${bugass/assignee/name}">
                    <img src="++resource++user.gif" alt="" 
                    /><span tal:replace="bugass/assignee/browsername">
                    loginname
                    </span>
                </a>
            </td>
        
            <td>
                <acronym class="priorityMedium"
                         title="Medium Priority. This is a medium priority bug for the maintainer."
                         tal:content="bugass/priority/lp:BugPriority"
                         tal:attributes="class string:priority${bugass/priority/lp:BugPriority}"
                >=</acronym>
            </td>
            
        </tr>

    </tbody>
</table>

                <a href="packageassignments/+new"
                   style="font-size: 85%; float: right; display: inline; clear: both; text-decoration: none;"
                   title="Add new reference to an existing Source Package that is affected.">
                <img src="++resource++add.gif" alt="+" />
                Add Package
                </a>
                
                <a href="productassignments/+new"
                   style="font-size: 85%; float: right; display: inline; clear: both; text-decoration: none;"
                   title="Add new reference to a Product that is affected.">
                <img src="++resource++add.gif" alt="+" />
                Add Product
                </a>
