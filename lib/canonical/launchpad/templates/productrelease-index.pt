<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

<body>

<metal:portlets fill-slot="portlets">
  <div tal:replace="structure context/@@+portlet-details" />
  <div tal:replace="structure context/product/@@+portlet-details" />
</metal:portlets>

<metal:heading fill-slot="pageheading">
  <h1 tal:content="context/title">Foo Release</h1>
</metal:heading>

<div metal:fill-slot="main">

    <p class="documentDescription" tal:content="context/summary"
       tal:condition="context/summary">
        $ProductRelease.summary goes here. This should be quite short,
        just a single paragraph of text really, giving a summary of
        this release highlights.
    </p>

    <div tal:content="structure context/description/fmt:text-to-html">
        $ProductRelease.description goes here. This is longer, like the
        project release notes.
    </div>

    <p tal:condition="not: context/description">
      <i>This release does not have a description. You may want to edit it
      and give it a description, including new features and other
      highlights.</i>
    </p>

    <form method="POST"
          tal:define="has_edit context/required:launchpad.Edit"
          tal:condition="context/files"
          tal:attributes="action request/URL">

      <h2>Download files for this release</h2>

      <table class="listing">
        <thead>
          <tr>
            <th tal:condition="has_edit" width="10%">Delete</th>
            <th>Download</th>
            <th>Signature</th>
            <th width="50%">Description</th>
          </tr>
        </thead>
        <tbody>
          <tr tal:repeat="file context/files">
            <td tal:condition="has_edit"
                align="center">
              <input type="checkbox"
                     tal:define="cbnum string:${repeat/file/index}"
                     tal:attributes="value file/libraryfile/id;
                                     name string:checkbox_${cbnum}" />
            </td>
            <td>
              <img alt="download icon" src="/@@/download" />
              <a tal:attributes="href python:view.fileURL(file.libraryfile)"
                 tal:content="file/libraryfile/filename">filename</a>
            </td>
            <td>
              <tal:signature condition="file/signature">
                <img alt="download icon" src="/@@/download" />
                <a tal:attributes="href python:view.fileURL(file.signature)"
                   tal:content="file/signature/filename">signature</a>
              </tal:signature>
            </td>
            <td tal:content="file/description">Installer for i386</td>
          </tr>
        </tbody>
      </table>

      <input tal:condition="has_edit"
             type="submit"
             name="delete_files"
             value="Delete Files" />
    </form>

</div>

<div metal:fill-slot="help">
  <p>
  Releases represent new public versions of the project; in general,
  they imply a new tarball of source code is made available for the
  project. They are often marked by public announcements of the new
  version that include a list of changes and fixes in it.
  </p>
  <p>
  If you are the owner of this project, series or release, you can add files
  for a release by <a href="+adddownloadfile">adding files for download</a>.
  </p>
  <p>
  Files are downloadable at <a tal:attributes="href
  string:${context/productseries/product/fmt:url}/+download">the project download area</a>.
  </p>
</div>


</body>
</html>
