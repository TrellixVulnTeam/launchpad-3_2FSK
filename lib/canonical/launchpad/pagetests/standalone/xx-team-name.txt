First we try to change the name of "name18" to "ubuntu-team", but
 "ubuntu-team" is already in use!
 
  >>> print http(r"""
  ... POST /~name18/+edit HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Type: multipart/form-data; boundary=---------------------------19030233218248605631984744659
  ... 
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... ubuntu-team
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="field.displayname"
  ... 
  ... Ubuntu Gnome Team
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="field.teamdescription"
  ... 
  ... This Team is responsible for the GNOME releases Issues on whole Ubuntu Distribution
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="field.defaultmembershipperiod"
  ... 
  ... 
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="field.defaultrenewalperiod"
  ... 
  ... 
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="field.subscriptionpolicy"
  ... 
  ... Moderated Team
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="field.subscriptionpolicy-empty-marker"
  ... 
  ... 1
  ... -----------------------------19030233218248605631984744659
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Change
  ... -----------------------------19030233218248605631984744659--
  ... """)
  HTTP/1.1 200 Ok
  ...
  ...ubuntu-team is already in use by another person or team...

  
Then we try to change it to "name99", wich isn't taken yet.
  
  >>> print http(r"""
  ... POST /~name18/+edit HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Type: multipart/form-data; boundary=---------------------------5241005213034596831996094424
  ... 
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... name99
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="field.displayname"
  ... 
  ... Ubuntu Gnome Team
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="field.teamdescription"
  ... 
  ... This Team is responsible for the GNOME releases Issues on whole Ubuntu Distribution
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="field.defaultmembershipperiod"
  ... 
  ... 
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="field.defaultrenewalperiod"
  ... 
  ... 
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="field.subscriptionpolicy"
  ... 
  ... Moderated Team
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="field.subscriptionpolicy-empty-marker"
  ... 
  ... 1
  ... -----------------------------5241005213034596831996094424
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Change
  ... -----------------------------5241005213034596831996094424--
  ... """)
  HTTP/1.1 303 See Other
  ...
  Location: http://localhost:9000/~name99...

Now we try to "name18"'s page, this way we make sure everything is how it
should be.

  >>> print http(r"""
  ... GET /~name18 HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 404 Not Found
  ...
