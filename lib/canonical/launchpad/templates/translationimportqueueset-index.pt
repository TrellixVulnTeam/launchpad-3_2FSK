<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="rosetta">

<body>

<div metal:fill-slot="main">

  <tal:block condition="view/submitForm" />

  <h1>Translation files pending to be imported</h1>

  <p tal:repeat="alert view/alerts"
    class="portalMessage"
    tal:content="alert">
    Notification Message
  </p>
  <p tal:repeat="notice view/notices"
    class="portalMessage"
    tal:content="notice">
    Notification Message
  </p>

  <tal:block condition="view/has_things_to_import">
  <div class="documentDescription">
    This is a listing of all of translation resources pending to be imported
    in Rosetta. <tal:loggedin condition="not:request/lp:person">If you want to
    remove your entries, please log in into the system.</tal:loggedin>
  </div>


  <form name="entries_to_import" action="" method="POST">

    <table class="sortable listing" id="translation-import-queue" width="100%">
      <thead>
        <tr>
          <th></th>
          <th>Origin</th>
          <th>Path</th>
          <th>Uploader</th>
          <th>Uploaded on</th>
          <th>Published</th>
          <th>Import into</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr tal:repeat="entry view/readyToImport">
          <td>
            <a tal:condition="entry/sourcepackage"
               tal:content="entry/sourcepackage/title"
               tal:attributes="href string:${entry/sourcepackage/fmt:url}"
               >evolution in Ubuntu Hoary</a>
            <a tal:condition="entry/productseries"
               tal:content="entry/productseries/title"
               tal:attributes="href string:${entry/productseries/fmt:url}"
               >Evolution Series: MAIN</a>
          </td>
          <td>
            <span tal:content="entry/path">po/foo.pot</span>
          </td>
          <td>
            <input type="checkbox"
                   tal:condition="entry/required:launchpad.Edit"
                   tal:attributes="name string:entry-${entry/id}" />
          </td>
          <td>
            <a tal:content="entry/importer/browsername"
               tal:attributes="href string:${entry/importer/fmt:url}"
               >Mark Shuttleworth</a>
          </td>
          <td tal:content="entry/dateimported/fmt:datetime">
            date
          </td>
          <td>
            <span tal:content="entry/is_published">True</span>
          </td>
          <td>
            <a tal:content="entry/import_into/title"
               tal:attributes="href string:${entry/import_into/fmt:url}"
               >Foo</a>
          </td>
          <td>
            [<a tal:attributes="href string:${entry/content/url}">Download</a>]
          </td>
          <td>
            <tal:block condition="entry/required:launchpad.Admin">
              [<a tal:attributes="href string:${entry/fmt:url}">Edit</a>]
            </tal:block>
          </td>
        </tr>
      </tbody>
    </table>
    <input tal:condition="request/lp:person"
           style="float: left" 
           type="submit" name="remove_import" value="Remove" />
    <input tal:condition="context/required:launchpad.Admin"
           style="float: left"
           type="submit" name="block_import" value="Block" />
    <br />
  </form>
  </tal:block>

  <tal:block condition="view/has_pending_reviews">
  <div class="documentDescription">
    This is a listing of all of translation resources pending to be reviewed
    by a Rosetta Expert. <tal:loggedin condition="not:request/lp:person">If you want to
    remove your entries, please log in into the system.</tal:loggedin>
  </div>

  <form name="entries_to_review" action="" method="POST">

    <table class="sortable listing" id="translation-import-queue-review" width="100%">
      <thead>
        <tr>
          <th></th>
          <th>Origin</th>
          <th>Path</th>
          <th>Uploader</th>
          <th>Imported on</th>
          <th>Published</th>
          <th></th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr tal:repeat="entry view/pendingReview">
          <td>
            <input type="checkbox"
                   tal:condition="entry/required:launchpad.Edit"
                   tal:attributes="name string:entry-${entry/id}" />
          </td>
          <td>
            <a tal:condition="entry/sourcepackage"
               tal:content="entry/sourcepackage/title"
               tal:attributes="href string:${entry/sourcepackage/fmt:url}"
               >evolution in Ubuntu Hoary</a>
            <a tal:condition="entry/productseries"
               tal:content="entry/productseries/title"
               tal:attributes="href string:${entry/productseries/fmt:url}"
               >Evolution Series: MAIN</a>
          </td>
          <td>
            <span tal:content="entry/path">po/foo.pot</span>
          </td>
          <td>
            <a tal:content="entry/importer/browsername"
               tal:attributes="href string:${entry/importer/fmt:url}"
               >Mark Shuttleworth</a>
          </td>
          <td tal:content="entry/dateimported/fmt:datetime">
            date
          </td>
          <td>
            <span tal:content="entry/is_published">True</span>
          </td>
          <td>
            [<a tal:attributes="href string:${entry/content/url}">Download</a>]
          </td>
          <td>
            <tal:block condition="entry/required:launchpad.Admin">
              [<a tal:attributes="href string:${entry/fmt:url}">Edit</a>]
            </tal:block>
          </td>
        </tr>
      </tbody>
    </table>
    <input tal:condition="request/lp:person"
           style="float: left"
           type="submit" name="remove_review" value="Remove" />
    <input tal:condition="context/required:launchpad.Admin"
           style="float: left"
           type="submit" name="block_review" value="Block" />
    <br />
  </form>
  </tal:block>

  <tal:block condition="not: view/has_things_to_import">
    <tal:block condition="not: view/has_pending_reviews">
      <div class="documentDescription">
        There are no pending files to be imported into Rosetta.
      </div>
    </tal:block>
  </tal:block>
</div>

</body>
</html>
