
Those pages are based in the BuildRecordView class and
template/builds-list.pt. Basically they have a buildstate selector
action via HTTP GET and present a batched list of build records
according the selected buildstate, by default All

  >>> def check_optional_search(contents):
  ...     """Check if the label and/or the field for the optional
  ...     "names containing" search are present in the given page contents.
  ...
  ...     Return "present" if they're both here, "not present" if they're
  ...     both not here, and "mismatch" if only one or the other is here.
  ...     """
  ...
  ...     label_present = "with names containing:" in contents
  ...     field_present = '<input title="Package Name"' in contents
  ...     if label_present and field_present:
  ...         return "present"
  ...     elif not label_present and not field_present:
  ...         return "not present"
  ...     else:
  ...         return "mismatch"
  
  >>> from zope.testbrowser import Browser
  >>> browser = Browser()

Check the contents of the distro builds list page.

  >>> browser.open("http://localhost:9000/distros/ubuntu/+builds")
  >>> "i386 build of pmount 0.1-1 in ubuntu hoary" in browser.contents
  True
  >>> "i386 build of mozilla-firefox 0.9 in ubuntu warty" in browser.contents
  True

On this page, the "names containing" search field appears.

  >>> print check_optional_search(browser.contents)
  present

Check the results of some searches on build state.

  >>> browser.open("http://localhost:9000/distros/ubuntu/+builds?build_state=built")
  >>> "i386 build of pmount 0.1-1 in ubuntu hoary" in browser.contents
  True
  >>> "i386 build of mozilla-firefox 0.9 in ubuntu warty" in browser.contents
  True

  >>> browser.open("http://localhost:9000/distros/ubuntu/+builds?build_state=depwait")
  >>> "i386 build of libstdc++ b8p in ubuntu hoary" in browser.contents
  True

  >>> browser.open("http://localhost:9000/distros/ubuntu/+builds?build_state=failed")
  >>> "i386 build of pmount 0.1-1 in ubuntu warty" in browser.contents
  True

Since the other pages tends to present a similar result and use, in
fact, the same mechanisms, we simply check if they work with no
tracebacks:

  >>> browser.open("http://localhost:9000/distros/ubuntu/hoary/+builds")
  >>> browser.open("http://localhost:9000/distros/ubuntu/hoary/+source/pmount/+builds")

We check that the "names containing" field doesn't appear on the build list
for an individual package.

  >>> print check_optional_search(browser.contents)
  not present

Check Build home pages and friends:

  >>> browser.open("http://localhost:9000/+builds/+build/7")

