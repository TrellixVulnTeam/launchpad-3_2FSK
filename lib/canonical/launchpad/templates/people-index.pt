<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<head>
    <title metal:fill-slot="title">Launchpad People</title>
    <!-- Plone style sheet -->
    <style type="text/css" media="screen">@import url(plone.css);</style>
    <!-- Soyuz style sheet -->
    <style type="text/css" media="screen">@import url(soyuz.css);</style>
</head>

<body>

<div metal:fill-slot="main">

  <h1>People and Teams in the Launchpad</h1>

  <div class="documentDescription"> 
    This is the Friend Of A Friend web service, where we catalogue all the 
    users registered in The Launchpad.
  </div>

  <div> 
    Please note that some of the accounts registered here may have been
    automatically created by our system, and thus we can have different
    accounts representing the same person. If you find a dupe for your
    account, please go to the 
    <em><a href="+requestmerge">People Merge</a></em> page to turn the two
    accounts into a single one.
  </div>

  <fieldset>
    <legend>Search</legend>
    <table>
      <form name="search" action="" method="GET">
      <tr><td>
        Find
      </td>
      <td>
        <select name="searchfor">
          <tal:block tal:define="searchfor request/searchfor|nothing">
          <option tal:condition="python: searchfor == 'all'"
                  value="all" selected>People and Teams</option>
          <option tal:condition="python: searchfor != 'all'"
                  value="all">People and Teams</option>
          <option tal:condition="python: searchfor == 'peopleonly'"
                  value="peopleonly" selected>People</option>
          <option tal:condition="python: searchfor != 'peopleonly'"
                  value="peopleonly">People</option>
          <option tal:condition="python: searchfor == 'teamsonly'"
                  value="teamsonly" selected>Teams</option>
          <option tal:condition="python: searchfor != 'teamsonly'"
                  value="teamsonly">Teams</option>
          </tal:block>
        </select>
      </td>
      <td>named</td>
      <td>
        <input type="text" name="name" size="30"
               tal:attributes="value request/name|nothing"/>
      </td>
      <td>
        <div class="formControls">
          <input type="submit" value="Search"/>
        </div>
      </td></tr>
      </form>
    </table>

    <p>View all: <img src="/++resource++user.gif" /><a href="+peoplelist">Persons</a>
    or <img src="/++resource++user.gif" /><a href="+ubuntitelist">Ubuntites</a>
    or <img src="/++resource++user.gif" /><a href="+teamlist">Teams</a></p>

  <tal:block tal:define="bn view/searchPeopleBatchNavigator">

    <tal:block tal:condition="not: bn" tal:omit-tag>

      <p>Enter some or all of a person or team's name to search for matching
      people in the Launchpad registry.</p>
    
    </tal:block>

  <tal:block tal:condition="bn">

  <tal:block tal:define="prev_url bn/prevBatchURL;
                         next_url bn/nextBatchURL;">

  <hr>
  <h4>Search Results</h4>
  <table>

    <tr tal:repeat="person python:list(bn.currentBatch())">      
     <td><a tal:content="person/displayname"
	    tal:attributes="href person/name"/>
     </td>
    </tr>    

    <tr>
    <td align="center">
    <fieldset tal:condition="python:prev_url or next_url">
    <div>
    	  <table>
	  <tr>
	  <!-- <th condition="not: prev_url"><< prev</th> -->
          <th tal:condition="prev_url">
	       <a tal:attributes="href prev_url"><b><< Prev</b></a>
	  </th>
          <th tal:repeat="page_link bn/batchPageURLs">
	     <a tal:attributes="href python:page_link.values()[0]"
                tal:content="python:page_link.keys()[0]"></a>
	  </th>
          <th tal:condition="next_url" >
	     <a tal:attributes="href next_url"><b>Next >></b></a>
          </th>
          <!-- <th condition="not: next_url">next >></th> -->
          </tr>
	  </table>
     </div>
     </fieldset>
    </td>
    </tr>
  </table>
  </tal:block>
  </tal:block>
  </tal:block>



</div>

</body>
</html>
