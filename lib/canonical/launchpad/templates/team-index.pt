<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

    <div metal:fill-slot="body">
      <div
        class="sidebar"
        tal:content="structure context/@@+portlet-actions"
      />
      <h1>
        &#8220;<span tal:replace="context/browsername">
        Foo</span>&#8221; team
      </h1>
      <table>
        <tbody>
          <tr>
            <th>Owner:</th>
            <td><a tal:attributes="href string:../${context/teamowner/name}"
                   tal:content="context/teamowner/browsername"></a>
                <tal:block condition="context/required:launchpad.Admin">
                  <a tal:attributes="href string:${context/fmt:url}/+reassign">
                    <img alt="(Change owner)" src="/++resource++edit.gif"
                         title="Change the owner" />
                  </a>
                </tal:block>
            </td>
          </tr>
          <tr>
            <th>Members:</th>
            <td>
              <span tal:content="view/activeMembersCount" />
              active
            </td>
          </tr>
          <tr>
            <th>Membership policy:</th>
            <td tal:content="context/subscriptionPolicyDesc">123</td>
          </tr>
          <tr>
            <th>Contact address:</th>
            <td
              tal:condition="context/preferredemail"
              tal:content="context/preferredemail/email"
            >foobar@example.com</td>
            <td
              tal:condition="not: context/preferredemail"
            >
              <tal:block condition="context/unvalidatedemails">
                not confirmed yet
                (<a href="+editemail">Confirm it&#8230;</a>)
              </tal:block>
              <tal:block condition="not: context/unvalidatedemails">
                none
              </tal:block>
            </td>
          </tr>
        </tbody>
      </table>
      <h2>Relationship to other teams</h2>
      <tal:block define="
        subteams context/getSubTeams;
        superteams context/getSuperTeams
      ">
        <p tal:condition="python: not subteams and not superteams">
          None of the members of
          &#8220;<span tal:replace="context/browsername"/>&#8221;
          are teams,
          and nor is it a member of any other team.
        </p>
        <p tal:condition="python: superteams and not subteams">
          None of the members of
          &#8220;<span tal:replace="context/browsername"/>&#8221;
          are teams.
        </p>
        <tal:block condition="subteams">
          <p>
            These teams are members of
            &#8220;<span tal:replace="context/browsername"/>&#8221;:
          </p>
          <ul>
            <li tal:repeat="team subteams">
              <a tal:attributes="href string:../${team/name}"
                 tal:content="team/browsername">name</a>
            </li>
          </ul>
        </tal:block>
        <p tal:condition="python: subteams and not superteams">
          &#8220;<span tal:replace="context/browsername"/>&#8221;
          is not a member of any other team.
        </p>
        <tal:block condition="superteams">
          <p>
            &#8220;<span tal:replace="context/browsername"/>&#8221;
            is a member of these teams:
          </p>
          <ul>
            <li tal:repeat="team superteams">
              <a tal:attributes="href string:../${team/name}"
                 tal:content="team/browsername">name</a>
            </li>
          </ul>
        </tal:block>
      </tal:block>
      <tal:block condition="request/lp:person">
        <h2>Your involvement</h2>
        <tal:block condition="view/userIsOwner">
          <p tal:condition="view/userIsActiveMember">
            You are the owner of this team.
          </p>
          <p tal:condition="not: view/userIsActiveMember">
            You are the owner of this team,
            but not currently an active member.
          </p>
        </tal:block>
        <tal:block condition="not: view/userIsOwner">
          <p tal:condition="view/userIsActiveMember">
            You are a member of this team.
          </p>
          <p tal:condition="not: view/userIsActiveMember">
            You are not a member of this team.
          </p>
        </tal:block>
        <ul>
          <li
            tal:condition="view/userIsActiveMember"
            class="remove"
          ><a href="+leave">Leave&#8230;</a></li>
          <li
            tal:condition="not: view/userIsActiveMember"
            class="add"
          ><a href="+join">Join&#8230;</a></li>
        </ul>
      </tal:block>
    </div>
  </body>
</html>
