<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="launchpad"
  >
<body>

  <div metal:fill-slot="main">

    <h1 tal:content="CONTEXTS/fmt:pagetitle">
      Manage subscribers for Blah PPA
    </h1>
    <p>Subscribers are people or teams who can install software
       from your PPA.
    </p>

    <div class="subscribers">
      <p tal:condition="not: view/has_subscriptions" id="no-subscribers">
        This PPA does not yet
        have any subscribers.
      </p>

      <p class="error message" tal:condition="view/errors"
         tal:content="view/error_count" />

      <h2>PPA Subscribers</h2>

      <form action="."
        tal:attributes="action view/action_url"
        name="launchpadform"
        method="post"
        enctype="multipart/form-data"
        accept-charset="UTF-8">

      <table tal:attributes="summary string:Subscribers for ${context/displayname};"
             id="archive-subscribers" class="listing">
        <thead>
          <tr class="archive_subscriber_row">
            <th>Name</th>
            <th>Expires</th>
            <th colspan="2">Comment</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <tal:single-row-form define="widgets widgets|view/widgets"
                       repeat="widget widgets">

            <td tal:attributes="class error_class"
                  tal:define="field_name widget/context/__name__;
                  error python:view.getFieldError(field_name);
                  error_class python:error and 'error' or None;
                  show_optional python:view.showOptionalMarker(field_name)"
            >
              <p
                tal:condition="error"
                tal:content="structure error"
                class="message"
              >Error message</p>
              <tal:widget replace="structure widget">
                <input type="text" style="width: 100%" />
              </tal:widget>
              <p class="formHelp"
                 tal:condition="widget/hint"
                 tal:content="widget/hint">Some Help Text
              </p>
            </td>
            </tal:single-row-form>
            <td>
              <input tal:repeat="action view/actions"
                     tal:replace="structure action/render"
              />
            </td>
          </tr>
          <tr class="archive_subscriber_row"
              tal:repeat="subscription view/subscriptions">
            <td tal:content="structure subscription/subscriber/fmt:link" />
            <td tal:content="subscription/date_expires/fmt:date" />
            <td tal:content="subscription/description" />
            <td tal:define="edit_link string:${subscription/fmt:url}/+edit">
              <a class="edit" tal:attributes="href edit_link">
                Edit/Cancel
              </a>
            </td>
         </tr>
        </tbody>
      </table>
      </form>
    </div>

  </div>
</body>
</html>
