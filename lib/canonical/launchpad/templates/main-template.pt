<metal:page define-macro="master"><metal:doctype define-slot="doctype"><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"></metal:doctype>
<metal:block define-slot="top_slot" />
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:lpm="http://ns.launchpad.net/lpm" xml:lang="en" lang="en" dir="ltr"
    tal:attributes="lang view/lang|default_language|default;
                    xml:lang view/lang|default_language|default;
                    dir view/dir|string:ltr"
    tal:define="
        icingrev string:117;
        rooturl modules/canonical.launchpad.webapp.vhosts/allvhosts/configs/mainsite/rooturl;
        icingroot string:${rooturl}+icing/rev${icingrev};
        site_message modules/canonical.config/config/launchpad/site_message;
        devmode modules/canonical.config/config/devmode;
        is_demo modules/canonical.config/config/launchpad/is_demo">
  <head>
    <title tal:content="CONTEXTS/fmt:pagetitle">Launchpad</title>
    <!-- Launchpad style sheet -->
    <style
      type="text/css"
      media="screen, print"
      tal:condition="not: devmode"
      tal:content="string:@import url(${icingroot}/+style-slimmer.css);"/>
    <style
      type="text/css"
      media="screen, print"
      tal:condition="devmode"
      tal:content="string:@import url(${icingroot}/style.css);"/>
    <style
      type="text/css"
      tal:condition="view/is_private | CONTEXTS/lp:immediate_object_is_private"
      id="privatestyle"
    >#nonheader {background: url(/@@/private-bg) top left repeat-x;}</style>
    <style tal:condition="is_demo" type="text/css"
    >html, body {background-image: url(/@@/demo) !important;}</style>
    <style tal:condition="site_message" type="text/css"
    >#help {top: 47px !important;}</style>
    <!--[if IE 7]>
      <style type="text/css">#portlets {left: 20px;}</style>
    <![endif]-->

    <tal:comment condition="nothing">
      This CSS collapses portlets and the contents of collapsible fieldsets,
      without the flashing that would result from doing it in JavaScript.
      activateCollapsibles() removes the class="collapsed" from fieldsets, to
      re-show their divs, once the children themselves have been collapsed.
    </tal:comment>
    <style type="text/css">
      #portlets .portletBody, fieldset.collapsed div,
      fieldset div.collapsed {display: none;}
    </style>
    <noscript>
      <style type="text/css">
        #portlets .portletBody, fieldset.collapsible div,
        fieldset div.collapsed {display: block;}
      </style>
    </noscript>

    <script type="text/javascript" tal:attributes="src string:${icingroot}/MochiKit.js"></script>
    <script type="text/javascript" tal:attributes="src string:${icingroot}/launchpad.js"></script>
    <script type="text/javascript" tal:attributes="src string:${icingroot}/lpmenu.js"></script>
    <script type="text/javascript" tal:attributes="src string:${icingroot}/sorttable.js"></script>
    <script type="text/javascript">
      function onLoadFunction() {
        lpmenu.initialize(['menuroot'], '/', 'menupreload',
                           [], '1.3em', 16, true);
        sortables_init();
        initHelpPanel();
        initPortlets();
      }
      registerLaunchpadFunction(onLoadFunction);
    </script>
    <link rel="shortcut icon" tal:attributes="href string:${icingroot}/launchpad.png" />
    <metal:block define-slot="head_epilogue"></metal:block>
  </head>
  <body
    id="document"
    tal:attributes="class string:tab-${CONTEXTS/menu:selectedfacetname} ${view/macro:pagetype}"
  >
    <div id="globalheader"  xml:lang="en" lang="en" dir="ltr"
      tal:condition="site_message">
      <div class="sitemessage" tal:content="structure site_message"/>
      <img class="launchpad" width="90" height="20" tal:attributes="src string:${rooturl}+icing/globalheader_launchpad_bg.gif" alt="Launchpad"/>
    </div>
    <div id="topline" tal:condition="not: site_message"></div>
    <div id="locationbar" xml:lang="en" lang="en" dir="ltr">
      <strong id="yourlocation">Your location:</strong>
      <ul id="menuroot">
        <tal:hierarchy content="structure context/@@+breadcrumbs" />
      </ul>
      <table id="logincontrol">
        <tr>
          <td tal:content="structure context/@@login_status" />
        </tr>
      </table>
    </div>

    <div id="nonheader">

    <div id="nonhelp">
      <tal:maintenance replace="structure context/@@+maintenancemessage" />
      <table
        tal:condition="view/macro:pagehas/applicationbuttons"
        id="applications" xml:lang="en" lang="en" dir="ltr"
      >
        <tbody>
          <tr>
            <th><h1 metal:define-slot="heading" /></th>
            <td
              tal:define="
                facetname CONTEXTS/menu:selectedfacetname;
                facetname python:facetname == 'overview' and 'register' or facetname;
                facetname python:facetname == 'branches' and 'code' or facetname;
                facetname python:facetname == 'specifications' and 'blueprints' or facetname"
              tal:content="structure context/@@+applicationbuttons/?facetname"
            />
          </tr>
        </tbody>
      </table>
      <div
        id="structuralobject" xml:lang="en" lang="en" dir="ltr"
        tal:define="structuralheaderobject CONTEXTS/lp:structuralheaderobject"
        tal:condition="view/macro:pagehas/structuralheaderobject"
      >
        <tal:header
          condition="structuralheaderobject"
          replace="structure structuralheaderobject/@@+structural-header"
        />
        <tal:no condition="not:structuralheaderobject"
        >No structural object</tal:no>
      </div>
      <form
        tal:condition="view/macro:pagehas/globalsearch"
        id="globalsearch" xml:lang="en" lang="en" dir="ltr"
        action="/projects/"
        method="get"
        accept-charset="UTF-8"
      >
        <div>
          <input
            type="text"
            id="text"
            name="text"
            value="Search"
            onfocus="if(this.value=='Search'){this.value='';};"
          />
          <input
            type="image"
            id="searchbutton"
            src="/+icing/but_search.gif"
            title="Search"
          />
        </div>
      </form>
      <div tal:condition="view/macro:pagehas/applicationborder" id="mainarea">

                <div class="x">

                      <div
                        tal:condition="not:view/macro:pagehas/applicationtabs"
                        id="noapplicationchooser"
                      >&nbsp;</div>
                      <tal:applicationtabs
                        condition="view/macro:pagehas/applicationtabs"
                      >
                        <ul
                          id="applicationchooser"
                          xml:lang="en" lang="en" dir="ltr"
                          tal:define="facetmenu CONTEXTS/menu:facet"
                          tal:condition="facetmenu"
                        >
                          <tal:facet repeat="link facetmenu">
                            <tal:available condition="link/enabled">
                              <li
                                tal:condition="link/selected"
                                tal:attributes="title link/summary; class string:current tab-${link/name}"
                              >
                                <a
                                  tal:condition="link/linked"
                                  tal:attributes="href link/url"
                                  tal:content="structure link/escapedtext"
                                >abc</a>
                                <span
                                  class="selected"
                                  tal:condition="not: link/linked"
                                  tal:content="structure link/escapedtext"
                                >def</span>
                              </li>
                              <li
                                tal:condition="not: link/selected"
                                tal:attributes="title link/summary; class string:current tab-${link/name}"
                              ><a
                                  tal:attributes="href link/url"
                                  tal:content="structure link/escapedtext"
                                >ghi</a><span
                                  class="disabled"
                                  tal:condition="not: link/linked"
                                  tal:content="structure link/escapedtext"
                              >jkl</span></li>
                            </tal:available>
                            <li
                              tal:condition="not: link/enabled"
                              tal:attributes="title link/summary; class string:unavailable tab-${link/name}"
                              tal:content="structure link/escapedtext"
                            />
                          </tal:facet>
                        </ul>
                      </tal:applicationtabs>
                      <!-- this br is conditional so that it does not show
                           on applicationhomes, where it causes a large
                           white space at the top of the page content area
                           -->
                      <br class="clear"
                          tal:condition="view/macro:pagehas/pageheading"/>
                      <div id="container">
                        <div id="maincontent">
                           <div class="pageheading"
                                tal:condition="view/macro:pagehas/pageheading">
                            <metal:block define-slot="pageheading">
                              <!-- XXX obsolete -->
                            </metal:block>
                          </div>
                          <tal:notifications
                            define="notifications request/notifications"
                            condition="notifications"
                          ><metal:notifications
                              use-macro="context/@@+main-template-macros/notifications" />
                          </tal:notifications>
                          <metal:block define-slot="main" />
                          <tal:no_children replace="nothing">
                          <div
                            tal:define="structuralfooterobject CONTEXTS/lp:structuralfooterobject" 
                            tal:condition="structuralfooterobject"
                            tal:replace="structure structuralfooterobject/@@+structural-footer"
                            />
                          </tal:no_children>
                        </div>
                        <div
                          id="portlets" xml:lang="en" lang="en" dir="ltr"
                          tal:condition="view/macro:pagehas/portlets"
                        >
                          <tal:menu replace="structure CONTEXTS/@@+menubox" />
                          <metal:portlets define-slot="portlets" />
                          <metal:portlets define-slot="portlets_two" />
                          <metal:portlets define-slot="portlets_one" />
                          <div class="clear"></div><!-- needed for Safari -->
                        </div>
                        <div class="clear"></div>
                      </div><!--id="container"-->

                </div><!--id="x"-->

      </div><!--id="mainarea"-->
      <tal:noborder condition="not:view/macro:pagehas/applicationborder">
        <tal:notifications
          define="notifications request/notifications"
          condition="notifications"
        ><metal:notifications
            use-macro="context/@@+main-template-macros/notifications" />
        </tal:notifications>
        <metal:block define-slot="main" />
        <div style="clear: both; height: 2em;">&nbsp;</div>
        <tal:comment condition="nothing">
          No easier way to put a gap before the footer, because in CSS a
          top margin for a cleared item is ignored.
        </tal:comment>
      </tal:noborder>
      <div id="globalfooter" xml:lang="en" lang="en" dir="ltr">
        <div id="applications-footer"
          tal:define="vhosts modules/canonical.launchpad.webapp.vhosts/allvhosts/configs"
          tal:replace="nothing">
          <a tal:attributes="href vhosts/mainsite/rooturl">Launchpad home</a> |
          <a tal:attributes="href vhosts/code/rooturl">Code</a> |
        <a tal:attributes="href vhosts/bugs/rooturl">Bugs</a> |
        <a tal:attributes="href vhosts/blueprints/rooturl">Blueprints</a> |
        <a tal:attributes="href vhosts/translations/rooturl">Translations</a> |
  
          <a tal:attributes="href vhosts/answers/rooturl">Answers</a>
        </div>
        <div id="colophon">
          <a href="/legal">Terms&nbsp;of&nbsp;Use</a> |
          <a href="/feedback">Help&nbsp;improve&nbsp;Launchpad</a> |
          <a href="/faq">FAQ</a>
        </div>
        <div id="copyright">
            Copyright&nbsp;2004-2007&nbsp;<a
                href="http://canonical.com/">Canonical&nbsp;Ltd.</a>
          <tal:block
              define="revno modules/canonical.launchpad.versioninfo/revno">
              | build
              <tal:block condition="revno" replace="revno" />
              <tal:block condition="not: revno">unknown</tal:block>
          </tal:block>
          <tal:devmode condition="devmode">| DEVMODE</tal:devmode>
          <tal:demo condition="is_demo">| DEMO</tal:demo>
        </div>
        <ul style="clear: both; margin-top:20px;" tal:condition="nothing">
            <li>Facet name:
              <tal:block tal:replace="CONTEXTS/menu:selectedfacetname" />
            </li>
            <li>Page type:
               <tal:pagetype replace="view/macro:pagetype" />
            </li>
            <li>Has portlet column:
               <span tal:replace="view/macro:pagehas/portlets" />
            </li>
            <li>Has application tabs:
               <span tal:replace="view/macro:pagehas/applicationtabs" />
            </li>
            <li>Has application border:
               <span tal:replace="view/macro:pagehas/applicationborder" />
            </li>
            <li>Has application buttons:
               <span tal:replace="view/macro:pagehas/applicationbuttons" />
            </li>
            <li>Has heading:
               <span tal:replace="view/macro:pagehas/heading" />
            </li>
        </ul>
      </div><!--id="globalfooter"-->
    </div><!--id="nonhelp"-->
    <div id="help" class="closed" xml:lang="en" lang="en" dir="ltr">
      <h2 id="help-tab">Help</h2>
      <div id="help-panel">
        <div id="help-content">
          <div id="help-text">
            <p metal:define-slot="help">
              Sorry, help isn&rsquo;t available for this page.
            </p>
          </div>
        </div>
        <div id="help-bottom">&nbsp;</div>
      </div>
    </div>
    <div id="menupreload" style="visibility:hidden" 
      xml:lang="en" lang="en" dir="ltr">
      <ul class="menu" lpm:mid="root">
        <tal:condition condition="request/lp:person">
          <li class="item"
              tal:attributes="lpm:mid string:/~${request/lp:person/name}/+menudata/contributions"><a
          class="container" href="/projects">Projects</a></li>
        </tal:condition>
        <tal:condition condition="not: request/lp:person">
          <li class="item"><a href="/projects">Projects</a></li>
        </tal:condition>
        <li class="item"><a href="/distros">Distributions</a></li>
        <li class="item"><a href="/people">People</a></li>
        <li class="item"><a href="/sprints">Meetings</a></li>
    </div>

    </div><!--id="nonheader"-->
  </body>
</html>
</metal:page>
<!-- 1-0 inprogress Help panel wrong in IE/Win; portlets wrong in IE/Mac -->
