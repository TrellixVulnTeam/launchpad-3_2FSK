<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    metal:use-macro="view/macro:page/main_only"
    i18n:domain="launchpad">
  <metal:head-epilogue fill-slot="head_epilogue">
    <style type="text/css">
      .yui3-js-enabled .javascript-disabled { display: none; }
    </style>
  </metal:head-epilogue>
  <body>
    <div metal:fill-slot="main">
      <tal:enabled condition="view/is_derived_series_feature_enabled">
      <div class="top-portlet">
        This page allows you to initialise a distribution series.
      </div>
      <p class="error message javascript-disabled">
        Javascript is required to use this page. Please enable
        Javascript in your browser and reload this page. Alternatively,
        please use the <code>deriveDistroSeries</code> API call via the
        web service.
      </p>
      <div class="unseen" id="initseries-form-container">
        <metal:form use-macro="context/@@launchpad_form/form" />
      </div>
      <script type="text/javascript">
        LPS.use('lp.registry.distroseries.initseries', function(Y) {
          Y.on('domready', Y.lp.registry.distroseries.initseries.setup);
        });
      </script>
      <p class="formHelp">Note that initialising with many thousands
      of packages is likely to take hours to complete.</p>
      </tal:enabled>
      <tal:disabled condition="not:view/is_derived_series_feature_enabled">
      <p class="error message">
        The Derivative Distributions feature is under development
        and is not yet generally available. You can read more about
        this feature on its <a
        href="https://dev.launchpad.net/LEP/DerivativeDistributions">proposal
        page</a>.
      </p>
      </tal:disabled>
    </div>
  </body>
</html>
