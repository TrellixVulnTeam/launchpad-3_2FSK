<bug-activity
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    metal:use-macro="view/macro:page/main_only">

  <div metal:fill-slot="heading">
    <h1>
      Activity log for bug #<span tal:replace="context/bug/id" /> -
      <span tal:replace="context/bug/title" />
    </h1>
  </div>

  <div metal:fill-slot="main">
    <div class="yui-g">
    <div class="top-portlet">
    <table class="listing">
      <thead>
        <tr>
          <th>Date</th>
          <th>Who</th>
          <th>What changed</th>
          <th>Old value</th>
          <th>New value</th>
          <th>Message</th>
        </tr>
      </thead>
      <tbody>
        <tr tal:repeat="log context/bug/activity">
          <tal:comment condition="nothing">
            XXX: Gavin Panella 2009-08-12 bug=412963: Using strftime()
            here because fmt:datetime changes timezone, even though we
            always want to show only UTC.
          </tal:comment>
          <td tal:content="python:log.datechanged.strftime('%Y-%m-%d %T')">
            2004-09-24 12:04:43
          </td>
          <td><tal:person tal:replace="structure log/person/fmt:link">person</tal:person></td>
	  <td tal:content="log/whatchanged">description</td>
	  <td><tal:oldvalue tal:replace="log/oldvalue">this</tal:oldvalue></td>
	  <td><tal:newvalue tal:replace="log/newvalue">that</tal:newvalue></td>
	  <td><tal:message  tal:replace="log/message">message</tal:message></td>
        </tr>
      </tbody>
    </table>
    </div>
    </div>
  </div>
</bug-activity>
