= Introduction =

The Launchpad web service exposes a collection of people and teams,
which responds to GET.

  >>> people_collection = webservice.get("/people").jsonBody()

  >>> people_collection = sorted(people_collection)
  >>> people_collection[0]['name']
  u'skacel'
  >>> people_collection[0]['self_link']
  u'http://api.launchpad.dev/~skacel'
  >>> people_collection[-1]['name']
  u'rosetta-admins'

The elements of a collection can be looked up by unique identifier:

  >>> admins_team = webservice.get("/~admins").jsonBody()
  >>> sorted(admins_team.items())
  [(u'datecreated', u'2005-06-06T08:59:51.571899+00:00'),
   (u'displayname', u'Launchpad Administrators'),
   (u'member_memberships_collection_link',
    u'http://api.launchpad.dev/~admins/member_memberships'),
   (u'members_collection_link',
      u'http://api.launchpad.dev/~admins/members'),
   (u'name', u'admins'),
   (u'self_link', u'http://api.launchpad.dev/~admins'),
   (u'team_memberships_collection_link',
    u'http://api.launchpad.dev/~admins/team_memberships'),
   (u'teamowner_link', u'http://api.launchpad.dev/~sabdfl')]

A collection may be scoped to an element:

  >>> team_members = webservice.get("/~admins/members").jsonBody()
  >>> team_members = sorted(team_members)
  >>> len(team_members)
  11
  >>> team_members[0]['name']
  u'spiv'
  >>> team_members[-1]['name']
  u'kinnison'

But not every element may have that collection scoped to it:

  >>> print webservice.get("/~spiv/members").getStatus()
  404


== Custom operations ==

A collection may expose custom named operations in response to GET
requests. A named operation may do anything consistent with the nature
of a GET request, but it's usually used to serve search
results. Here's a custom operation on the collection of people, called
'people'.

  >>> def search_people(text):
  ...     return sorted(webservice.get(
  ...         "/people?_get=people&text=" + text).jsonBody())


  >>> [p['name'] for p in search_people("admins")]
  [u'admins', u'ubuntu-mirror-admins', u'rosetta-admins',
   u'launchpad-buildd-admins', u'shipit-admins']

  >>> [p['name'] for p in search_people("nosuchperson")]
  []

  >>> print webservice.get("/people?_get=people&text=")
  HTTP/1.1 400 Bad Request
  ...
  text: Required input is missing.
