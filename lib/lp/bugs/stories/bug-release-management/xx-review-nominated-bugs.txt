Review Nominated Bugs
=====================

Distribution Series
-------------------

From the distribution series bug page you can go to a page to review
all the bugs nominated for this series.

    >>> anon_browser.open('http://bugs.launchpad.dev/ubuntu/hoary')
    >>> anon_browser.getLink('Review nominations').click()
    >>> print anon_browser.title
    Bugs : Hoary : Bugs : Hoary (5.04) : Ubuntu

All the basic bug details are displayed.

    >>> from lp.bugs.tests.bug import print_bugtasks
    >>> print_bugtasks(anon_browser.contents)
    1  Firefox does not support SVG mozilla-firefox (Ubuntu) Medium New

There are no controls for approving/declining the nominations if the
user don't have permissions to do it.

    >>> user_browser.open('http://bugs.launchpad.dev/ubuntu/hoary')
    >>> user_browser.getLink('Review nominations').click()
    >>> print anon_browser.title
    Bugs : Hoary : Bugs : Hoary (5.04) : Ubuntu

    >>> print_bugtasks(user_browser.contents)
    1  Firefox does not support SVG  mozilla-firefox (Ubuntu) Medium  New

    >>> bug_listing = find_tag_by_id(user_browser.contents, 'bugs-table-listing')
    >>> def print_which_items_have_widgets(bug_listing):
    ...     for row in bug_listing('div', {'class': 'buglisting-row'}):
    ...         bug_id = extract_text(
    ...             row.find(None, {'class': 'bugnumber'})).replace('#', '')
    ...         has_input_controls = False
    ...         print "%s: %s" % (extract_text(bug_id), has_input_controls)
    >>> print_which_items_have_widgets(bug_listing)
    1: False

No button for submitting the form is shown, nor is the approve/decline
header:

    >>> user_browser.getControl('Save changes')
    Traceback (most recent call last):
    ...
    LookupError: label 'Save changes'

Someone with enough permissions sees controls for approving/declining
nominations.

    >>> admin_browser.open('http://bugs.launchpad.dev/ubuntu/hoary')
    >>> admin_browser.getLink('Review nominations').click()
    >>> print anon_browser.title
    Bugs : Hoary : Bugs : Hoary (5.04) : Ubuntu

    >>> print_bugtasks(admin_browser.contents)
    1  Firefox does not support SVG  mozilla-firefox (Ubuntu) Medium New

    >>> bug_listing = find_tag_by_id(admin_browser.contents, 'bugs-table-listing')
    >>> print_which_items_have_widgets(bug_listing)
    1: False

XXX wallyworld 2012-10-02 bug=1060015
The dynamic bug listings feature has broken the ability to manage nominations.
Some doc tests have been removed till the functionality is restored.
