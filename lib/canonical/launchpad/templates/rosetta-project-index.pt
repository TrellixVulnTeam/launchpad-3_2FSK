<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="rosetta">

<head>
    <title metal:fill-slot="title">Rosetta: <span
        tal:replace="context/title">Project Title</span></title>
    <!-- Plone style sheet -->
    <style type="text/css" media="screen">@import url(plone.css);</style>
    <!-- Rosetta style sheet -->
    <style type="text/css" media="screen">@import url(rosetta.css);</style>
</head>

<body>

<div metal:fill-slot="main">

    <h1>Translation overview: <span tal:replace="context/title">NAME</span></h1>

    <div style="float: right; clear: both; margin-top: 0.25em;">
    Project home page:
    <a href="http://project.home/page"
       tal:content="context/homepageurl|default"
       tal:attributes="href context/homepageurl|nothing">(None supplied)</a>
    </div>

    <p tal:content="context/description">
    Mozilla offers a full suite of integrated Internet applications including
    a web browser, e-mail client, address book, web page composer, Internet
    chat software and calendar application.
    </p>

<!-- Temporary manual override
        <select style="float: right; clear: both;">
            <option>All projects</option>
            <option selected="selected">Afrikaans</option>
            <option>Cymraeg</option>
            <option>Norsk</option>
        </select>
-->
    <p class="discreet">
    These language name headlines are based on the user preferences, if
    the user hasn't set anything, it's the stuff we can extract from
    browser/IP:
    </p>

    <div tal:condition="view/thereAreProducts">
        <div class="documentDescription">
        Here are the products available, select language from the
        pulldown, and click a product.
        </div>

        <table class="listing">
            <thead>
                <th>Product</th>
                <th>Translated</th>
                <th>Untranslated</th>
                <th>Graph</th>
            </thead>

            <tbody>
                <tr tal:repeat="product view/products">
                    <td><a tal:attributes="href
                        string:${product/name}/"
                        tal:content="product/title">Product Name</a></td>
                    <td><span tal:replace="product/poTranslated">0</span></td>
                    <td><span tal:replace="product/poUntranslated">0</span></td>
                    <td>
                    <img src="/++resource++green-bar.png"
                             height="15"
                             alt="Translated & non updated graph"
                             tal:condition="product/poNonUpdatesCount"
                             tal:attributes="width product/poNonUpdatesPercent;
                                             title string: Translated: ${product/poNonUpdatesPercent}%"
                        /><img src="/++resource++blue-bar.png"
                               height="15"
                               alt="Updated graph"
                               tal:condition="product/poUpdatesCount"
                               tal:attributes="width product/poUpdatesPercent;
                                               title string: Updates: ${product/poUpdatesPercent}%"
                        /><img src="/++resource++dwelled-bar.png"
                               height="15"
                               alt="Rosetta additions graph"
                               tal:condition="product/poRosettaCount"
                               tal:attributes="width product/poRosettaPercent;
                                               title string: Rosetta additions: ${product/poRosettaPercent}%"
                        /><img src="/++resource++red-bar.png"
                               height="15"
                               alt="Fuzzy graph"
                               tal:condition="product/poUntranslated"
                               tal:attributes="width product/poUntranslatedPercent;
                                               title string: Untranslated: ${product/poUntranslatedPercent}%" />
                    </td>
                </tr>
            </tbody>
        </table>

    </div> <!-- tal:condition="view/thereAreProducts -->

    <div tal:condition="not: view/thereAreProducts">
        <p>
        Rosetta doesn't currently know of any product for
        <span tal:content="context/title">project title</span>.
        </p>
    </div>

</div>

</body>
</html>
