It should be possible to add a external web reference to any bug. Using
the bug 2 of the sample data, that doesn't have any external web
reference, we will check the Add Web Reference Page, add a new external reference to it, and test if the edit link is working.

Make sure we can view the Add Web Reference Page

  >>> browser.addHeader('Authorization', 'Basic test@canonical.com:test')
  >>> browser.open('http://localhost/products/ubuntu/+bug/2/+addurl')

  >>> 'Add Web link' in browser.contents
  True

Now we can test if we can add a external web reference in the page

  >>> browser.getControl('URL').value = 'http://www.sample.com'
  >>> browser.getControl('Title').value = 'Sample Person Ref Page'
  >>> browser.getControl('Add').click()

We're redirected to the bug page

  >>> browser.url
  'http://localhost/products/ubuntu/+bug/2'

Now we should see the Link added to the bug page

  >>> browser.getLink('Sample Person Ref Page').url
  'http://www.sample.com'

And now we test if we can access the Web Reference Edit Page

  >>> url = 'http://localhost/products/ubuntu/+bug/2/references/1/+edit'
  >>> browser.getLink(url=url).click()

  >>> 'Change Web link' in browser.contents
  True

We should also be able to access the reference page without the +edit

  >>> browser.open('http://localhost/products/ubuntu/+bug/2/references/1') 

  >>> 'Change Web link' in browser.contents
  True

  >>> browser.getControl('URL').value
  'http://www.sample.com'
  >>> browser.getControl('Title').value
  'Sample Person Ref Page'
