<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template_2col/master"
      i18n:domain="launchpad">

  <body>

    <metal:leftportlets fill-slot="portlets_one">
      <div tal:replace="structure context/pofile/@@+portlet-about" />
      <div tal:replace="structure context/pofile/@@+portlet-details" />
      <div tal:replace="structure context/pofile/@@+portlet-quickhelp" />
      <div tal:replace="structure context/pofile/@@+portlet-stats" />
    </metal:leftportlets>

    <metal:rightportlets fill-slot="portlets_two">
      <div tal:replace="structure context/pofile/@@+portlet-translators" />
      <div tal:replace="structure context/pofile/@@+portlet-contributors" />
    </metal:rightportlets>

    <div metal:fill-slot="main">

      <div>You are translating</div>
      <h1>
        <tal:productseries
          condition="exists:context/pofile/potemplate/productseries/displayname"
          tal:replace="context/pofile/potemplate/productseries/displayname"
        />
        <tal:sourcepackage
          condition="exists:context/pofile/potemplate/sourcepackagename"
          replace="context/pofile/potemplate/sourcepackagename"
        />
        into
        <tal:language replace="context/pofile/language/englishname" />
      </h1>
      <div class="discreet">
        Template: <tal:template replace="context/pofile/title" />
      </div>

      <tal:havepluralforms condition="view/has_plural_form_information">

        <!-- Alternative suggestions. -->
        <div metal:define-macro="editform">
          <form method="POST" action="+translate">
            <input type="hidden" name="start" value=""
                   tal:attributes="value view/start" />
            <input type="hidden" name="batch" value=""
                   tal:attributes="value view/size" />
            <tal:comment replace="nothing">
              Suggestions from this alternative language will be displayed as
              well as suggestions from the translation language. In the case
              where two languages are very similar it will often be useful to
              show the second language as a source of suggestions when
              translating into the first.
            </tal:comment>
            <label>Make suggestions from:</label>
            <tal:language-widget content="structure view/alternative_language_widget" />
            <input
              type="submit" name='select_alternate_language' value="Change" />
          </form>
        </div>

        <!-- The translation form. -->
        <form method="POST" action="+translate">
          <!-- the hidden elements -->
          <input type="hidden" name="alt"
                 tal:condition="view/second_lang_code"
                 tal:attributes="value view/second_lang_code" />
          <table class="listing" style="margin-top: 0.5em;">
            <thead>
              <tr class="results">
                <td colspan="4">
                  <!-- Paging doodads. -->
                  <table tal:define="
                    first_page_url view/batchnav/firstBatchURL;
                    prev_page_url view/batchnav/prevBatchURL;
                    next_page_url view/batchnav/nextBatchURL;
                    last_page_url view/batchnav/lastBatchURL;
                    total view/batchnav/batch/total"
                    style="width: 100%;"
                    >
                    <tbody>
                      <tr>
                        <td style="white-space: nowrap">
                          Message
                          <strong tal:content="view/batchnav/batch/startNumber">1</strong>
                          of
                         <span tal:replace="total">42</span>
                        </td>
                        <td style="text-align: right; white-space: nowrap">
                          <tal:first condition="first_page_url">
                            <a tal:attributes="href first_page_url"
                              rel="first">&laquo;&nbsp;First</a>
                          </tal:first>
                          <span tal:condition="not:first_page_url"
                                class="unavailable">&laquo;&nbsp;First</span>
                          <tal:previous condition="prev_page_url">
                            &mdash;
                            <a tal:attributes="href prev_page_url"
                               rel="previous">Previous</a>
                          </tal:previous>
                          <span tal:condition="not:prev_page_url"
                                class="unavailable">&mdash; Previous</span>
                          <tal:intermediaries repeat="page_url view/batchnav/batchPageURLs">
                            <a
                              tal:condition="python:len(page_url) > 1"
                              tal:content="python:page_url.keys()[0]"
                              tal:attributes="href python:page_url.values()[0]"
                              >[1]</a>
                          </tal:intermediaries>
                          <tal:next condition="next_page_url">
                            &mdash;
                            <a tal:attributes="href next_page_url" rel="next"
                            >Next</a>
                          </tal:next>
                          <span
                            tal:condition="not:next_page_url"
                            class="unavailable"
                            >&mdash; Next</span>
                          <tal:last condition="last_page_url">
                            &mdash;
                            <a tal:attributes="href last_page_url" rel="last"
                            >Last&nbsp;&raquo;</a>
                          </tal:last>
                          <span
                            tal:condition="not:last_page_url"
                            class="unavailable"
                          >&mdash; Last&nbsp;&raquo;</span>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </td>
              </tr>
            </thead>
            <tbody>
              <tal:comment replace="nothing">
                We can control the amount of entries we could get from
                suggestions defining 'maxentries'
                This should be moved to python code, for more information,
                look at bug #41858.
              </tal:comment>
              <tal:maxentries define="maxentries python:None">
                <tal:block define="pomsgset_view nocall:view">
                  <metal:pomsgsetview
                    use-macro="view/@@+pomsgset-translate/pomsgset-view"
                    />
                </tal:block>
              </tal:maxentries>
            </tbody>
            <tfoot>
              <tr>
                <th colspan="4">
                  <input type="submit"
                         name="submit_translations"
                         value="Save &amp; Continue"
                         style="text-align: right;"
                         tal:attributes="tabindex view/generateNextTabIndex" />
                </th>
              </tr>
            </tfoot>
          </table>

        </form>
      </tal:havepluralforms>
    </div>

  </body>
</html>
