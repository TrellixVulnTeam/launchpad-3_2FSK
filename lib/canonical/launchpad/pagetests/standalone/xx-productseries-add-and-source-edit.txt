Open the "Upstream Source Import" page for a series.

  >>> print http(r"""
  ... GET /products/firefox/trunk/+source HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  ...
  Content-Type: text/html;charset=utf-8
  ...
  ...<h1>Upstream source import</h1>...
  ...

Add CVS source import details.

  >>> print http(r"""
  ... POST /products/firefox/trunk/+source HTTP/1.1
  ... Accept-Language: en-us,en;q=0.5
  ... Content-Type: application/x-www-form-urlencoded
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ...
  ... rcstype=cvs&cvsroot=%3Apserver%3Aanonymous%40cvs-mirror.mozilla.org%3A%2Fcvsroot&cvsmodule=mozilla&cvsbranch=main&edit_productseries_source=Update+RCS+Details""")
  HTTP/1.1 303 See Other
  ...
  Location: http://.../products/firefox/trunk

We check if the info we just entered on the form is displayed correctly

  >>> print http(r"""
  ... GET /products/firefox/trunk/ HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  ...
  ...<td>CVS root:</td>...
  ...<td>:pserver:anonymous@cvs-mirror.mozilla.org:/cvsroot</td>...
  ...

Test if we can add the FTP Details

  >>> print http(r"""
  ... POST /products/alsa-utils/trunk/+source HTTP/1.1
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... Content-Type: application/x-www-form-urlencoded
  ... 
  ... rcstype=cvs&cvsroot=%3Apserver%3Aanonymous%40anoncvs.gnome.org%3A%2Fcvs%2Falsa&cvsmodule=alsa-utils&cvsbranch=alsa&releaseroot=ftp%3A%2F%2Fwww.mozilla.org%2Fpub%2Falsa&releasefileglob=alsa.*.src.tgz&edit_productseries_source=Update+RCS+Details""")
  HTTP/1.1 303 See Other
  ...
  Location: http://.../products/alsa-utils/trunk

And we test if the validator is working adding the same CVS details to
another product

  >>> print http(r"""
  ... POST /products/netapplet/trunk/+source HTTP/1.1
  ... Accept-Language: en-us,en;q=0.5
  ... Content-Type: application/x-www-form-urlencoded
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ...
  ... rcstype=cvs&cvsroot=%3Apserver%3Aanonymous%40cvs-mirror.mozilla.org%3A%2Fcvsroot&cvsmodule=mozilla&cvsbranch=main&edit_productseries_source=Update+RCS+Details""")
  HTTP/1.1 200 Ok
  ...
  ...CVS repository details already in use by another product...
  ...

Now we test if we can edit again changing the RCS

  >>> print http(r"""
  ... POST /products/alsa-utils/trunk/+source HTTP/1.1
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... Content-Type: application/x-www-form-urlencoded
  ... 
  ... rcstype=svn&svnrepository=svn%3A%2F%2Falsa.com&releaseroot=ftp%3A%2F%2Fwww.mozilla.org%2Fpub%2Falsa&releasefileglob=alsa.*.src.tgz&edit_productseries_source=Update+RCS+Details""")
  HTTP/1.1 303 See Other
  Content-Length: 0
  ...
  Location: http://.../products/alsa-utils/trunk

Test if the RCS details validator is working properly by adding the same
svnrepository to another ProductSeries

  >>> print http(r"""
  ... POST /products/firefox/1.0/+source HTTP/1.1
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... Content-Type: application/x-www-form-urlencoded
  ... 
  ... rcstype=svn&svnrepository=svn%3A%2F%2Falsa.com&releaseroot=ftp%3A%2F%2Fwww.mozilla.org%2Fpub%2Falsa&releasefileglob=alsa.*.src.tgz&edit_productseries_source=Update+RCS+Details""")
  HTTP/1.1 200 Ok
  ...
  ...SVN repository details already in use by another product...
  ...
