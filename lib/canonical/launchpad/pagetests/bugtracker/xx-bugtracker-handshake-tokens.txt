= Handling BugTracker handshake tokens =

Launchpad can generate LoginTokens which can then be used to
authenticate it with remote bug trackers. Generating these tokens is
done using the internal XML-RPC service.

    >>> bugtracker_api = xmlrpclib.ServerProxy(
    ...     'http://xmlrpc-private.launchpad.dev:8087/bugs',
    ...     transport=XMLRPCTestTransport())

    >>> from zope.component import getUtility
    >>> from canonical.launchpad.xmlrpc.bug import ILoginTokenSet
    >>> token_id = bugtracker_api.newBugTrackerToken()
    >>> token = getUtility(ILoginTokenSet).get(token_id)

Browsing to the token's +bugtracker-handshake URL will result in an
error if we attempt it as a GET request.

    >>> from canonical.launchpad.webapp import canonical_url
    >>> token_url = canonical_url(
    ...     token, request=test_request, rootsite='mainsite',
    ...     view_name='+bugtracker-handshake')

    >>> print token_url
    http://launchpad.dev/token/.../+bugtracker-handshake

    >>> anon_browser.open(token_url)
