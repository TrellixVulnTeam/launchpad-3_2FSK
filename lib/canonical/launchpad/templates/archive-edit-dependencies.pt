<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="launchpad"
  >
<body>

<div metal:fill-slot="main">

  <h1>Edit dependencies for <tal:title replace="context/title" /></h1>

  <div metal:use-macro="context/@@launchpad_form/form">

    <div class="form" metal:fill-slot="widgets">

      <table>

        <tal:primary_dependency
          define="widget nocall:view/widgets/primary_dependencies|nothing"
          condition="widget">
          <metal:widget
            metal:use-macro="context/@@launchpad_form/widget_row" />
        </tal:primary_dependency>

        <tal:add_dependency
          define="widget nocall:view/widgets/dependency_candidate|nothing"
          condition="widget">
          <metal:widget
            metal:use-macro="context/@@launchpad_form/widget_row" />
        </tal:add_dependency>

        <tr tal:condition="not: view/has_dependencies">
          <td></td>
          <td>
            <p id="empty-dependencies"
            ><i>No dependencies recorded for this PPA yet.</i></p>
          </td>
        </tr>

        <tal:dependencies
          define="widget nocall:view/widgets/selected_dependencies|nothing"
          condition="view/has_dependencies">
          <metal:widget
            metal:use-macro="context/@@launchpad_form/widget_row" />
        </tal:dependencies>
      </table>

   </div> <!-- widgets -->

  </div> <!-- launchpad_form -->

<script type="text/javascript">
   YUI().use("node-style", function(Y) {
       var ppa_dependencies = Y.get(".ppa-dependencies div");
       if (ppa_dependencies == null) {
           return;
       }
       var labels = ppa_dependencies.queryAll("label")
       labels.each(function(v, k, items) {
           var checkbox = Y.get(v.get("firstChild"));
           checkbox.on("click", function(e) {
               var link = Y.get(v.get("lastChild"));
               if (e.currentTarget.get("checked")) {
                   link.setStyle('color', 'red');
                   link.setStyle('text-decoration', 'underline');
                   console.log(
                       "Style: " + link.getStyle('text-decoration'));
               }
               else {
                   link.setStyle('color', 'blue');
                   link.setStyle('text-decoration', 'none');
                   console.log(
                       "Style: " + link.getStyle('text-decoration'));
               }
           });
       });

   });
</script>


</div> <!--main -->

</body>
</html>
