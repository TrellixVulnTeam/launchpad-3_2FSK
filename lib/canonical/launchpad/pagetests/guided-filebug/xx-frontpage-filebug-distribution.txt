= Filing bugs on a Distribution from the front page =

On the Bugs front page there is a link to file a bug.

    >>> user_browser.open('http://bugs.launchpad.dev/')
    >>> user_browser.getLink(url='+filebug').click()

    XXX: should be 'http://bugs.launchpad.dev/+filebug'
    >>> user_browser.url
    'http://bugs.launchpad.dev/bugs/+filebug'

Since it's not known on what the bug should be filed on, the page asks
for either a product or a package in a distribution.

    >>> user_browser.getControl('Product') is not None
    True
    >>> user_browser.getControl('Distribution') is not None
    True
    >>> user_browser.getControl('Package') is not None
    True

After we selected a target and entered a summary, a list of possible
ducplicates are presented.

    >>> user_browser.getControl('Distribution').selected = True
    >>> user_browser.getControl(
    ...     name='field.bugtarget.distribution').value = ['ubuntu']
    >>> user_browser.getControl('Summary').value = 'Evolution crashes'
    >>> user_browser.getControl('Continue').click()

    >>> from canonical.launchpad.ftests.bug import print_bugs_table
    >>> print_bugs_table(user_browser.contents, "similar-bugs")
    9 Thunderbird crashes

Entering a description and submitting the bug takes the user to the bug
page.

    >>> user_browser.getControl('Further information').value = 'Crash.'
    >>> user_browser.getControl('Submit Bug Report').click()
    >>> user_browser.url
    'http://bugs.launchpad.dev/ubuntu/+bug/...'
    >>> user_browser.title
    'Bug #... in Ubuntu: ...Evolution crashes...'

== Advanced filebug page ==

From the Project filebug page it's possible to go to the advanced
filebug page.

    XXX user_browser.open('http://launchpad.dev/gnome')
    XXX user_browser.getLink(url='+filebug').click()
    XXX user_browser.getLink('complicated bug filing form').click()
    XXX user_browser.url
    'http://launchpad.dev/gnome/+filebug-advanced'

    XXX user_browser.getControl('Product').value = ['evolution']
    XXX user_browser.getControl('Summary').value = 'Evolution crashes'
    XXX user_browser.getControl('Further information').value = 'Crash.'
    XXX user_browser.getControl('Submit Bug Report').click()
    XXX user_browser.url
    'http://launchpad.dev/evolution/+bug/...'
    XXX user_browser.title
    'Bug #... in evolution (upstream): ...Evolution crashes...'
