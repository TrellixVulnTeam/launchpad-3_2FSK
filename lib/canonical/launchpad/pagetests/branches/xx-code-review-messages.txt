= Code Review Messages =

Let's get us a code review message and canonical_url

    >>> login('foo.bar@canonical.com')
    >>> message = factory.makeCodeReviewMessage('my subject', 'my body')
    >>> message_url = canonical_url(message)
    >>> print message.message.text_contents
    my body
    >>> logout()

Now, open its home page.

    >>> anon_browser.open(message_url)
    >>> print anon_browser.title
    Code review comment
    >>> body = find_tag_by_id(anon_browser.contents, 'comment-body')
    >>> print extract_text(body)
    my body
    >>> subject = find_tag_by_id(anon_browser.contents, 'comment-subject')
    >>> print extract_text(subject)
    my subject
    >>> from_ = find_tag_by_id(anon_browser.contents, 'comment-from')
    >>> print extract_text(from_)
    From Person-name21

We can reply to a comment.

    >>> anon_browser.getLink('Reply').click()
    >>> anon_browser.url == message_url + '/+reply'
    True
