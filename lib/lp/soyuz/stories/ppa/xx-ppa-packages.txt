The PPA packages page
=====================

The PPA packages page is accessible from the PPA page.
NOTE: The PPA page will be updated in a following branch.

    >> anon_browser.open('http://launchpad.dev/~cprov/+archive/ppa')
    >> anon_browser.getLink('View package details').click()
    >> anon_browser.url
    'http://launchpad.dev/~cprov/+archive/ppa/+packages'

    >>> anon_browser.open('http://launchpad.dev/~cprov/+archive/ppa/+packages')

    >>> print anon_browser.title
    Packages in ...PPA for Celso Providelo...

While navigating around the PPA the "structural location" includes a PPA:

    >>> print_location(anon_browser.contents)
    Hierarchy: Celso Providelo > PPA for Celso Providelo
    Tabs:
    * Overview (selected) - http://launchpad.dev/~cprov
    * Code - http://code.launchpad.dev/~cprov
    * Bugs - http://bugs.launchpad.dev/~cprov
    * Blueprints - http://blueprints.launchpad.dev/~cprov
    * Translations - http://translations.launchpad.dev/~cprov
    * Answers - http://answers.launchpad.dev/~cprov
    Main heading: Packages in ...PPA for Celso Providelo...

You can see the build details of the packages in the archive by using
the 'View all builds' link.

    >>> anon_browser.getLink('View all builds').click()
    >>> print anon_browser.title
    Builds for PPA for Celso Providelo

    >>> print anon_browser.url
    http://launchpad.dev/~cprov/+archive/ppa/+builds


The rest of the builds page functionality is tested generically at
in xx-builds-pages.txt.


Package totals
--------------

A summary of the package totals is presented in a portlet (although the
actual values are loaded in asynchronously.

    >>> anon_browser.open('http://launchpad.dev/~cprov/+archive/ppa/+packages')
    >>> package_totals = find_portlet(
    ...     anon_browser.contents, "Package totals")
    >>> print extract_text(package_totals)
    Package totals
    ...
    Package counters and estimated archive size temporarily
    unavailable.

A summary of the builds for the PPA is also presented.

    >>> build_summary = find_portlet(
    ...     anon_browser.contents, "View all builds Package build summary")
    >>> print extract_text(build_summary)
    View...
    A total of 4 builds have been dispatched for this PPA.
    Completed builds
    3 successful
    1 failed

Successful builds link directly to the builds filter.

    >>> successful_builds_link = anon_browser.getLink('3 successful')
    >>> print successful_builds_link.url
    http://launchpad.dev/~cprov/+archive/ppa/+builds?build_state=built

