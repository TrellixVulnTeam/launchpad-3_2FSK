<tal:layout define="columns1 default">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    lang="en"
    metal:use-macro="context/@@main_template/master"
    i18n:domain="bazaar"
>
  <body>
    <div metal:fill-slot="main">
      <div
        id="applications"
        tal:content="structure context/@@+applicationbuttons/code"
      />
      <div id="mainarea" class="tab-code">
        <h1>Code</h1>
        <div class="t">
          <div class="u">
            <div class="v">
              <div class="w">
                <div class="x">
                  <div class="y">
                    <div class="z">
                      <div id="container">
                        <p id="application-summary">
                          Launchpad lets you track branches of any product that
                          uses the <a href="http://bazaar-vcs.org/">Bazaar</a>
                          version control system &mdash; and imports many
                          <abbr>CVS</abbr>, <abbr>SVN</abbr>, and git projects,
                          so you can use Bazaar with those too.
                        </p>
                        <ul class="buttons">
                          <li>
                            <a href="/+tour">
                              <img
                                  alt="Take a tour"
                                  src="/+icing/but_lrg_takeatour.gif"
                                  />
                            </a>
                          </li>
                          <li>
                            <a href="/+addbranch">
                              <img
                                  alt="Register a branch"
                                  src="/+icing/but_lrg_registerabranch.gif"
                                  />
                            </a>
                          </li>
                          <li>
                            <a href="/+import">
                              <img
                                  alt="Import your project"
                                  src="/+icing/but_lrg_importyourproject.gif"
                                  />
                            </a>
                          </li>
                          <li>
                            <a href="/products/+with-code">
                              <img
                                alt="Products with code"
                                src="/+icing/but_lrg_productswithcode.gif"
                              />
                            </a>
                          </li>
                        </ul>
                        <div class="columns">
                          <div class="three column left">
                            <h2>Recent imports</h2>
                            <ul>
                              <li tal:repeat="branch view/recentlyImportedBranches">
                                <a tal:attributes="href branch/fmt:url"
                                   tal:content="branch/displayname/fmt:shorten/40">
                                Title Goes Here!</a>
                              </li>
                            </ul>
                          </div>
                          <div class="three column middle">
                            <h2>Recently registered</h2>
                            <ul>
                              <li tal:repeat="branch view/recentlyRegisteredBranches">
                                <a tal:attributes="href branch/fmt:url"
                                   tal:content="branch/displayname/fmt:shorten/40">
                                Title Goes Here!</a>
                              </li>
                            </ul>
                          </div>
                          <div class="three column right">
                            <h2>Recently changed</h2>
                            <ul>
                              <li tal:repeat="branch view/recentlyChangedBranches">
                                <a tal:attributes="href branch/fmt:url"
                                   tal:content="branch/displayname/fmt:shorten/40">
                                Title Goes Here!</a>
                              </li>
                            </ul>
                          </div>
                        </div>
                        <form class="central" action="/products" method="get">
                          <p
                            xtal:condition="view/error_message"
                            xtal:content="view/error_message"
                            class="error message"
                          ><!-- Error message. --></p>
                          <input
                            id="text"
                            type="text"
                            name="text"
                            size="50"
                          />
                          <input
                            type="submit"
                            value="Find a Project"
                          />
                        </form>
                        <div class="clear"></div>
                        <div id="application-footer">
                          <div>
                            <strong tal:content="view/branch_count">123</strong>
                            branches registered in
                            <strong tal:content="view/product_count">1234</strong>
                            products
                          </div>
                          <div>
                            <strong tal:content="view/import_count">123</strong>
                            imported branches
                          </div>
                          <div>
                            <strong tal:content="view/branches_with_bugs_count">12</strong>
                            branches associated with bug reports
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div><!--mainarea-->
    </div><!--main-->
    <div metal:fill-slot="help">
      <p>
        Launchpad is integrated with the
        <a href="http://bazaar-vcs.org/">Bazaar</a> version control system.
        (<a href="http://bazaar-vcs.org/WhyUseBzr">Why use Bazaar?</a>)
      </p>
      <p>
        To register a branch so other people can find it,
        go to the page of the product the branch belongs to,
        and click &ldquo;Register Bazaar Branch&rdquo;.
        Launchpad will automatically maintain a mirror of the branch.
      </p>
      <p>
        You can register a branch on behalf someone else from that
        person&rsquo;s page,
        or by setting the author field when registering a branch on a product.
        (The URL of the branch mirror is based on the nickname of
        the registrant, not the author.)
      </p>
      <p>
        If the project you are working on uses CVS or Subversion, Launchpad can
        produce a Bazaar branch that is synchronised daily with the HEAD or
        trunk of the project, so you can use Bazaar to manage your own changes
        even if the project leaders do not.
        To set up a VCS import, edit the source details of the trunk release
        series of the product.
      </p>
      <p>
        Launchpad also provides hosting for Bazaar branches.
        First, you need to register a SSH key from your person's page. Click on
        your name at the top of any Launchpad page when logged in to go to your
        person's page.
        To create a hosted branch, use the <code>bzr push</code> command. The
        destination URL must be of the form:
      </p>
      <blockquote>
        <code>sftp://<var>user</var>@bazaar.<wbr></wbr>launchpad.net/<wbr></wbr>~<var>registrant</var>/<wbr></wbr><var>product</var>/<wbr></wbr><var>branch</var></code>
      </blockquote>
      <p>
        where <var>user</var> is your short name in Launchpad
        (omitted if it is the same as your system login or is specified in
        <code>ssh</code> configuration),
        <var>registrant</var> is your short name in Launchpad
        (which can be a team name for a shared branch),
        <var>product</var> is the Launchpad product the branch belongs to,
        and <var>name</var> is the short name of the branch
        (if you are uploading your main development branch,
        <code>devel</code> is a good generic name).
      </p>
      <p>
        For example, if your Launchpad user name were <code>john</code>, and
        you wanted to upload a personal branch of the <code>froboize</code>
        product, you could use the following command:
      </p>
      <blockquote>
        bzr push sftp://john@bazaar.launchpad.net/~john/froboize/devel
      </blockquote>
      <p>
        To create a shared branch to which multiple people can commit and push,
        as with CVS or Subversion, use the name of a team you belong to as the
        <i>registrant</i>. All the members of that team will be able to edit the
        branch details and to push to that branch.
      </p>
    </div>
  </body>
</html>
</tal:layout>
<!-- 1-0 inprogress Needs lists of recent imports (bug 79036), registered branches (bug 79038), and changed branches (bug 79041). -->
