= Bug tracker information =

If a product doesn't use Launchpad to track its bugs, there's
information about the product's bug tracker when adding an upstream
task.

    >>> user_browser.open(
    ...    'http://launchpad.dev/firefox/+bug/1/+choose-affected-product')
    >>> user_browser.getControl('Project').value = 'gnome-terminal'
    >>> user_browser.getControl('Continue').click()
    >>> print user_browser.contents
    <...GNOME Terminal uses
    <a href="http://bugzilla.gnome.org/bugs">GnomeGBug GTracker</a>
    to track its bugs...

    >>> def print_linking_form(browser):
    ...     link_upstream_how_radio = user_browser.getControl(
    ...         name='field.link_upstream_how')
    ...     print 'Link upstream how:'
    ...     for option in link_upstream_how_radio.options:
    ...         if option in link_upstream_how_radio.value:
    ...             print '  (x) %s' % option
    ...         else:
    ...             print '  ( ) %s' % option
    ...     print 'Bug URL: %r' % (
    ...         user_browser.getControl(name='field.bug_url').value)
    ...     print 'Upstream Email: %r' % (
    ...         user_browser.getControl(
    ...             name='field.upstream_email_address_done').value)

    >>> print_linking_form(user_browser)
    Link upstream how:
      (x) LINK_UPSTREAM
      ( ) EMAIL_UPSTREAM_DONE
      ( ) IS_UPSTREAM
    Bug URL: ''
    Upstream Email: ''

If a product doesn't use Launchpad, and doesn't have a bug tracker
specified, it will simply say that it doesn't use Launchpad to track
its bugs and prompt for a URL or an email address.

    >>> user_browser.open(
    ...    'http://launchpad.dev/firefox/+bug/1/+choose-affected-product')
    >>> user_browser.getControl('Project').value = 'thunderbird'
    >>> user_browser.getControl('Continue').click()
    >>> print user_browser.contents
    <...Mozilla Thunderbird doesn't use Launchpad to track its bugs...

    >>> print_linking_form(user_browser)
    Link upstream how:
      (x) LINK_UPSTREAM
      ( ) EMAIL_UPSTREAM_DONE
      ( ) IS_UPSTREAM
    Bug URL: ''
    Upstream Email: ''

For products using Launchpad, the linking upstream widgets won't even
appear.

    >>> user_browser.open(
    ...    'http://launchpad.dev/firefox/+bug/1/+choose-affected-product')
    >>> user_browser.getControl('Project').value = 'evolution'
    >>> user_browser.getControl('Continue').click()

    >>> print_linking_form(user_browser)
    Traceback (most recent call last):
    ...
    LookupError: name 'field.link_upstream_how'
