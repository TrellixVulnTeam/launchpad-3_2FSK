
<!--
    This is the main bug page assignments portal. It should show only
    the assignments that are critical to see in the current context.
    Other assignments, in all their glory, can be displayed on a
    specialised assignments page.
-->

<table class="listing rowNavigation" style="width: 100%;">
    <thead>
        <tr>
            <th title="Assignment to...">
                <img src="/++resource++download.png" 
                     title="Product Assignment" />Upstream /
                 <img src="/++resource++product_icon.gif" 
                     title="Package Assignment" />
                     Package</th>
            <th title="State">State</th>
            <th title="Severity">Sev</th>
            <th title="Priority">Pri</th>
            <th title="Assignee">Assigned to</th>
        </tr>
    </thead>


    <tbody>
        <!-- Upstream Assignments -->
        <tr tal:repeat="bugass context/productassignments"
            tal:attributes="onclick string:window.location='productassignments/${bugass/id}/+edit';">
           
            <td>
                <a href=""
                    tal:condition="nothing"
                    tal:attributes="href string:/malone/projects/${bugass/product/project/name}/${bugass/product/name}"
                    tal:content="bugass/product/fullname">
                    $Project.name $Product.name</a>
                <span tal:omit-tag="" tal:content="bugass/product/fullname">
                    $Project.name $Product.name
                </span>
                <img src="/++resource++download.png" 
                     title="Product Assignment" />
            </td>
            
            <td><acronym tal:content="bugass/bugstatus/lp:BugAssignmentStatus"
                         tal:attributes="title
                         string:XXX${bugass/bugstatus/lp:BugAssignmentStatus}">
                $ProductBugAssignment.bugstatus
                </acronym>
            </td>

            <td>
                <acronym title="Critical
This bug is essential to fix as soon as possible. It affects system stability, data integrity and / or remote access security."
                         tal:content="bugass/severity/lp:BugSeverity"
                         tal:attributes="class
                         string:severity${bugass/severity/lp:BugSeverity},
                                         title
                                         string:severity${bugass/severity/lp:BugSeverity}"
                >Critical</acronym>
            </td>

            <td>
                <acronym class="priorityMedium"
                         title="Medium Priority. This is a medium priority bug for the maintainer."
                         tal:content="bugass/priority/lp:BugPriority"
                         tal:attributes="class string:priority${bugass/priority/lp:BugPriority}"
                >Medium</acronym>
            </td>
            
            <td title="Assigned To">
                <a tal:condition="bugass/assignee"
                   tal:attributes="href string:/malone/bugs/assigned?name=${bugass/assignee/name}">
                   <img src="/++resource++user.gif" alt="" 
                    /><span tal:replace="bugass/assignee/browsername">
                    assignee.browsername
                    </span>
                </a>
            </td>
        
        </tr>


        <!-- Distribution Package Assignments -->
        <tr tal:repeat="bugass context/packageassignments"
            tal:attributes="onclick string:window.location='packageassignments/${bugass/id}/+edit';">
           
            <td>
                <a href=""
                    tal:condition="nothing"
                    tal:attributes="href string:/malone/packages/${bugass/sourcepackage/name}"
                    tal:content="bugass/sourcepackage/name">
                    $SourcePackageName.name
                </a>
                <span tal:omit-tag=""
                    tal:content="bugass/sourcepackage/name">
                    $SourcePackageName.name
                </span>
                <img src="/++resource++product_icon.gif" 
                     title="Package Assignment" />
            </td>
            
            <td tal:content="bugass/bugstatus/lp:BugAssignmentStatus">
                $SourcePackageBugAssignment.bugstatus
            </td>

            <td>
                <acronym title="Critical Severity.
This bug is essential to fix as soon as possible. It affects system stability, data integrity and / or remote access security."
                         tal:content="bugass/severity/lp:BugSeverity"
                         tal:attributes="class string:severity${bugass/severity/lp:BugSeverity}"
                >C</acronym>
            </td>

            <td>
                <acronym class="priorityMedium"
                         title="Medium Priority. This is a medium priority bug for the maintainer."
                         tal:content="bugass/priority/lp:BugPriority"
                         tal:attributes="class string:priority${bugass/priority/lp:BugPriority}"
                >=</acronym>
            </td>
            
            <td title="Mr. FixMe">
                <a tal:condition="bugass/assignee"
                   tal:attributes="href string:/malone/bugs/assigned?name=${bugass/assignee/name}">
                   <img src="/++resource++user.gif" alt="" 
                    /><span tal:replace="bugass/assignee/browsername">
                    loginname
                    </span>
                </a>
            </td>
        
        </tr>

    </tbody>
</table>

<a href="productassignments/+new"
    style="font-size: 85%; float: right; display: inline; clear: both; text-decoration: none;"
    title="Mark this bug as occurring upstream">
    <img src="/++resource++add.gif" alt="+" />
    File Against Upstream...
</a>

<a href="packageassignments/+new"
    style="font-size: 85%; float: right; display: inline; clear: both; text-decoration: none;"
    title="Mark this bug as occurring in another package">
    <img src="/++resource++add.gif" alt="+" />
    File Against Package...
</a>
                
