<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
</metal:leftportlets>

<div metal:fill-slot="main">

  <h1>Products in Launchpad</h1>

  <form method="get">
  
    <table>
      <tr>
        <td>
          <input name="text" size="35" tal:attributes="value view/text" />
          <input tal:condition="view/searchrequested"
            type="submit"
            value="Search Again"
            />
          <input tal:condition="not: view/searchrequested"
            type="submit"
            value="Search"
            />
        </td>
      </tr>
    </table>

    <p class="formHelp">
      Enter any part of the product name, title or
      description.
    </p>

  </form>

  <tal:searching condition="view/searchrequested">

    <table
      tal:condition="view/matches"
      tal:define="results view/searchresults"
    >
      <thead>
        <tr class="results">
          <td>
            <span tal:replace="view/matches">3</span>
            <span tal:condition="python: view.matches == 1">result</span>
            <span tal:condition="python: view.matches != 1">results</span>
          </td>
        </tr>
      </thead>
      <tbody>
        <tr tal:repeat="product results">
          <td tal:content="structure product/@@+listing-detailed" />
        </tr>
      </tbody>
    </table>
        <p tal:condition="not: view/matches">
          No products matching
          &#8220;<span tal:replace="view/text">moz</span>&#8221;
          were found.
        </p>

  </tal:searching>
  <tal:no_search condition="not: view/searchrequested">

    <h2>Most recently registered</h2>

    <div tal:repeat="product context/latest"
         tal:replace="structure product/@@+listing-detailed" />

  </tal:no_search>

</div>

</body>
</html>
