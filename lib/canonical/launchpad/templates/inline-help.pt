<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  i18n:domain="launchpad"
>
<head>
  <title>Inline help macros</title>
</head>
<body>


<metal:wiki-help
   define-macro="fromwiki"
   tal:define="wikiurl string:https://help.launchpad.net;
	       fullurl string:${wikiurl}/${wikipage}">
  <span class="help-link">
    (<a
	target="help"
	class="inline-help"
	tal:attributes="href string:${fullurl}">
      <span metal:define-slot="label">What&rsquo;s&nbsp;this?</span></a>)
  </span>
</metal:wiki-help>

<!-- XXX A real hack gets us a random help ID.

     Instead we need to use a helper on the view: view/help:next_id
  -->
<metal:help-fragment
   define-macro="fromhere"
   tal:define="helpid python: 'inline-help' + str(modules['random'].random())">
  <span class="help-link">
    (<a
	target="help"
	class="inline-help"
	href="#"
	tal:attributes="id string:${helpid}">
      <span metal:define-slot="label">What&rsquo;s&nbsp;this?</span></a>)
  </span>
  <div
     class="invisible"
     tal:attributes="id string:${helpid}-content">
    <div metal:define-slot="content" class="help-content"></div>
  </div>
</metal:help-fragment>

</body>
</html>
