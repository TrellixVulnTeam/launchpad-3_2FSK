<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="rosetta">

<body metal:fill-slot="main">

<tal:testvalues define="selection python: {'title':'Mozilla Firefox',
                         'summary':'''Mozilla Firefox is a streamlined 
                               edition of the Mozilla browser,
                               featuring pop-up blocking and a 
                               tabbed interface.'''};
                        
                        searchstring string:Firefox;
                        
                        searchresults python: [ 
                        {'title':'Mozilla Firefox',
                         'summary':'''Mozilla Firefox is a streamlined 
                               edition of the Mozilla browser,
                               featuring pop-up blocking and a 
                               tabbed interface.'''},
                        {'title':'Mozilla Thunderbird',
                         'summary':'''Thunderbird is the mail client 
                               equivalent to Firefox - a
                               standalone mail application based
                               on the Mozilla code base.'''}];
                        ">

    <tal:noselection condition="not: selection">
        <form action=""
              style="float: right;"
              xtal:attributes="action where-to-get-search-results">

            <dl>
                <dt>
                    <div style="float: right;">
                        <input type="text"
                               tal:attributes="value searchstring" /> 
                        <input type="submit" 
                               value="Search" />
                    </div>

                    <span class="discreet">
                    To select a package, use the search field
                    to find possible candidates.
                    </span> 
                </dt>
            </dl>
        </form>
        <div class="visualClear"></div>
    </tal:noselection>
    
    <tal:selection condition="selection">
        <dl>
            <dt>
                <input type="submit" 
                       value="Change selection" 
                       style="float: right;" />
                <span tal:replace="selection/title">Mozilla Firefox</span> 
            </dt>
            <dd>
                <div class="discreet" tal:content="selection/summary">
                Mozilla Firefox is a streamlined edition of the Mozilla browser,
                featuring pop-up blocking and a tabbed interface.
                </div>
            </dd>
        </dl>
        
    </tal:selection>
    
<form action=""
      xtal:attributes="action selecting-an-item">
    <fieldset tal:condition="not: selection">
    
        <legend>Search Results</legend>

        <div class="discreet"
             tal:condition="not: searchresults">
        No search results found.
        </div>
    
        <tal:results condition="searchresults"
                      repeat="result searchresults">
        <dl>
            <dt>
                <span tal:replace="result/title">Mozilla Firefox</span> 
                <input type="submit" value="Select" />
            </dt>
            <dd tal:content="result/summary">
            Mozilla Firefox is a streamlined edition of the Mozilla browser,
            featuring pop-up blocking and a tabbed interface.
            </dd>
        </dl>
        </tal:results>
    
        <div tal:condition="searchresults">
            
            <span class="next">
                <a href="#">
                   Next 30 items
                   &raquo;
                </a>
            </span>
            [1]
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            ...
            <a href="#">25</a>
        </div>

    </fieldset>

</tal:testvalues>

</body>
</html>
