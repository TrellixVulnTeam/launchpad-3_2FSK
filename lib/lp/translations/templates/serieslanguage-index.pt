<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  metal:use-macro="view/macro:page/main_only"
>

<body>

<div metal:fill-slot="main">
  <tal:block condition="not:view/pofiles">
    <div class="documentDescription">
      There are no programs available to be translated.
    </div>
  </tal:block>

  <tal:block condition="view/pofiles">
    <div class="top-portlet">
      <tal:with_group condition="view/translation_group">
        <p tal:condition="view/translation_team" id="group-team-info">
          These
          <tal:product replace="structure
            view/parent/fmt:link">Evolution</tal:product>
          translations are managed by
          <tal:team replace="structure
                             view/translation_team/translator/fmt:link">
            Serbian translators</tal:team>.
        </p>

        <p tal:condition="not:view/translation_team" id="group-team-info">
          There is no team to manage
          <tal:product replace="structure
            view/parent/fmt:link">Evolution</tal:product>
          translations to
          <a tal:attributes="href context/language/fmt:url"
             tal:content="context/language/englishname">Serbian</a>.
          To set one up, please get in touch with
          <a tal:replace="structure view/translation_group/owner/fmt:link"
             >Launchpad Translators</a>.
        </p>
      </tal:with_group>
      <tal:without_group condition="not: view/translation_group">
        <p id="group-team-info">
          There is no translation group to manage
          <tal:product replace="structure
            view/parent/fmt:link">Evolution</tal:product>
          translations.
        </p>
      </tal:without_group>
      <p>
      
      <p condition="view/translation_group" id="translation-access-level">
        <tal:not-logged-in condition="view/show_not_logged_in">
          You are not logged in. Please <a href="+login" >log in</a>
          to work on translations.
        </tal:not-logged-in>

        <tal:no-license condition="view/show_no_license">
          To make translations in Launchpad you need to agree with the 
          <a tal:attributes="href request/lp:person/fmt:url:translations/+licensing" 
          >Translations licensing</a> first.
        </tal:no-license>

        <tal:full-edit condition="view/show_full_edit">
          You can add and review translations.
        </tal:full-edit>

        <tal:can-suggest condition="view/show_can_suggest">
          <tal:comment replace="nothing">
          If there is no group, translators have full access, but
          i add this check in case things will change.
          </tal:comment>
          <tal:have-group condition="view/translation_group">
          Your suggestions will be held for review by the managers of
          these translations. If you need help, or your translations are 
          not being reviewed, please get in touch with
          <tal:team 
            condition="view/translation_team"
            replace="structure
                             view/translation_team/translator/fmt:link">
          Serbian translators</tal:team><!--
       --><tal:group 
            condition="not: view/translation_team"
            replace="structure view/translation_group/owner/fmt:link">
          Serbian translators</tal:group>.
          </tal:have-group>
        </tal:can-suggest>

        <tal:no-managers condition="view/show_no_managers">
          <tal:comment replace="nothing">
          If there is no group, translators have full access, but
          i add this check in case things will change.
          </tal:comment>
          <tal:have-group condition="view/translation_group">
          Since there is nobody to manage translation approvals into 
          <a tal:attributes="href context/language/fmt:url"
             tal:content="context/language/englishname">Serbian</a>
          , your cannot add new suggestions. If you are interested
          in making translations, please contact
          <a tal:replace="structure view/translation_group/owner/fmt:link"
          >Ubuntu Translators</a>.
          </tal:have-group>
        </tal:no-managers>

        <tal:only-managers condition="view/show_only_managers">
          This templates can be translated only by its managers.
        </tal:only-managers>

        Templates which are more important to translate are listed first.
      </p>
      
    </div>

    <div style="max-width:840px;">
    <tal:navigation replace="structure view/batchnav/@@+navigation-links-upper" />

    <table class="listing sortable translation-stats">
      <thead>
        <tr>
          <th>Template Name</th>
          <th>Length</th>
          <th>Status</th>
          <th>Untranslated</th>
          <th>Need review</th>
          <th>Changed</th>
          <th>Last Edited</th>
          <th>By</th>
        </tr>
      </thead>
      <tbody>
        <tr tal:repeat="entry view/pofiles"
            tal:attributes="id string:${entry/potemplate/name}">
          <td class="template-name">
            <a tal:attributes="href string:${entry/fmt:url}/+translate"
               tal:content="entry/potemplate/name">
               apache2-dev
            </a>
          </td>
          <td tal:content="entry/potemplate/messageCount">87</td>
          <td>
            <tal:comment condition="nothing">
              This text is used for the sorting.
            </tal:comment>
            <span class="sortkey" tal:content="entry/translatedPercentage"/>
            <span style="white-space: nowrap"
                  tal:content="structure entry/@@+barchart" />
          </td>
          <td>
            <span class="sortkey"
              tal:content="entry/untranslatedCount">
              0
            </span>
            <a tal:attributes="href string:${entry/fmt:url}/+translate?show=untranslated"
              tal:condition="entry/untranslatedCount"
              tal:content="entry/untranslatedCount"
              >
              0
            </a>
            <tal:count tal:condition="not: entry/untranslatedCount">
                &mdash;
            </tal:count>
          </td>
          <td>
            <span class="sortkey"
              tal:content="entry/unreviewedCount">
              0
            </span>
            <a tal:attributes="href string:${entry/fmt:url}/+translate?show=new_suggestions"
              tal:condition="entry/unreviewedCount"
              tal:content="entry/unreviewedCount"
              >
              0
            </a>
            <tal:count tal:condition="not: entry/unreviewedCount">
                &mdash;
            </tal:count>
          </td>
          <td>
            <span class="sortkey"
              tal:content="entry/updatesCount">
              0
            </span>
            <a tal:attributes="href string:${entry/fmt:url}/+translate?show=changed_in_launchpad"
              tal:condition="entry/updatesCount"
              tal:content="entry/updatesCount"
              >
              0
            </a>
            <tal:count condition="not: entry/updatesCount">
                &mdash;
            </tal:count>
          </td>
          <td tal:attributes="id string:${entry/potemplate/name}-time">
            <span class="sortkey"
              tal:condition="entry/date_changed"
              tal:content="
                entry/date_changed/fmt:datetime">
              time sort key
            </span>
            <span
              tal:condition="entry/date_changed"
              tal:attributes="
                title entry/date_changed/fmt:datetime"
              tal:content="
                entry/date_changed/fmt:approximatedate"
              >
              2007-02-10
            </span>
            <tal:block condition="not: entry/date_changed">
                &mdash;
            </tal:block>
          </td>
          <td tal:attributes="id string:${entry/potemplate/name}-person">
            <tal:block condition="entry/lasttranslator">
              <a tal:condition="entry/lasttranslator"
                 tal:attributes="href entry/lasttranslator/fmt:url"
                 tal:content="entry/lasttranslator/displayname/fmt:shorten/25"></a>
            </tal:block>
            <tal:block condition="not: entry/lasttranslator">
                &mdash;
            </tal:block>
          </td>
        </tr>
        <tfoot>
          <tr>
            <th>Overall statistics:</th>
            <td><span tal:replace="context/messageCount">N</span></td>
            <td>
              <span style="white-space: nowrap"
                    tal:content="structure context/@@+barchart">--</span>
            </td>
            <td><span tal:replace="context/untranslatedCount">N</span></td>
            <td><span tal:replace="context/unreviewedCount">N</span></td>
            <td><span tal:replace="context/updatesCount">N</span></td>
            <td colspan="2"></td>
          </tr>
        </tfoot>
      </tbody>
    </table>
    <tal:navigation replace="structure view/batchnav/@@+navigation-links-lower" />

    <div class="translations-legend">
      <div tal:replace="structure context/@@+rosetta-status-legend" />
    </div>
    </div><!-- max-width -->
  </tal:block>

</div>

</body>
</html>
