<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad"
>
  <body>
    <metal:heading fill-slot="pageheading">    
      <h3 tal:content="context/title">Name of product</h3>
      <h1>Top Contributors</h1>
    </metal:heading>

<metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure context/@@+portlet-milestones" />
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure context/@@+portlet-details" />
    <div tal:replace="structure context/@@+portlet-latestspecs" />
</metal:rightportlets>

<div metal:fill-slot="main">

  <div class="documentDescription">
    These are the people who recently contributed the most to
    <span tal:replace="context/displayname" /> in Launchpad.
  </div>

  <h3>Top Overall Contributors</h3>

  <table class="listing sortable" id="overall_top">
  <thead>
    <tr>
      <th>Person</th>
      <th><span tal:replace="view/context_name" /> Karma</th>
      <th>Total Karma</th>
    </tr>
  </thead>
  <tbody tal:define="contributors view/top_ten_contributors">
    <metal:contributors 
      use-macro="context/@@karmacontext-macros/top-contributors-table-body" />
  </tbody>
  </table>

  <h3>Top Contributors by Category</h3>

  <tal:block 
    define="contributors_by_category view/top_contributors_by_category">
    <tal:categories repeat="category view/sorted_categories">
      <h4 tal:content="category" />
      <table class="listing sortable" tal:attributes="id category">
      <thead>
        <tr>
          <th>Person</th>
          <th><span tal:replace="category" /> Karma</th>
          <th>Total Karma</th>
        </tr>
      </thead>
      <tbody tal:define="contributors contributors_by_category/?category">
        <metal:contributors 
          use-macro="context/@@karmacontext-macros/top-contributors-table-body" />
      </tbody>
      </table>
    </tal:categories>
  </tal:block>

</div>

</body>
</html>
