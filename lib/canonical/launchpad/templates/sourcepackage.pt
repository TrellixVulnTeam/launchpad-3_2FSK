<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

  <metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure view/translationsPortlet" />
  </metal:leftportlets>

  <metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure view/actionsPortlet" />
  </metal:rightportlets>

<div metal:fill-slot="main">

  <h1>Source Package Overview</h1>

  <p tal:condition="not:context/currentrelease">This source package is not
  published in <span tal:replace="context/distrorelease/title" />.</p>

  <h2>Upstream Details</h2>

  
    <ul tal:condition="context/productseries">
      <li tal:condition="context/productseries/product/project"><b>Project: </b>
        <a tal:define="project context/productseries/product/project"
           tal:content="project/displayname"
           tal:attributes="href string:/projects/${project/name}">
         Project</a></li>
      <li><b>Product: </b>
        <a tal:define="product context/productseries/product"
           tal:content="product/displayname"
           tal:attributes="href string:/products/${product/name}">
        Product</a></li>
      <li><b>Branch: </b>
        <a tal:define="productseries context/productseries"
           tal:content="productseries/name"
           tal:attributes="href string:/products/${productseries/product/name}/+series/${productseries/name}">
         ProductSeries</a></li>
    </ul>
  <i tal:condition="not:context/productseries">
    No upstream details for this source package. If you know that
    the upstream product and branch of this source package are
    registered in the Launchpad then please link them up!
  </i>

  <tal:block tal:condition="context/currentrelease"
             tal:define="current context/currentrelease">

      <h2>Current Package Details</h2>

      <ul>

        <li><b>Current Version:</b><span tal:replace="current/version" /></li>

        <li><b>Upload Date:</b><span tal:content="current/dateuploaded">
            UPLOADDATE</span> UTC</li>

        <li><b>Urgency:</b><span tal:content="current/urgency/title">
               URGENCY</span></li>

        <li><b>Component:</b><span tal:content="current/component/name">
               Component</span></li>

        <li><b>Download Packages</b>
            <div tal:define="files current/files_url">
              <ul tal:condition="files">
                 <li tal:repeat="file files">
                   <a tal:content="file/filename"
                      tal:attributes="href file/fileurl" /> 
                 </li>
              </ul>
              <i tal:condition="not:files">No files available for download.</i>
            </div>

        <li><b>Binary Packages</b><a tal:condition="current/changelog"
                href="+changelog">(View Changelog)</a>
               <span tal:condition="not:current/changelog" tal:omit-tag>
                   No Changelog for this Source Release )
               </span>
        </li>


        <ul tal:define="binaries view/binaries">
           <li tal:condition="not:binaries">
              <i>No binaries generated for this
              SourcePackageRelease</i>
           </li>
           <li tal:repeat="bin binaries" >
               <span tal:replace="bin" /> 
                 <span tal:repeat="archtag python:binaries[bin]">
                 (<a tal:content="archtag" tal:attributes="href 
                          string:../../${archtag}/${bin}" />) 
                 </span>
            </li>
        </ul>


        <ul>
         <li tal:condition="not:view/builddepends">
           No Build Dependencies</li>
         <li tal:repeat="dep view/builddepends">
           <a tal:content="dep/name"
              tal:attributes="href string:../../i386/${dep/name}" />
           <span tal:condition="dep/signal"
                  tal:content="string:(${dep/signal} ${dep/version})" />
         </li>
       </ul>

       <li tal:condition="not:view/builddependsindep">
            No Platform-independent Dependencies</li>
       <li tal:condition="view/builddependsindep">
          <ul>
            <li tal:repeat="dep view/builddependsindep">
              <a tal:content="dep/name"
                 tal:attributes="href string:../../i386/${dep/name}" />
              <span tal:condition="dep/signal"
                    tal:replace="string:(${dep/signal} ${dep/version})" />
            </li>
          </ul>
        </li>
      </ul>

  </tal:block>

  </div>
</body>
</html>
 
