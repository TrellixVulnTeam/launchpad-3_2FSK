<tal:do-this-first tal:content="view/processForm" />
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<div metal:fill-slot="main">

  <tal:block tal:condition="view/userCanRequestToJoin">
    <h3>Are you sure you want to join 
      <span tal:replace="context/browsername" />?</h3>

    <p>This team has the following subscription policy:
    <span tal:replace="context/subscriptionpolicy/title">Open Team</span>.
    </p>

    <p class="portalMessage" tal:condition="view/userHasMembershipEntry" 
       tal:content="view/membershipStatusDesc" />
    <form name="join" action="" method="POST">
    <table width="100%">
      <tr><td>
        <input type="submit" name="goback" value="Back to team" />
      </td><td align="right">
        <input type="submit" name="join" value="Join" />
      </td></tr>
    </table>
    </form>
  </tal:block>

  <tal:block tal:condition="not: view/userCanRequestToJoin">
    <p tal:condition="view/joinAllowed" class="portalMessage">
      <span tal:replace="view/membershipStatusDesc" />
      You can't join this team.
    </p>

    <p tal:condition="not: view/joinAllowed" class="portalMessage">
      <span tal:replace="context/browsername" /> is a restricted team.
      Only a team administrator can add new members.
    </p>

    <form name="join" action="" method="POST">
    <table width="100%">
      <tr><td>
        <input type="submit" name="goback" value="Back to team" />
      </td></tr>
    </table>
    </form>
  </tal:block>

</div> 

</body>
</html>

