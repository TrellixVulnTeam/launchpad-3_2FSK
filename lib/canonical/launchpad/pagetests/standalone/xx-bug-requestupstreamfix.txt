Sample Person tries to add an upstream task without specifying a product:

    >>> browser.addHeader('Authorization', 'Basic test@canonical.com:test')
    >>> browser.open(
    ...     'http://localhost/distros/debian/+source/mozilla-firefox/+bug/3')
    >>> browser.getLink(url='+upstreamtask').click()
    >>> browser.url
    'http://localhost/distros/debian/+source/mozilla-firefox/+bug/3/+upstreamtask'

    >>> browser.getControl('Product').value
    ''
    >>> browser.getControl('Continue').click()
    >>> browser.url
    'http://localhost/distros/debian/+source/mozilla-firefox/+bug/3/+upstreamtask'
    >>> print browser.contents
    <...
    ...Required input is missing...


Now he adds an upstream task bug. 

    >>> browser.getControl('Product').value = 'firefox'
    >>> browser.getControl('Continue').click()
    >>> browser.url
    'http://localhost/products/firefox/+bug/3'

We check to see if the newly added upstream task is there


  >>> print browser.contents
  <...
  ...firefox (upstream)...

And now we try to add the same upstream again.

    >>> browser.getLink(url='+upstreamtask').click()
    >>> browser.url
    'http://localhost/products/firefox/+bug/3/+upstreamtask'

    >>> browser.getControl('Product').value = 'firefox'
    >>> browser.getControl('Continue').click()
    >>> browser.url
    'http://localhost/products/firefox/+bug/3/+upstreamtask'
    >>> print browser.contents
    <...A fix for this bug has already been requested for Mozilla Firefox...

We can add another upstream to the bug.

    >>> browser.getControl('Product').value = 'evolution'
    >>> browser.getControl('Continue').click()
    >>> browser.url
    'http://localhost/products/evolution/+bug/3'

But if we try to change it to a existing upstream bugtask, our validator
enters in action.

    >>> browser.getLink("evolution (upstream)").click()
    >>> browser.url
    'http://localhost/products/evolution/+bug/3/+editstatus'

    >>> browser.getControl('Product').value = 'firefox'
    >>> browser.getControl('Save Changes').click()
    >>> browser.url
    'http://localhost/products/evolution/+bug/3/+editstatus'
    >>> print browser.contents
    <...
    ...Please fix them and try again...
    ...
    ...A fix for this bug has already been requested for Mozilla Firefox...
    ...

