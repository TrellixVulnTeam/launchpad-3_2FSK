<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:condition="context/project"
       tal:replace="structure context/project/@@+portlet-details" />
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
  <div tal:replace="structure context/@@+portlet-details" />
  <div tal:replace="structure context/@@+portlet-preflangs" />
  <div tal:replace="structure context/@@+portlet-translatables" />
</metal:rightportlets>

    <metal:heading fill-slot="pageheading">
      <h3 tal:content="context/title">Context title goes here</h3>
      <h1 tal:condition="context/primary_translatable">Translation overview</h1>
      <tal:untranslatable>
        <h1 tal:condition="context/required:launchpad.Edit"
        >How to set up translations</h1>
        <h1 tal:condition="not: context/required:launchpad.Edit"
        >Translation setup needed</h1>
      </tal:untranslatable>
    </metal:heading>
    <div metal:fill-slot="main">
      <tal:translatable
        condition="context/primary_translatable"
        define="target context/primary_translatable"
      >
        <p>
          For <tal:product replace="context/displayname" />,
          Launchpad currently recommends translating
          &#8220;<span tal:replace="target/displayname">main</span>&#8221;.
        </p>
        <div tal:replace="structure target/@@+potlist" />
      </tal:translatable>
      <tal:untranslatable condition="not: context/primary_translatable">
        <tal:registrant condition="context/required:launchpad.Edit">
          <p>
            To set up
            <tal:product replace="context/displayname" />
            for people to translate in Rosetta, you need to upload the
            <abbr>PO</abbr> template for one of its product series.
          </p>
          <ul>
            <li tal:repeat="series context/serieslist">
              <a
                tal:attributes=
                  "href string:${series/fmt:url}/+translations-upload"
                tal:content="series/displayname"
              >main</a>
            </li>
          </ul>
        </tal:registrant>
        <tal:other condition="not: context/required:launchpad.Edit">
          <p>
            You cannot currently translate
            <tal:product replace="context/displayname" /> using Rosetta.
          </p>
          <tal:loggedout condition="not: request/lp:person">
            <p>
              If you&#8217;re <tal:person replace="context/owner/displayname" />,
              <a tal:attributes=
              "href string:${context/fmt:url}/+translations/+login">log in</a>
              to begin the setup process.
            </p>
            <p>
              Otherwise, you might want to:
            </p>
          </tal:loggedout>
          <p tal:condition="request/lp:person">
            You might want to:
          </p>
          <ul>
            <li>
              talk with
              <a
                tal:attributes="href context/owner/fmt:url"
                tal:content="context/owner/displayname"
              >Foo Bar</a>,
              the product registrant, about using Rosetta
              (provide the the URL of this page)
            </li>
            <li>
              look for
              <a tal:attributes="href string:${context/fmt:url}/+packages"
              >packages of <tal:product replace="context/displayname" /></a>
              that you can translate for a specific distribution.
            </li>
          </ul>
        </tal:other>
      </tal:untranslatable>
    </div>
  </body>
</html>
