<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">
  <body>
    <metal:rightportlets fill-slot="portlets_two">
      <div tal:replace="structure context/@@+portlet-details" />
    </metal:rightportlets>

    <metal:css fill-slot="head_epilogue">
      <style type="text/css">
        div.inlined-widget {
          display: inline;
        }

        div.inlined-widget div {
          display: inline;
        }
      </style>
    </metal:css>

    <div metal:fill-slot="main">
      <h1 tal:condition="view/label"
          tal:content="view/label">
        Translation files waiting to be imported for $context
      </h1>

      <div class="documentDescription">
        Here you have all translation related entries that are
        imported, blocked, deleted or waiting to be imported in Launchpad for
        <tal:displayname replace="context/displayname">Foo</tal:displayname>.
        <tal:login condition="not:request/lp:person">
          <a href="+login">Log in</a> to change items in this list.
        </tal:login>
      </div>

      <!-- Filtering options. -->
      <div>
        <form method="get" action="" tal:attributes="action request/URL">
          <label>Show:</label>
          <tal:status tal:replace="structure view/widgets/filter_status" />
          <tal:status tal:replace="structure view/widgets/filter_extension" />
          <input tal:replace="structure view/filter_action/render" />
        </form>
      </div>
      <div>
        <p class="error message"
           tal:condition="view/errors"
           tal:content="view/error_count" />

        <p class="error message"
           tal:repeat="form_wide_error view/form_wide_errors"
           tal:content="structure form_wide_error">
          Schema validation errors.
        </p>
      </div>

      <!-- Queue entries -->
      <div>
        <tal:block condition="not:view/batchnav/currentBatch">
          <div class="documentDescription">
            There are no entries that match this filtering.
          </div>
        </tal:block>
        <tal:block condition="view/batchnav/currentBatch">
          <form action=""
                method="post"
                enctype="multipart/form-data"
                accept-charset="UTF-8">
            <tal:status
                 tal:replace="structure view/widgets/filter_status/hidden" />
            <tal:status
                 tal:replace="structure view/widgets/filter_extension/hidden" />
            <tal:navigation
                 replace="structure view/batchnav/@@+navigation-links-upper" />

            <table id='import-entries-list' class="listing" width="100%">
              <tal:loop repeat="entry view/batchnav/currentBatch">
                <tr>
                  <tal:comment replace="nothing">
                    XXX: CarlosPerelloMarin 2006-03-09:
                    We are using here
                    condition="entry/import_into/title|nothing" because,
                    sometimes, entry/import_into evaluates as false because
                    __len__ method returns 0. See bug #34213 for more
                    information.
                  </tal:comment>
                  <td tal:condition="entry/import_into/title|nothing" rowspan="3">
                    <img alt="" src="/@@/download.png" />
                  </td>
                  <td tal:condition="not: entry/import_into/title|nothing" rowspan="2">
                    <img alt="" src="/@@/download.png" />
                  </td>
                  <td>
                    <a tal:attributes="href entry/content/http_url"
                       tal:content="entry/path">po/foo.pot</a> in
                    <a tal:condition="entry/sourcepackage"
                       tal:content="entry/sourcepackage/title"
                       tal:attributes="href entry/sourcepackage/fmt:url"
                       >evolution in Ubuntu Hoary</a>
                    <a tal:condition="entry/productseries"
                       tal:content="entry/productseries/title"
                       tal:attributes="href entry/productseries/fmt:url"
                       >Evolution Series: MAIN</a>
                  </td>
                  <td tal:condition="entry/required:launchpad.Edit">
                    <tal:status define="name string:status_${entry/id}"
                                replace="structure view/widgets/?name" />
                  </td>
                  <td tal:condition="not: entry/required:launchpad.Edit"
                      tal:content="entry/status/title">Needs Review
                  </td>
                  <td>
                    <tal:block condition="entry/required:launchpad.Admin">
                      [<a tal:attributes="href entry/fmt:url">Edit</a>]
                    </tal:block>
                  </td>
                </tr>
                <tr class="discreet secondary">
                  <td colspan="3">
                    Uploaded by 
                    <a tal:content="entry/importer/browsername"
                       tal:attributes="href entry/importer/fmt:url"
                       >Mark Shuttleworth</a>
                    on <span tal:content="entry/dateimported/fmt:datetime">date</span>
                  </td>
                </tr>
                <tal:comment replace="nothing">
                  XXX: CarlosPerelloMarin 2006-03-09:
                  We are using here
                  condition="entry/import_into/title|nothing" because,
                  sometimes, entry/import_into evaluates as false because
                  __len__ method returns 0. See bug #34213 for more
                  information.
                </tal:comment>
                <tr tal:condition="entry/import_into/title|nothing" class="discreet secondary">
                  <td colspan="3">
                    Will be imported into 
                    <a tal:content="entry/import_into/title"
                       tal:attributes="href entry/import_into/fmt:url"
                       >Foo</a>
                  </td>
                </tr>
              </tal:loop>
            </table>
            <tal:navigation
                 replace="structure view/batchnav/@@+navigation-links-lower" />

            <script type="text/javascript"
                    tal:define="script view/focusedElementScript"
                    tal:condition="script"
                    tal:content="structure script" />

            <div class="actions">
              <input tal:replace="structure view/change_status_action/render" />
            </div>
          </form>
        </tal:block>
      </div>
    </div>
  </body>
</html>
