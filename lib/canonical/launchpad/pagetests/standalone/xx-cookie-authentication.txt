Our cookies need to have their domain attribute set to ensure that they
are sent to other vhosts in the same domain.

    >>> browser.open('http://blueprints.launchpad.dev/+login')
    >>> browser.getControl('E-mail', index=0).value = 'foo.bar@canonical.com'
    >>> browser.getControl('Password').value = 'test'
    >>> browser.getControl('Log In').click()
    >>> print extract_text(find_tag_by_id(browser.contents, 'logincontrol'))
    Foo Bar...
    >>> raw_cookie = browser.headers['Set-Cookie']
    >>> '; Domain=.launchpad.dev;' in raw_cookie
    True

If we visit another vhost in the domain, we remain logged in.

    >>> browser.open('http://launchpad.dev/')
    >>> browser.url
    'http://launchpad.dev/'
    >>> print extract_text(find_tag_by_id(browser.contents, 'logincontrol'))
    Foo Bar...
    >>> raw_cookie = browser.headers['Set-Cookie']
    >>> '; Domain=.launchpad.dev;' in raw_cookie
    True

XXX: We need to test that for https: URLs, the secure attribute is set on
the cookie. This is blocked on Bug #56601 -- StuartBishop 20060816

