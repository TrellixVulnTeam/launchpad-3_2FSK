Product Packaging
=================

Launchpad can show you a product's packages by distribution, with links to
each.

    >>> anon_browser.open(
    ...     'http://launchpad.dev/evolution/+packages')
    >>> print anon_browser.title
    Linked packages ...
    >>> print extract_text(
    ...     find_tag_by_id(anon_browser.contents, 'distribution-series'))
    Distribution series  Source package        Version  Project series
    Warty (4.10)         evolution  Evolution           trunk series ...

    >>> anon_browser.getLink(url='/ubuntu/warty/+source/evolution').click()
    >>> print extract_text(
    ...     find_tag_by_id(anon_browser.contents, 'maincontent').h1)
    “evolution” source package in Warty

It can also show the packages by product series. And if you have permission
(for example, you're the owner of the product), Launchpad lets you register
packages for each series. In this case, mark@example.com is the owner of
Evolution.

    >>> evo_owner = setupBrowser(auth='Basic mark@example.com:test')
    >>> evo_owner.open('http://launchpad.dev/evolution/+packages')
    >>> print evo_owner.title
    Linked packages ...
    >>> print extract_text(find_tag_by_id(
    ...     evo_owner.contents, 'packages-trunk'))
    Distribution  Distribution series  Source package  Version
    Ubuntu        Warty (4.10)         evolution
    Ubuntu        Hoary (5.04)         evolution       1.0

    >>> evo_owner.getLink(url='/ubuntu/hoary/+source/evolution') is not None
    True
    >>> evo_owner.getLink(url='/evolution/trunk/+addpackage') is not None
    True

If you're not the owner or an admin, you still see the packages, but without
the link to add packages yourself.

    >>> browser.open('http://launchpad.dev/evolution/+packages')
    >>> browser.getLink(url='/evolution/trunk/+addpackage')
    Traceback (most recent call last):
    ...
    LinkNotFoundError


Deleting packaging links
------------------------

Packaging links can be deleted if they were created in error.

    >>> form = evo_owner.getForm("delete-warty-evolution-trunk")
    >>> form.getControl(name="field.actions.delete_packaging").click()
    >>> print evo_owner.title
    Linked packages ...

    >>> for message in get_feedback_messages(evo_owner.contents):
    ...     print message
    Removed upstream association between Evolution trunk and Warty.

    >>> print extract_text(find_tag_by_id(
    ...     evo_owner.contents, 'packages-trunk'))
    Distribution  Distribution series  Source package  Version
    Ubuntu        Hoary (5.04)         evolution       1.0
