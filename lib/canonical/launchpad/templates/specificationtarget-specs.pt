<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template_2col/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
  <div tal:replace="structure context/@@+portlet-latestspecs" />
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
</metal:rightportlets>

<metal:heading fill-slot="pageheading">
  <h3 tal:content="context/title">Context title goes here</h3>
</metal:heading>

<div metal:fill-slot="main"
    tal:define="specs view/specs;
                has_any_specs view/has_any_specifications">

  <tal:no_specs condition="not: has_any_specs">

    <h1>This is the Blueprint Feature Tracker</h1>

    <p>
      Blueprint is a feature tracker in Launchpad. It is designed to let
      projects keep track of the features they intend to implement over the
      next few releases. It can generate reports of the project roadmap, as
      well as helping to keep developers informed about specification status
      changes by email.
    </p>

    <p>
      Choose <img src="/@@/add.gif" /> <a href="+addspec">New Specification</a>
      to register a first specification for
      <span tal:replace="context/displayname">Firefox</span>.
    </p>

    <p>
      You might want to read the following:
    </p>

    <ul>
      <li>
        <a href="http://wiki.launchpad.canonical.com/BlueprintDocumentation"
          >Official Blueprint Documentation</a>
      </li>
      <li>
        <a href="/distros/ubuntu/+specs">Ubuntu specifications</a> (example)
      </li>
      <li>
        <a href="/projects/mozilla/+specs">Mozilla specifications</a> (example)
      </li>
    </ul>

    <p>
      Blueprint lets you keep track of who is responsible for what, and also
      lets you take control of the planning of releases. You can approve
      feature specifications as goals for a particular release, and then
      generate a simple report showing your progress towards feature
      completion for that release.
    </p>

  </tal:no_specs>

  <tal:has_any_specs condition="has_any_specs">
    <h1>Feature specifications</h1>

    <table class="listing sortable" id="speclisting"
          tal:condition="specs">
      <thead>
        <tr>
          <th>Priority</th>
          <th>Specification</th>
          <th>Definition</th>
          <th>Delivery</th>
          <th>Assignee</th>
          <th tal:content="view/goaltitle">Hack!</th>
        </tr>
      </thead>
      <tbody class="lesser">
        <tr tal:repeat="spec specs">
          <td>
            <span class="sortkey" tal:content="spec/priority/sortkey" />
            <span tal:content="spec/priority/title"
                  tal:attributes="
                  class string:specpriority${spec/priority/name}">High</span>
          </td>
          <td><a tal:content="spec/name/fmt:shorten/35"
                 tal:attributes="
                   href spec/fmt:url;
                   title spec/title">foo-bar-baz</a>
              <img src="/@@/info" alt="Informational"
                   tal:condition="spec/informational" />
          </td>
          <td>
            <span class="sortkey" tal:content="spec/status/sortkey" />
            <span tal:content="spec/status/title"
                  tal:attributes="
                  class string:specstatus${spec/status/name}">Approved</span>
          </td>
          <td tal:attributes="class string:specdelivery${spec/delivery/name}"
              tal:content="spec/delivery/title">Deployed</td>
          <td>
            <a tal:condition="spec/assignee"
               tal:attributes="href spec/assignee/fmt:url"
               tal:content="spec/assignee/browsername">
              Carlos Perello Marin
            </a>
          </td>
          <td>
            <a tal:condition="spec/has_release_goal"
               tal:attributes="href spec/goal/fmt:url"
               tal:content="spec/goal/name">
              Ubuntu 6.04
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    
    <p class="informational message" tal:condition="not: specs">
      No feature specifications match the current filter.
    </p>

    <p class="discreet">
      <span tal:replace="specs/count:len">7</span> specification(s) listed.
    </p>

  </tal:has_any_specs>

</div>
</body>
</html>
