<html
  xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
  <body>
    <metal:iohs fill-slot="immediateobjectheadingsecondary"
    >Feature specification</metal:iohs>
    <metal:iohp fill-slot="immediateobjectheadingprimary">
      <tal:iohp replace="context/title">Specification title</tal:iohp>
    </metal:iohp>

    <metal:portlets fill-slot="portlets">
      <div tal:replace="structure context/@@+portlet-lifecycle" />

  <div tal:replace="structure context/@@+portlet-feedbackqueue" />
  <div tal:replace="structure context/@@+portlet-subscribers" />

  <div tal:replace="structure context/@@+portlet-bugs" />

      <!-- 1-0 inprogress Needs "Related Questions" portlet -->
    </metal:portlets>


<div metal:fill-slot="main">

  <p tal:repeat="notice view/notices" tal:content="notice"
     class="informational message">
    notice goes here
  </p>

  <p tal:condition="context/superseded_by" class="warning message">
    This specification has been superseded. See the newer specification
    "<b><a tal:content="context/superseded_by/title"
           tal:attributes="href context/superseded_by/fmt:url">new spec
    title</a></b>" for updated plans.
  </p>


    <table class="summary">
      <tbody>
        <tr>
          <th>Priority:</th>
          <td tal:content="context/priority/title">High</td>
        </tr>
        <tr>
          <th>Definition:</th>
          <td>
            <tal:definition replace="context/status/title" />
            <tal:guidance condition="not: context/direction_approved"
            >(Needs guidance)</tal:guidance>
          </td>
        </tr>
        <tr>
          <th>Implementation:</th>
          <td>
            <tal:impl content="context/delivery/title">Unknown</tal:impl>
            <i tal:condition="context/informational">Informational</i>
          </td>
        </tr>
        <tr tal:condition="context/goal">
          <th>Release goal:</th>
          <td>
            <a
              tal:condition="context/goal/required:launchpad.Driver"
              tal:attributes="href string:${context/fmt:url}/+decide"
              tal:content="context/goalstatus/title"
            >Approved</a>
            <tal:cannotchange
              tal:condition="not: context/goal/required:launchpad.Driver"
              tal:replace="context/goalstatus/title"
            >Approved</tal:cannotchange>
            for
            <a tal:condition="context/productseries"
               tal:attributes="href context/productseries/fmt:url"
               tal:content="context/productseries/name">1.2</a>
            <a  tal:condition="context/distrorelease"
                tal:attributes="href context/distrorelease/fmt:url"
                tal:content="context/distrorelease/name">hoary</a>
          </td>
        </tr>
        <tr>
          <th>Assignee:</th>
          <td>
            <a
              tal:condition="context/assignee"
              tal:content="context/assignee/browsername"
              tal:attributes="href context/assignee/fmt:url"
            >Foo Bar</a>
            <tal:none condition="not: context/assignee">None</tal:none>
          </td>
        </tr>
        <tr>
          <th>Drafter:</th>
          <td>
            <a
              tal:condition="context/drafter"
              tal:content="context/drafter/browsername"
              tal:attributes="href context/drafter/fmt:url"
            >Foo Bar</a>
            <tal:none condition="not: context/drafter">None</tal:none>
          </td>
        </tr>
        <tr>
          <th>Approver:</th>
          <td>
            <a
              tal:condition="context/approver"
              tal:content="context/approver/browsername"
              tal:attributes="href context/approver/fmt:url"
            >Foo Bar</a>
            <tal:none condition="not: context/approver">None</tal:none>
          </td>
        </tr>
        <tr
          tal:define="sprint_links context/sprint_links"
          tal:condition="sprint_links"
        >
          <th>Sprints:</th>
          <td>
            <ul>
              <li tal:repeat="sprint_link sprint_links">
                <a
                  tal:attributes="href sprint_link/sprint/fmt:url"
                  tal:content="sprint_link/sprint/name"
                />
                (<a
                  tal:condition="sprint_link/required:launchpad.Edit"
                  tal:content="sprint_link/status/title"
                  tal:attributes="href string:${sprint_link/fmt:url}"
                >Approved</a><span
                  tal:condition="not: sprint_link/required:launchpad.Edit"
                  tal:replace="sprint_link/status/title"
                >Proposed</span>)
              </li>
            </ul>
          </td>
        </tr>
      </tbody>
    </table>
    <tal:desc replace="structure context/summary/fmt:text-to-html">
      The spec summary will go here.
    </tal:desc>
    <ul class="menu">
      <li class="link">
        <a
          tal:condition="context/specurl"
          tal:attributes="href context/specurl"
        >Read the full specification &raquo;</a>
        <a tal:condition="not:context/specurl" href="+edit"
        >Set the URL for this specification</a>
      </li>
    </ul>
    <tal:has_milestone condition="context/milestone">
      Milestone target:
      <img alt="" src="/@@/milestone" />
      <a tal:attributes="href context/milestone/fmt:url">
        <span tal:replace="context/milestone/name">1.0</span>.</a>
    </tal:has_milestone>

    <tal:whiteboard condition="context/whiteboard">
      <h2>Whiteboard</h2>
      <div tal:content="structure context/whiteboard/fmt:text-to-html"
      >Whiteboard text goes here.</div>
    </tal:whiteboard>

  <tal:deptree condition="view/has_dep_tree">

      <h2>Dependency tree</h2>

    <tal:block tal:replace="structure context/@@+deptreeimgtag" />

    <p class="discreet">
      * Specifications in grey have been implemented.
    </p>

  </tal:deptree>

      <ul class="nearby menu" tal:condition="context/goal">
        <li>
          <a tal:attributes="href context/goal/fmt:url">
            Other <tal:goal replace="context/goal/displayname" /> specifications
          </a>
        </li>
      </ul>
    </div>
  </body>
</html>
