<tal:root
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  omit-tag="">
  <ul>
    <li tal:condition="view/isRemoved">
      <strong>Removed from disk</strong>
      <span tal:attributes="title context/dateremoved/fmt:datetime"
            tal:content="context/dateremoved/fmt:displaydate" />.
    </li>
    <li tal:condition="view/isPendingRemoval">
      <strong>Removal requested</strong>
      <span tal:attributes="title context/scheduleddeletiondate/fmt:datetime"
         tal:content="context/scheduleddeletiondate/fmt:displaydate" />.
    </li>
    <li tal:condition="view/wasDeleted">
      <strong>Deleted</strong>
      <span tal:attributes="title context/datesuperseded/fmt:datetime"
            tal:content="context/datesuperseded/fmt:displaydate" />
      by <a tal:attributes="href context/removed_by/fmt:url"
            tal:content="context/removed_by/displayname"/>
      (<span tal:replace="context/removal_comment/fmt:shorten/20" />)
    </li>
    <li tal:condition="view/wasSuperseded">
      <strong>Superseded</strong>
      <span tal:attributes="title context/datesuperseded/fmt:datetime"
            tal:content="context/datesuperseded/fmt:displaydate"/>
      by <span tal:replace="context/supersededby/title" />
    </li>
    <li tal:condition="context/datepublished">
      <strong>Published</strong>
      <span tal:attributes="title context/datepublished/fmt:datetime"
            tal:content="context/datepublished/fmt:displaydate" />
    </li>
    <li tal:condition="view/wasCopied">
      <strong>Copied from</strong>
      <tal:source_original_location condition="view/is_source">
        <tal:message
          define="source context/sourcepackagerelease;
                  archive source/upload_archive;
                  series source/upload_distroseries;
                  distro series/distribution;
                  message string:${distro/name} ${series/name} in "
          replace="message" />
        <a tal:condition="source/upload_archive/is_ppa"
           tal:define="source context/sourcepackagerelease"
           tal:attributes="href source/upload_archive/fmt:url"
           tal:content="source/upload_archive/title" />
        <tal:message
          condition="not:source/upload_archive/is_ppa"
          define="source context/sourcepackagerelease;
                  archive source/upload_archive;
                  message string:${archive/title}"
          replace="message" />
      </tal:source_original_location>
      <tal:binary_build_location condition="view/is_binary">
        <tal:message
          define="build context/binarypackagerelease/build;
                  archive build/archive;
                  pocket build/pocket;
                  arch build/distroarchseries;
                  series arch/distroseries;
                  distro series/distribution;
                  message string:${distro/name} ${series/name}-${pocket/name/fmt:lower} ${arch/architecturetag} in ${archive/title}"
          replace="message" />
      </tal:binary_build_location>
    </li>

  </ul>

  <p tal:condition="view/isRemoved">
    Removed files can still be downloaded from the Librarian; see below.
  </p>

</tal:root>
