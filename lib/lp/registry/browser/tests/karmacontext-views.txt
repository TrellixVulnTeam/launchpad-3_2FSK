KarmaContext Pages
==================

For all KarmaContexts we can see their top contributors.  That is, the
people with highest karma on that context.  We can see the top overall
contributors on a given context and the top contributors by category.

    >>> from canonical.launchpad.interfaces import IProductSet
    >>> from zope.component import getMultiAdapter
    >>> from zope.publisher.browser import TestRequest
    >>> def create_view(context, name, form=None):
    ...     view = getMultiAdapter(
    ...         (context, TestRequest(form=form)), name=name)
    ...     view.initialize()
    ...     return view
    >>> evolution = getUtility(IProductSet).getByName('evolution')

    >>> topcontributors = create_view(evolution, '+topcontributors')
    >>> contributors = topcontributors._getTopContributorsWithLimit(limit=3)
    >>> [(contrib.person.name, contrib.karmavalue) for contrib in contributors]
    [(u'name16', 175), (u'mark', 22), (u'carlos', 9)]

    >>> contributors = topcontributors.top_contributors_by_category
    >>> categories = sorted(contributors.keys())
    >>> for category in categories:
    ...     print category, [(contrib.person.name, contrib.karmavalue)
    ...                      for contrib in contributors[category]]
    Bug Management [(u'name16', 11)]
    Specification Tracking [(u'mark', 22)]
    Translations in Rosetta [(u'name16', 164), (u'carlos', 9)]

