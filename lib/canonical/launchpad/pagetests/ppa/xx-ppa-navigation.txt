== Navigating a PPA ==

The main PPA page is accessible by using the Personal Package Archive
link on the PPA owner page.

    >>> anon_browser.open('http://launchpad.dev/~cprov')
    >>> anon_browser.getLink('Personal Package Archive').click()
    >>> anon_browser.url
    'http://launchpad.dev/~cprov/+archive'
    >>> anon_browser.title
    'PPA for Celso Providelo'

While navigating around the PPA the "structural location" remains the
"PPA owner":

    >>> print_navigation(anon_browser.contents)
    Location: Celso Providelo
    Structural title: Celso Providelo
    Tabs:
    * Overview (http://launchpad.dev/~cprov)
    * Code (http://code.launchpad.dev/~cprov)
    * Bugs (http://bugs.launchpad.dev/~cprov)
    * Blueprints (http://blueprints.launchpad.dev/~cprov)
    * Translations (http://translations.launchpad.dev/~cprov)
    * Answers (http://answers.launchpad.dev/~cprov)
    Main heading: PPA for Celso Providelo

You can see the build details of the packages in the archive by using
the 'View build records' link.

    >>> anon_browser.getLink('View build records').click()
    >>> anon_browser.title
    'Builds for PPA for Celso Providelo'
    >>> anon_browser.url
    'http://launchpad.dev/~cprov/+archive/+builds'

The user could return to the 'PPA' overview by using the 'View PPA'
link:

    >>> anon_browser.getLink('View PPA').url
    'http://launchpad.dev/~cprov/+archive'

The user can navigate to an individual build details:

    >>> anon_browser.getControl('All states').click()
    >>> anon_browser.getControl('Update').click()
    >>> anon_browser.getLink('i386 build of iceweasel').click()
    >>> anon_browser.title
    'Build details for i386 build of iceweasel 1.0 in ubuntu warty RELEASE'

    >>> print_navigation(anon_browser.contents)
    Location: Celso Providelo
    Structural title: Celso Providelo
    Tabs:
    * Overview (http://launchpad.dev/~cprov)
    * Code (http://code.launchpad.dev/~cprov)
    * Bugs (http://bugs.launchpad.dev/~cprov)
    * Blueprints (http://blueprints.launchpad.dev/~cprov)
    * Translations (http://translations.launchpad.dev/~cprov)
    * Answers (http://answers.launchpad.dev/~cprov)
    Main heading:
    Build details for i386 build of iceweasel 1.0 in ubuntu warty RELEASE

From that page the user could return either to the build records listing
or the PPA overview.

    >>> anon_browser.getLink('View build records').url
    'http://launchpad.dev/~cprov/+archive/+builds'
    >>> anon_browser.getLink('View PPA').url
    'http://launchpad.dev/~cprov/+archive'

When the number of packages in the PPA is large the user will see them
displayed in batches.

    >>> anon_browser.open('http://launchpad.dev/~cprov/+archive?batch=1')

Since he is on the first page, the 'First' and 'Previous' links are
inactive:

    >>> 'Previous' in anon_browser.contents
    True
    >>> anon_browser.getLink('Previous')
    Traceback (most recent call last):
      ..
    LinkNotFoundError...
    >>> 'First' in anon_browser.contents
    True
    >>> anon_browser.getLink('First')
    Traceback (most recent call last):
      ..
    LinkNotFoundError...

The user does not see the package he is looking for and proceeds to the
next page.

    >>> anon_browser.getLink('Next').click()

The package of interest is not on this page either so he goes to the
next page.

    >>> anon_browser.getLink('Next').click()

This is the last page, so the next and last links are inactive.

    >>> 'Next' in anon_browser.contents
    True
    >>> anon_browser.getLink('Next')
    Traceback (most recent call last):
      ..
    LinkNotFoundError...
    >>> 'Last' in anon_browser.contents
    True
    >>> anon_browser.getLink('Last')
    Traceback (most recent call last):
      ..
    LinkNotFoundError...

The 'First' and 'Previous' links, however, are now active.

    >>> anon_browser.getLink('First').url
    'http://launchpad.dev/%7Ecprov/+archive/+index?start=0&batch=1'

    >>> anon_browser.getLink('Previous').url
    'http://launchpad.dev/%7Ecprov/+archive/+index?start=1&batch=1'
