= The set of branches =

The set of branches in Launchpad is represented by the collection found at
/branches. By default it lists the 50 most recently changed branches.

    >>> branches = webservice.get('/branches').jsonBody()
    >>> len(branches['entries'])
    1


== Custom operations ==

The branches collection also offers operations to get a particular branch.

    >>> from lp.code.enums import BranchType
    >>> login(ANONYMOUS)
    >>> branch = factory.makeAnyBranch(branch_type=BranchType.MIRRORED)
    >>> branch_url = branch.url
    >>> branch_unique_name = branch.unique_name
    >>> branch2 = factory.makeAnyBranch()
    >>> branch2_url = branch2.bzr_identity
    >>> branch2_unique_name = branch2.unique_name
    >>> logout()


=== Getting a branch by URL ===

    >>> found_branch = webservice.get(
    ...     '/branches?ws.op=getByUrl&url=%s' % branch_url).jsonBody()
    >>> found_branch['unique_name'] == branch_unique_name
    True


=== Getting many branches by URL ===

    >>> branches = webservice.get(
    ...     '/branches?ws.op=getByUrls&urls=%s&urls=%s'
    ...     % (branch_url, branch2_url)).jsonBody()
    >>> branches['entries'][0]['unique_name'] == branch_unique_name
    True
    >>> branches['entries'][1]['unique_name'] == branch2_unique_name
    True
    >>> branches['total_size']
    2
