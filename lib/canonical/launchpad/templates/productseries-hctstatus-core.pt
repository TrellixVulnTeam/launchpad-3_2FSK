
<tal:block condition="not: context/rcstype">
<tal:block condition="not: context/user_branch">
  <p class="error message">
    No revision control details recorded for <span
    tal:replace="context/displayname">evolution MAIN</span>
  </p>

  <p>If upstream is maintained in CVS or SVN, then you will need to
  provide us with the location of the upstream branch so that it can be
  imported into the Bazaar. Please do so
  <a tal:attributes="href
  string:/${context/product/name}/${context/name}/+source">
    here
  </a>. Once you have provided us with revision control details for this
  upstream branch, we can import that branch into
  <a href="/+code/">The Bazaar</a>, and HCT will be able to work with
  packages based on it.</p>

</tal:block>
</tal:block>

<tal:block tal:condition="context/user_branch">
  <p>The following branch has been registered as the mainline branch
  for this product series:</p>

  <ul class="branch"
      tal:content="structure context/user_branch/@@+product-summary-listing" />
</tal:block>

<tal:block tal:condition="context/rcstype">

  <table class="listing">
    <thead class="lesser">
      <tr>
        <th colspan="2">Revision Control</th>
      </tr>
    </thead>
    <tbody class="lesser">
        <tal:block condition="context/rcstype/enumvalue:CVS">
          <tr>
            <th>CVS</th>
	  </tr>
	  <tr>
            <th>Root:</th>
            <td tal:content="context/cvsroot">
              :pserver:anonymous@anoncvs.gnome.org:/cvs/gnome</td>
	  </tr>
	  <tr>
	    <th>Module:</th>
	    <td tal:content="context/cvsmodule">evolution</td>
          </tr>
          <tr>
            <th>Branch:</th>
            <td tal:content="context/cvsbranch">MAIN</td>
          </tr>
        </tal:block>
        <tal:block condition="context/rcstype/enumvalue:SVN">
          <tr>
            <th>Subversion:</th>
            <td tal:content="context/svnrepository">http://svn.gnome.org/evolution/trunk</td>
          </tr>
        </tal:block>
        <tr tal:condition="context/importstatus">
          <th>Import status:</th>
          <td tal:content="context/importstatus/title">Syncing</td>
        </tr>
        <tal:has-import-success condition="view/hasVcsImportSuccessStatus">
          <tr class="secondary">
            <th>Last run:</th>
            <td id="last-import-status">
              <span tal:condition="view/lastVcsImportSuccessful"
                    class="vcsimportSUCCESS">Success</span>
              <span tal:condition="not:view/lastVcsImportSuccessful"
                    class="vcsimportFAILURE">Failure</span>
              <tal:last-attempt-age
                content="view/lastVcsImportAttemptAge/fmt:approximateduration"
              /> ago
            </td>
          </tr>
        </tal:has-import-success>
        <tr class="secondary" tal:condition="context/importstatus">
          <td colspan="2" tal:content="context/importstatus/description">
            This upstream branch is being imported every day to Bazaar.
          </td>
        </tr>
        <tal:block condition="context/import_branch"
            replace="structure context/import_branch/@@+series-reference" />
        <tal:has-import-age condition="view/hasVcsImportBranchAge">
          <tr class="secondary">
            <th>Last imported:</th>
            <td id="import-branch-age"><tal:branch-age
                content="view/currentVcsImportBranchAge/fmt:approximateduration"
              /> ago
            </td>
          </tr>
        </tal:has-import-age>
    </tbody>
  </table>
</tal:block>
