<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
  >
<body>

<metal:portlets fill-slot="portlets">
   <tal:portlet replace="structure context/distribution/@@+portlet-ppa-architectures" />
</metal:portlets>

<div metal:fill-slot="main">

  <tal:privacy-icon replace="structure context/@@+privacy-icon"/>

  <h1>Edit dependencies for <tal:title replace="context/title" /></h1>

  <div metal:use-macro="context/@@launchpad_form/form">

    <div class="form" metal:fill-slot="widgets">

      <table>
        <tal:dependencies
          condition="widget"
          define="widget nocall:view/widgets/selected_dependencies;
                  field_name widget/context/__name__;
                  error python:view.getFieldError(field_name);">
          <tr>
            <th>
              <label tal:attributes="for widget/name"
                     tal:content="string:${widget/label}:">Label</label>
            </th>
            <td class="ppa_dependency_row">
              <input tal:replace="structure widget" />
            </td>
          </tr>
          <tr>
            <td>
              <div class="error message" tal:condition="error"
                   tal:content="structure error">Error message</div>
            </td>
            <td>
              <input
                tal:condition="view/has_dependencies"
                tal:replace="structure
                             view/actions/field.actions.remove/render" />
              <p id="empty-dependencies"
                 tal:condition="not: view/has_dependencies"
                 >No dependencies recorded for this PPA yet.</p>
            </td>
          </tr>
          <tr tal:condition="view/has_dependencies">
            <td colspan="2">
              <p class="formHelp" tal:condition="widget/hint"
                 tal:content="widget/hint">Some Help Text</p>
            </td>
          </tr>
        </tal:dependencies>

        <tal:add_dependency
          condition="widget"
          define="widget nocall:view/widgets/dependency_candidate;
                  field_name widget/context/__name__;
                  error python:view.getFieldError(field_name);">
          <tr>
            <th>
              <label tal:attributes="for widget/name"
                     tal:content="string:${widget/label}:">Label</label>
            </th>
            <td>
              <input tal:replace="structure widget" />
            </td>
          </tr>
          <tr>
            <td colspan="2">
              <div class="error message" tal:condition="error"
                   tal:content="structure error">Error message</div>
            </td>
          </tr>
          <tr>
            <td>
              <p class="formHelp" tal:condition="widget/hint"
                 tal:content="widget/hint">Some Help Text</p>
            </td>
            <td>
              <input tal:replace="structure
                                  view/actions/field.actions.add/render" />
            </td>
          </tr>
        </tal:add_dependency>

      </table>

   </div> <!-- widgets -->

   <div class="actions" metal:fill-slot="buttons">
   </div> <!-- empty buttons -->


  </div> <!-- launchpad_form -->


</div> <!--main -->

<p metal:fill-slot="help">

</p>

</body>
</html>
