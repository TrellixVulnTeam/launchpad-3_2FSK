<div
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  id="involvement" class="portlet"
  tal:condition="view/has_involvement"
  >
  <h2>Get Involved</h2>

  <ul class="involvement">
    <li tal:repeat="link view/enabled_links">
      <a tal:replace="structure link/fmt:link" />
    </li>
    <tal:disabled repeat="link view/visible_disabled_links">
      <li tal:condition="not: link/enabled"
          tal:attributes="title string:Launchpad needs to know where the user can ${link/text/lower}"
          class="disabled">
        <div style="padding: 0.3em 0 0.3em 0.3em">
          <div style="display: inline-block"
               class="sprite icon-only warning-icon"></div>

          <div style="height: 1.2em; float: right">
            <img src="/@@/gray-arrow-right.png"
                style="top: 50%; bottom: 50%; margin-top: -5px;
                       position: relative;
                       height: 9px; width: 14px; padding: 0"/>
          </div>

          <span tal:content="link/text"/>
        </div>
      </li>
    </tal:disabled>
  </ul>

  <tal:editor condition="context/required:launchpad.Edit"
              define="registration view/registration_completeness">

    <tal:show_configuration condition="registration">
      <h2>Configuration Progress</h2>
      <div class="centered" id="progressbar">
        <table width="80%" border="1">
          <tr>
            <td>
              <img
                 tal:attributes="alt string:${registration/done}% registration complete;
                                 title string:${registration/done}% registration complete;
                                 width registration/done;
                                 style string:width: ${registration/done}%;"
                 src="/@@/green-bar"
                 height="10"/>
            </td>
          </tr>
        </table>
      </div>
    </tal:show_configuration>

    <div id="show-hide-configs"
      tal:attributes="class
        python: 'collapsible collapsed'
          if view.registration_done
          else 'collapsible'">
      <div class=".config-options"
           style="margin-bottom: 0.5em">Configuration options</div>
      <table
        style="width: 100%; padding-top: 1em"
        id="configuration_links"
        tal:condition="view/configuration_links">
        <tal:item repeat="link_status view/configuration_links">
          <tr>
            <td>
              <a tal:replace="structure link_status/link/fmt:link" />
            </td>

            <td style="text-align: right;" tal:condition="registration">
              <tal:yes-no
                replace="structure link_status/configured/image:boolean"/>
            </td>
          </tr>
        </tal:item>
      </table>
    </div>
  </tal:editor>
</div>
