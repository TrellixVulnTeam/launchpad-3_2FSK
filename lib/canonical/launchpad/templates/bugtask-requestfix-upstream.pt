<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">
  <body>
  <metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure context/bug/@@+portlet-details" />
  </metal:leftportlets>

<div metal:fill-slot="main">

  <div metal:use-macro="context/@@launchpad_form/form">

    <metal:extra_info metal:fill-slot="extra_info">

      <p class="informational message"
         tal:repeat="message view/notifications"
         tal:content="structure message">
        Confirmation message.
      </p>

    </metal:extra_info>

    <metal:widgets 
        metal:fill-slot="widgets"
        tal:define="product_widget nocall:view/widgets/product;
                    product product_widget/getInputValue">


      <div class="field">

        <label tal:content="product_widget/label">Label</label>

        <div>
          <a tal:attributes="href product/fmt:url"
             tal:content="product/bugtargetdisplayname">
            Mozilla Firefox
          </a> (<a tal:attributes="href string:+choose-affected-product?field.product=${product/name}">Choose another project</a>)
          <input type="hidden" tal:replace="structure product_widget/hidden" />
        </div>
      </div>

      <div tal:condition="not: product/official_malone"
          tal:define="widgets view/bugwatch_widgets;
                      bugtracker product/getExternalBugTracker">
        <p tal:condition="bugtracker">
          <tal:product tal:replace="product/displayname">Evolution</tal:product>
          uses <a tal:attributes="href bugtracker/baseurl"
                  tal:content="bugtracker/title">Gnome Bugzilla</a> to
          track its bugs. If you know this bug has been reported there,
          you can link to it; Launchpad will keep track of its status
          for you.
        </p>

        <p tal:condition="not: bugtracker">
          <tal:product tal:replace="product/displayname">Evolution</tal:product>
          doesn't use Launchpad to track its bugs. If you know this bug
          has been reported in another bug tracker, you can link to it;
          Launchpad will keep track of its status for you.
        </p>

       <div metal:use-macro="context/@@launchpad_form/widget_rows" />

      </div>

      <tal:public_bug tal:condition="not: context/bug/private">

      <p tal:condition="product/bugcontact">
        <a tal:attributes="href product/bugcontact/fmt:url"
           tal:content="product/bugcontact/displayname">Sample Person</a>,
           the bug contact for 
           <tal:product tal:replace="product/displayname">Firefox</tal:product>,
           will be notified about this bug.
      </p>

      <tal:no_bugcontact tal:condition="not:product/bugcontact">
        <p tal:condition="product/official_malone">
          <a tal:attributes="href product/owner/fmt:url"
             tal:content="product/owner/displayname">Sample Person</a>, the
             <tal:product tal:replace="product/displayname">Firefox</tal:product>
             registrant, will be notified about this bug.

        </p>

        <p tal:condition="not: product/official_malone">
          There is no bug contact for
          <tal:product tal:replace="product/displayname">Firefox</tal:product>.
          This means that there is nobody upstream we can notify about
          this issue.
        </p>

      </tal:no_bugcontact>

      </tal:public_bug>

      <tal:private_bug tal:condition="context/bug/private">

      <p tal:condition="product/bugcontact">
        This is a confidential bug,
        so <a tal:attributes="href product/bugcontact/fmt:url"
           tal:content="product/bugcontact/displayname">Sample Person</a>,
         the bug contact for 
         <tal:product tal:replace="product/displayname">Firefox</tal:product>,
         won't be notified about this bug. If you want him to know
         about this bug you have to subscribe him to it.
      </p>

      </tal:private_bug>

    </metal:widgets>

  </div>

</div>

  </body>
</html>
