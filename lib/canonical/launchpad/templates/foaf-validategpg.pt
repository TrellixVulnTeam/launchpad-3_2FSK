<tal:do-this-first tal:content="view/processForm" />

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<div metal:fill-slot="main">

    <div tal:condition="not: view/successfullyProcessed">
      <h1>Confirm GPG key: <span tal:replace="context/fingerprint"/> by 
         <span tal:replace="context/requester/displayname"/></h1>

      <div tal:condition="view/errormessage" class="portalMessage"
           tal:content="structure view/errormessage">
      </div>

      <p>To confirm your GPG key, please enter your Launchpad password.</p>

      <form autocomplete="off" name="validate" action="" method="POST">
      <table>
        <tr>
          <th>Launchpad Password:</th>
          <td><input type="password" name="password" /></td>
        </tr>
        <tr>
          <td></td>
          <td>
            <input type="submit" name="SUBMIT_CHANGES" value="Submit" />
          </td>
        </tr>
      </table>
      </form>
    </div>

    <tal:success condition="view/successfullyProcessed">
      <h1>Your GPG key has been confirmed successfully.</h1>

      <div tal:condition="view/infomessage" class="portalMessage"
           tal:content="structure view/infomessage">
      </div>
      
    </tal:success>

</div>


</body>
</html>
