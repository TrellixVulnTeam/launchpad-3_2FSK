Check that we can view the productrelease.

  >>> print http(r"""
  ... GET /firefox/trunk/0.9 HTTP/1.1
  ... """)
  HTTP/1.1 200 Ok
  ...

Any user can see a table describing the files that are associated with the
release. Each file is linked.

    >>> anon_browser.open('http://launchpad.dev/firefox/trunk/0.9.2')
    >>> table = find_tag_by_id(anon_browser.contents, 'downloads')
    >>> print extract_text(table)
    File                            Description  Downloads
    firefox-0.9.2.orig.tar.gz (md5)              -

    >>> print table.a
    <a href=".../firefox/trunk/0.9.2/+download/firefox-0.9.2.orig.tar.gz">...

If the file had been downloaded, we'd see the number of times it was
downloaded and the date of the last download on that table as well.

    # Manually update the download counter for that file above so that we can
    # test it.
    >>> from datetime import date, datetime
    >>> from canonical.launchpad.database.librarian import LibraryFileAlias
    >>> lfa = LibraryFileAlias.selectOne(
    ...     LibraryFileAlias.q.filename == 'firefox-0.9.2.orig.tar.gz')
    >>> lfa.updateDownloadCount(date(2006, 5, 4), None, 1)

    >>> anon_browser.reload()
    >>> print extract_text(find_tag_by_id(anon_browser.contents, 'downloads'))
    File                            Description  Downloads
    firefox-0.9.2.orig.tar.gz (md5)              1 ... since last download
                                        Total:   1

When a file has been downloaded on the present day, all we can say is that
it's been downloaded "today".  That's because we don't have the time it was
downloaded, so we can't say it was downloaded a few minutes/hours ago.

    >>> lfa.updateDownloadCount(datetime.today(), None, 4356)
    >>> anon_browser.reload()
    >>> print extract_text(find_tag_by_id(anon_browser.contents, 'downloads'))
    File                            Description  Downloads
    firefox-0.9.2.orig.tar.gz (md5)              4,357 last downloaded today
                                        Total:   4,357
