<table class="listing"
       cellpadding="0" cellspacing="0"
       style="width: 100%; margin-bottom: 1px; margin-top: 2px;
              font-size: 90%;">
  <thead>
    <tr>
      <th>Fix Requested In</th>
      <th>Status</th>
      <th>Severity</th>
      <th>Assigned To</th>
    </tr>
  </thead>

  <tbody>
    <tal:request repeat="bugtask_info view/getBugTasksInfo">
    <tr tal:attributes="class bugtask_info/row_css">
      <td style="margin: 0; padding: 0">
        <a style="display: block; text-decoration: none; padding: 3px"
           tal:attributes="href bugtask_info/task_link"
           tal:content="bugtask_info/targetname"
        />
      </td>

      <td style="margin: 0; padding: 0">
        <a style="display: block; text-decoration: none; padding: 3px"
           tal:attributes="href bugtask_info/task_link;
                           class bugtask_info/status_css"
           tal:content="structure bugtask_info/status_title">
          $BugTask.status
        <img tal:condition="bugtask_info/statusexplanation"
             src="/@@/text"
             />
        </a>
      </td>

      <td style="margin: 0; padding: 0"
          tal:attributes="class bugtask_info/severity_css">
        <a style="display: block; text-decoration: none; padding: 3px"
           tal:attributes="href bugtask_info/task_link;
                           class bugtask_info/severity_css"
           tal:content="structure bugtask_info/severity_title">
          Critical
        </a>
      </td>

      <td style="margin: 0; padding: 0; vertical-align: middle">
        <tal:has_watch condition="bugtask_info/bugwatch">
          <a style="display: block; text-decoration: none; padding: 3px"
             tal:attributes="href bugtask_info/task_link">
            <img tal:condition="bugtask_info/assignee"
                 src="/@@/user.gif" alt="" />
            <img
              alt="Linked to "
              src="/@@/arrowRight.gif"
            />
            <span tal:replace="bugtask_info/bugwatch/bugtracker/name">Zilla</span>
            #<span tal:replace="bugtask_info/bugwatch/remotebug">123</span>
          </a>
        </tal:has_watch>

        <tal:has_no_watch condition="not: bugtask_info/bugwatch">
          <a style="display: block; text-decoration: none;"
             tal:attributes="href bugtask_info/task_link">
            <tal:has_assignee condition="bugtask_info/assignee">
              <img src="/@@/user.gif"
                   style="padding-bottom: 2px"
                   alt="" />
              <span tal:replace="bugtask_info/assignee/browsername">
                assignee.browsername
              </span>
            </tal:has_assignee>
            <tal:no_assignee condition="not: bugtask_info/assignee">
              &mdash;
            </tal:no_assignee>
          </a>
        </tal:has_no_watch>

      </td>

    </tr>
    </tal:request>
  </tbody>

</table>

<div style="font-size: 80%; text-align: right; margin-bottom: 1em;"
     tal:define="current_bugtask view/currentBugTask">

  Request fix:
  <span style="white-space: nowrap">
      <img src="/@@/add.gif" alt="+" />
      <a tal:attributes="href string:${current_bugtask/fmt:url}/+upstreamtask"
         title="Mark this bug as occurring upstream">
        Upstream&hellip;
      </a>
  </span>

  <span style="white-space: nowrap">
      <img src="/@@/add.gif" alt="+" />
      <a tal:attributes="href string:${current_bugtask/fmt:url}/+distrotask"
         title="Mark this bug as occurring in a distro package">
        In Distribution&hellip;
      </a>
  </span>

</div>

