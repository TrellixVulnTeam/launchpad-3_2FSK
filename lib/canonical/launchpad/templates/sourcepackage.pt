<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

  <metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure context/@@+portlet-details" />
    <div tal:replace="structure context/@@+portlet-translations" />
    <div tal:replace="structure context/distrorelease/@@+portlet-details" />
    <div tal:replace="structure context/@@+portlet-hctstatus" />
  </metal:leftportlets>

  <metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure context/@@+portlet-upstream-details" />
    <div tal:replace="structure context/@@+portlet-latesttickets" />
    <div tal:replace="structure context/@@+portlet-releases" />
  </metal:rightportlets>

<div metal:fill-slot="main">

  <h1>Source Package Overview</h1>

  <p class="documentDescription">
    This page shows the specific versions of the
    <span tal:replace="context/sourcepackagename/name">apache2</span> source
    package that are published in each pocket of the
    <span tal:replace="context/distrorelease/displayname">Hoary</span>
    distribution release.
  </p>

  <p class="portalMessage" tal:condition="not:context/currentrelease">
    There is no current release of this source package 
    in <span tal:replace="context/distrorelease/title" />.
  </p>

  <tal:block repeat="pocket view/published_by_pocket">
    <tal:block condition="pocket/packages">
      <p><b tal:content="pocket/pocketdetails/title">Plain</b>:</p>

      <p style="margin-left: 20px;" 
         tal:content="pocket/pocketdetails/description">
        The description of the pocket.
      </p>

      <ul>
        <li tal:repeat="spr pocket/packages">
          <a tal:content="spr/displayname"
             tal:attributes="href spr/fmt:url">apache2</a>
        </li>
      </ul>
    </tal:block>
  </tal:block>

  <tal:block tal:condition="context/currentrelease"
             tal:define="current context/currentrelease">

    <h2>Download Files from Current Release (<span
    tal:replace="current/version">2.1.3-4</span>)</h2>

      <div tal:define="files current/files">
        <ul tal:condition="files">
          <li class="file" tal:repeat="file files">
            <a tal:content="file/url/filename"
               tal:attributes="href file/url/fileurl" />
          </li>
          <li class="alert" tal:condition="not:files">
            <i>No files available for download.</i>
          </li>
        </ul>
      </div>

    <h2>Binary Packages</h2>
        
    <ul tal:define="binaries view/binaries">
      <li class="alert" tal:condition="not:binaries">
        <i>No binaries generated for this SourcePackageRelease</i>
      </li>
      <li tal:repeat="bin_name binaries" >
        <span tal:replace="bin_name" /> 
        <span tal:repeat="archtag python:binaries[bin_name]">
          (<a tal:content="archtag" tal:attributes="href 
                           string:../../${archtag}/${bin_name}" />) 
        </span>
      </li>
    </ul>

    <h2 tal:condition="view/has_build_depends">
        Package Relationship
    </h2>

    <table width="100%" valign="top">
      <tr>
        <td tal:condition="view/builddepends">
          <h4>Build Dependencies</h4>
          <ul>
            <li tal:repeat="dep view/builddepends">
              <a tal:content="dep/name"
                 tal:attributes="href string:../../i386/${dep/name}" />
              <span tal:condition="dep/signal"
                    tal:content="string:(${dep/signal} ${dep/version})" />
            </li>
          </ul>
        </td>

        <td tal:condition="view/builddependsindep">
          <h4>Platform-independent Build Dependencies</h4>
          <ul>
            <li tal:repeat="dep view/builddependsindep">
              <a tal:content="dep/name"
                 tal:attributes="href string:../../i386/${dep/name}" />
              <span tal:condition="dep/signal"
                    tal:content="string:(${dep/signal} ${dep/version})" />
            </li>
          </ul>
        </td>
      </tr>
    </table>

  </tal:block>

</div>
</body>
</html>
 
