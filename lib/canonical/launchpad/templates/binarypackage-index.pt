<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

  <metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure view/launchbag/distribution/@@+portlet-details" />
    <div tal:replace="structure view/launchbag/distrorelease/@@+portlet-details" />
    <div tal:replace="structure view/launchbag/distroarchrelease/@@+portlet-details" />
  </metal:leftportlets>

  <metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure context/@@+portlet-lastversions" />
  </metal:rightportlets>

  <div metal:fill-slot="main">

      <h1>
        &#8220;<span tal:replace="context/title">foo</span>&#8221;
        package
      </h1>

      <p class="documentDescription" tal:content="context/summary">
        The summary goes here.
      </p>

    <p tal:content="context/description" />

      <table>
        <tbody>
          <tr>
            <th><label>Package version:</label></th>
            <td tal:content="context/version">1.0.3</td>
          </tr>
          <tr>
            <th><label>Status:</label></th>
            <td tal:content="context/status">gift-wrapped</td>
          </tr>
          <tr>
            <th><label>Component:</label></th>
            <td tal:content="context/component/name">pulley</td>
          </tr>
          <tr>
            <th><label>Priority:</label></th>
            <td tal:content="context/priority/title">YAGNI</td>
          </tr>
          <tr>
            <th><label>Download:</label></th>
            <td tal:define="files context/files_url">

          <ul tal:condition="files">
            <li tal:repeat="file files">
              <a tal:content="file/filename"
                 tal:attributes="href file/fileurl" /> 
            </li>
          </ul>
          <div tal:condition="not:files">
            No files available for download.
          </div>

            </td>
          </tr>
          <tr>
            <th>Source package:</th>
            <td>

        <a tal:define="spackage context/build/sourcepackagerelease"
           tal:content="spackage/name"
           tal:attributes="href string:../../+sources/${spackage/name}">
           SOURCEPACKAGE</a>

            </td>
          </tr>
          <tr>
            <td colspan="2"><h2>Relationship to other packages</h2></td>
          </tr>
          

          <tr>
            <th><label>Provides:</label></th>
            <td>
              <div tal:condition="not:view/provides">
                unknown
              </div>
              <ul tal:condition="view/provides">
                <li tal:repeat="binprovides view/provides">

	      <span tal:content="binprovides/name" />
		<tal:dummy condition="binprovides/signal">
                  (<span tal:replace="binprovides/signal" />
                  <span tal:replace="binprovides/version" />)
		</tal:dummy>
                </li>
              </ul>
            </td>
          </tr>
          <tr>
            <th><label>Depends on:</label></th>
            <td>
              <div tal:condition="not:view/depends">
                unknown
              </div>
              <ul tal:condition="view/depends">
                <li tal:repeat="bindepends view/depends">
                  
	        <a tal:content="bindepends/name"
		tal:attributes="href string:../../../${bindepends/name}"/> 
		<tal:dummy condition="bindepends/signal">
		              (<span tal:replace="bindepends/signal" /> 
		              <span tal:replace="bindepends/version" />)
<!-- 		  <a tal:content="bindepends/version" -->
<!-- 		  tal:attributes="href string:../../../${bindepends/name}/${bindepends/version}" /> ) -->
		</tal:dummy> 

	              </li>
	            </ul>
            </td>
          </tr>
          <tr>
            <th><label>Recommends:</label></th>
            <td>
              <div tal:condition="not:view/recommends">
                unknown
              </div>
              <ul tal:condition="view/recommends">
                <li tal:repeat="binrecommends view/recommends">

	        <a tal:content="binrecommends/name"
		tal:attributes="href string:../../../${binrecommends/name}"/> 
		<tal:dummy condition="binrecommends/signal">
                  (<span tal:replace="binrecommends/signal" /> 
                  <span tal:replace="binrecommends/version" />)
		</tal:dummy>

        	      </li>
        	    </ul>
            </td>
          </tr>
          <tr>
            <th><label>Suggests:</label></th>
            <td>
              <div tal:condition="not:view/suggests">
                unknown
              </div>
              <ul tal:condition="view/suggests">
                <li tal:repeat="binsuggests view/suggests">

	        <a tal:content="binsuggests/name"
		tal:attributes="href string:../../../${binsuggests/name}"/>  
		<tal:dummy condition="binsuggests/signal">
                  (<span tal:replace="binsuggests/signal" />
                  <span tal:replace="binsuggests/version" />)
		</tal:dummy>

                </li>
              </ul>
            </td>
          </tr>
          <tr>
            <th><label>Conflicts with:</label></th>
            <td>
              <div tal:condition="not:view/conflicts">
                unknown
              </div>
              <ul condition="view/conflicts">
                <li tal:repeat="binconflicts view/conflicts">

	        <a tal:content="binconflicts/name"
		tal:attributes="href string:../../../${binconflicts/name}"/> 
		<tal:dummy condition="binconflicts/signal">
                  (<span tal:replace="binconflicts/signal" /> 
                  <span tal:replace="binconflicts/version" />)
		</tal:dummy> 

                </li>
              </ul>

            </td>
          </tr>
          <tr>
            <th><label>Replaces:</label></th>
            <td>
              <div tal:condition="not:view/replaces">
                unknown
              </div>
              <ul tal:condition="view/replaces">
                <li tal:repeat="binreplaces view/replaces">

	        <a tal:content="binreplaces/name"
		tal:attributes="href string:../../../${binreplaces/name}"/>  
		<tal:dummy condition="binreplaces/signal">
                  (<span tal:replace="binreplaces/signal" /> 
                  <span tal:replace="binreplaces/version" />)
		</tal:dummy> 

                </li>
              </ul>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </body>
</html>
