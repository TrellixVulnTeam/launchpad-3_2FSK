        Binary Package Release
        ^^^^^^^^^^^^^^^^^^^^^^

BinaryPackageRelease stores unique versions of a binarypackagenames
across build records.

   >>> from canonical.launchpad.database import BinaryPackageRelease
   >>> from canonical.launchpad.interfaces import (
   ...       IBinaryPackageRelease, IBinaryPackageReleaseSet)
   >>> from zope.interface.verify import verifyObject

   >>> bin = BinaryPackageRelease.get(12)
   >>> verifyObject(IBinaryPackageRelease, bin)
   True


Useful properties:

   >>> bin.name, bin.version
   (u'mozilla-firefox', u'0.9')

   >>> bin.status
   'Published'

   >>> bin.lastversions()
   []
   >>> from canonical.launchpad.interfaces import IDistroReleaseSet
   >>> warty = getUtility(IDistroReleaseSet).get(1)
   >>> warty.name
   u'warty'
   >>> hoary = getUtility(IDistroReleaseSet).get(3)
   >>> hoary.name
   u'hoary'


Check IBinaryPackageRelease.override() behaviour:

   >>> bin.component.name, bin.section.name
   (u'main', u'base')

   >>> from canonical.launchpad.interfaces import (
   ...     IComponentSet, ISectionSet)
   >>> from canonical.lp.dbschema import PackagePublishingPriority
   >>> new_comp = getUtility(IComponentSet)['universe']
   >>> new_sec = getUtility(ISectionSet)['mail']
   >>> new_priority = PackagePublishingPriority.IMPORTANT

Override the current binpackagerelease with new
component/section/priority pair:

   >>> bin.override(component=new_comp, section=new_sec,
   ...              priority=new_priority)

   >>> bin.component.name, bin.section.name, bin.priority.name
   (u'universe', u'mail', 'IMPORTANT')

Override again; ensure that only the changed item actually changes:

   >>> new_sec = getUtility(ISectionSet)['net']
   >>> bin.override(section=new_sec)
   >>> bin.component.name, bin.section.name, bin.priority.name
   (u'universe', u'net', 'IMPORTANT')

Abort transaction to avoid error propagation of the new attributes:

   >>> import transaction
   >>> transaction.abort()

BinaryPackageReleaseSet utility:

   >>> binset = getUtility(IBinaryPackageReleaseSet)
   >>> verifyObject(IBinaryPackageReleaseSet, binset)
   True

   >>> ret = binset.findByNameInDistroRelease(warty.id, 'fire')
   >>> for item in ret:
   ...     print item.name
   mozilla-firefox

   >>> ret = binset.getByNameInDistroRelease(hoary.id, 'pmount')
   >>> for item in ret:
   ...     print item.name
   pmount

