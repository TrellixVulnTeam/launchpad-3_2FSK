Let's change the preferred email from no-priv.

    >>> browser = setupBrowser(auth='Basic no-priv@canonical.com:test')
    >>> browser.open('http://launchpad.dev/~no-priv')
    >>> browser.getLink('Change details').click()
    >>> browser.getLink('E-mail Settings').click()
    >>> browser.url
    'http://launchpad.dev/~no-priv/+editemails'
    >>> browser.title
    "No Privileges Person's e-mail addresses"

    >>> second_browser = setupBrowser(auth='Basic no-priv@canonical.com:test')
    >>> second_browser.open('http://launchpad.dev/~no-priv/+editemails')

Set foo@baz.com as no-priv's preferred email address.

    >>> browser.getControl('foo@baz.com').selected = True
    >>> browser.getControl('Set as Contact Address').click()

    >>> for msg in get_feedback_messages(browser.contents):
    ...     print msg
    Your contact address has been changed to: foo@baz.com

Setting foo@baz.com again in another browser should return a nice message.

    >>> second_browser.getControl('foo@baz.com').selected = True
    >>> second_browser.getControl('Set as Contact Address').click()

    >>> for msg in get_feedback_messages(second_browser.contents):
    ...     print msg
    foo@baz.com is already set as your contact address.

An unclaimed user has no preferred email address:

   >>> admin_browser.open('http://launchpad.dev/~kiko')
   >>> admin_browser.title
   'Christian Reis does not use Launchpad'
   >>> admin_browser.getLink('Change e-mail settings').click()
   >>> print find_tag_by_id(admin_browser.contents,
   ...                      'no-contact-address').string
   Currently you don't have a contact address in Launchpad.
