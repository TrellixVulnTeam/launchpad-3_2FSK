This pagetest is used to check general behaviour of IPOFile translation
submissions.

For specific tests, you can see:

xx-pofile-translate-empty-strings-without-validation.txt
xx-pofile-translate-gettext-error-middle-page.txt
xx-pofile-translate-html-tags-escape.txt
xx-pofile-translate-lang-direction.txt
xx-pofile-translate-message-filtering.txt
xx-pofile-translate-newlines-check.txt

Now, we are going to see the behaviour of the translation form when used by
an anonymous user. We need to be sure that are able to browse translations
but are unable to actually change them.

    >>> browser.open(
    ...     'http://launchpad.dev/ubuntu/hoary/+source/evolution/'
    ...     '+pots/evolution-2.2/es/+translate')
    >>> browser.url
    'http://launchpad.dev/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/+translate'

We are in read only mode, so there shouldn't be any textareas:

    >>> main_content = find_tag_by_id(browser.contents, 'messages_to_translate')
    >>> for textarea in main_content.findAll('textarea'):
    ...     print 'Found textarea:\n%s' % textarea

Neither any input widget:

    >>> for input in main_content.findAll('input'):
    ...     print 'Found input:\n%s' % input

Any anonymous POST submission should fail:

    >>> print http(r"""
    ... POST /ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/+translate HTTP/1.1
    ... """)
    HTTP/1.1 500 Internal Server Error
    ...
    ...UnexpectedFormData: Anonymous users cannot do POST submissions...

English is not translatable since we store the untranslated messages
as English. If someone were to attempt an English translation, he
will get an error:

    >>> browser.open(
    ...     'http://launchpad.dev/ubuntu/hoary/+source/evolution/'
    ...     '+pots/evolution-2.2/en/+translate')
    Traceback (most recent call last):
    ...
    NotFound: Object: ... name: u'en'
