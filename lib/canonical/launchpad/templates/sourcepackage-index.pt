<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad"
>
  <body>
    <metal:heading fill-slot="pageheading">    
      <h1 tal:content="context/title">source package name</h1>
    </metal:heading>

  <metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure context/@@+portlet-details" />
    <div tal:replace="structure context/distrorelease/@@+portlet-details" />
  </metal:leftportlets>

  <metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure context/@@+portlet-latesttickets" />
    <div tal:replace="structure context/@@+portlet-releases" />
    <div tal:replace="structure context/@@+portlet-hctstatus" />
  </metal:rightportlets>

<div metal:fill-slot="main">

  <h2>Versions published</h2>

  <p class="warning message" tal:condition="not:context/currentrelease">
    There is no current release of this source package 
    in <span tal:replace="context/distrorelease/title" />.
    You can still report bugs, make translations, and so on,
    but they might not be used until the package is published.
  </p>

  <dl id="publishings" tal:condition="view/published_by_pocket">
    <tal:block repeat="pocket view/published_by_pocket">
      <tal:block condition="pocket/packages">
        <dt><dfn tal:content="pocket/pocketdetails/title">Plain</dfn></dt>
        <dd>
          <p tal:content="pocket/pocketdetails/description">
            The description of the pocket.
          </p>
          <ul>
            <li tal:repeat="spr pocket/packages">
              <a tal:content="spr/displayname"
                 tal:attributes="href spr/fmt:url">apache2</a>
            </li>
          </ul>
        </dd>
      </tal:block>
    </tal:block>
  </dl>

  <h2>Upstream associations</h2>

  <ul id="upstreams" tal:define="series context/productseries">
    <tal:has_series condition="series">
      <li tal:condition="series/product/project">
       <b>Project:</b>
         <a tal:define="project series/product/project"
          tal:content="project/displayname"
          tal:attributes="href string:/projects/${project/name}">
          Project</a>
      </li>
      <li><b>Product:</b>
         <a tal:condition="series/product"
            tal:content="series/product/displayname"
            tal:attributes="href string:/${series/product/name}">
         Product</a>
      </li>
      <li><b>Branch: </b>
      <a tal:define="productseries context/productseries"
         tal:content="productseries/name"
         tal:attributes="href productseries/fmt:url">
         ProductSeries</a><br />
      </li>
    </tal:has_series>
    <tal:has_no_series condition="not: context/productseries">
       <li><b>Related product:</b>
       <i>
         No product associated with this sourcepackage
       </i>
    </tal:has_no_series>
    <small>(<a tal:attributes="href string:${context/fmt:url}/+packaging">update</a>)</small>
  </ul>

  <tal:block tal:condition="context/currentrelease"
             tal:define="current context/currentrelease">

    <h2>Download files from current release (<span
    tal:replace="current/version">2.1.3-4</span>)</h2>

    <div id="files" tal:define="files current/files">
      <ul class="download" tal:condition="files">
        <li tal:repeat="file files">
          <a tal:content="file/libraryfile/filename"
             tal:attributes="href file/libraryfile/url">foo-bar_2.dsc</a>
          (<span tal:replace="file/libraryfile/content/filesize/fmt:bytes" />)
        </li>
      </ul>
      <p tal:condition="not: files">
         No files available for download.
      </p>
    </div>

    <h2>Binary packages</h2>

    <div id="binaries" tal:define="binaries view/binaries">
      <ul tal:condition="binaries">
        <li tal:repeat="bin_name binaries">
          <span tal:replace="bin_name" />
          <span tal:repeat="archtag python:binaries[bin_name]">
            (<a tal:content="archtag" tal:attributes="href
                             string:../../${archtag}/${bin_name}" />)</span>
        </li>
      </ul>
      <p tal:condition="not: binaries">
         No binaries have been generated for this release.
      </p>
    </div>

    <h2 tal:condition="view/has_build_depends">
        Package relationships
    </h2>

    <table width="100%" valign="top">
      <tr>
        <td tal:condition="view/builddepends">
          <h3>Build dependencies</h3>
          <ul>
            <li tal:repeat="dep view/builddepends">
              <a tal:content="dep/name"
                 tal:attributes="href string:../../i386/${dep/name}" />
              <span tal:condition="dep/signal"
                    tal:content="string:(${dep/signal} ${dep/version})" />
            </li>
          </ul>
        </td>

        <td tal:condition="view/builddependsindep">
          <h3>Platform-independent build dependencies</h3>
          <ul>
            <li tal:repeat="dep view/builddependsindep">
              <a tal:content="dep/name"
                 tal:attributes="href string:../../i386/${dep/name}" />
              <span tal:condition="dep/signal"
                    tal:content="string:(${dep/signal} ${dep/version})" />
            </li>
          </ul>
        </td>
      </tr>
    </table>

  </tal:block>

</div>
</body>
</html>
 
