YUI.add("io",function(C){var E="io:xdrReady",q="io:start",G="io:complete",F="io:success",W="io:failure",j="io:abort",l=C.config.win,x=C.config.doc,t=0,M={"X-Requested-With":"XMLHttpRequest"},R={},f={},Q={flash:null},r=[],S=1,m=false;function L(Y,w){if(m===false||r.length<m){var d=i();r.push({uri:Y,id:d,cfg:w})}else{return false}if(S===1){h()}return d}function B(z){var d;for(var Y=0;Y<r.length;Y++){if(r[Y].id===z){d=r.splice(Y,1);var w=r.unshift(d[0]);break}}}function h(){var Y=r.shift();g(Y.uri,Y.cfg,Y.id)}function J(Y){if(Y){m=Y;return Y}else{return r.length}}function c(){var Y=(r.length>m>0)?m:r.length;if(Y>1){for(var d=0;d<Y;d++){h()}}else{h()}}function T(){S=0}function e(d){if(C.Lang.isNumber(d)){for(var Y=0;Y<r.length;Y++){if(r[Y].id===d){r.splice(Y,1);break}}}}function g(w,Ac){var Ac=Ac||{};var Ab=X((arguments.length===3)?arguments[2]:null,Ac);var Y=(Ac.method)?Ac.method.toUpperCase():"GET";var Aa=(Ac.data)?Ac.data:null;if(Ac.form){var z=u(Ac.form);if(Aa){z+="&"+Aa}if(Y==="POST"){Aa=z;b("Content-Type","application/x-www-form-urlencoded")}else{if(Y==="GET"){w=n(w,z)}}}else{if(Aa&&Y==="GET"){w=n(w,Ac.data)}else{if(Aa&&Y==="POST"&&(Ac.headers===undefined||!Ac.headers.Content_Type===undefined)){b("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")}}}if(Ac.xdr){if(Ac.on){f[Ab.id]=Ac.on}if(Aa&&Y!=="GET"){Ac.data=Aa}Ab.c.send(w,Ac,Ab.id);return Ab}if(Ac.timeout){o(Ab,Ac)}Ab.c.onreadystatechange=function(){N(Ab,Ac)};a(Ab.c,Y,w);K(Ab.c,(Ac.headers||{}));k(Ab,(Aa||""),Ac);Ab.abort=function(){H(Ab,Ac)};Ab.isInProgress=function(){return Ab.c.readyState!==4&&Ab.c.readyState!==0};return Ab}function U(d,w){var Y=new C.Event.Target().publish("transaction:"+d);Y.subscribe(w.on[d],(w.context||this),w.arguments);return Y}function V(Y){C.fire(E,Y)}function P(w,d){d.on=d.on||{};var Y;if(f[w]&&f[w].start){d.on.start=f[w].start}C.fire(q,w);if(d.on.start){Y=U("start",d);Y.fire(w)}}function Z(d,w){w.on=w.on||{};var Y;C.fire(G,d.id,d.c);if(w.on.complete){Y=U("complete",w);Y.fire(d.id,d.c)}}function s(d,w){w.on=w.on||{};var Y;if(f[d.id]&&f[d.id].success){w.on.success=f[d.id].success;delete f[d.id];d.c.responseText=decodeURI(d.c.responseText)}C.fire(F,d.id,d.c);if(w.on.success){Y=U("success",w);Y.fire(d.id,d.c)}O(d,(w.xdr)?true:false)}function I(d,w){w.on=w.on||{};var Y;if(f[d.id]&&f[d.id].failure){w.on.failure=f[d.id].failure;delete f[d.id];d.c.responseText=decodeURI(d.c.responseText)}C.fire(W,d.id,d.c);if(w.on.failure){Y=U("failure",w);Y.fire(d.id,d.c)}O(d,(w.xdr)?true:false)}function H(d,w){w.on=w.on||{};var Y;if(d&&d.c&&!w.xdr){d.c.abort();if(w){if(w.timeout){D(d.id)}}}if(f[d.id]&&f[d.id].abort){w.on.abort=f[d.id].abort;delete f[d.id]}C.fire(j,d.id);if(w.on.abort){Y=U("abort",w);Y.fire(id)}O(d,(w.xdr)?true:false)}function y(){return(l.XMLHttpRequest)?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP")}function p(w,z){var Y=C.Node.get("body");var d='<object id="yuiSwfIo" type="application/x-shockwave-flash" data="'+w+'" width="0" height="0">';d+='<param name="movie" value="'+w+'">';d+='<param name="FlashVars" value="yid='+z+'">';d+='<param name="allowScriptAccess" value="sameDomain">';d+="</object>";Y.appendChild(C.Node.create(d));Q.flash=x.getElementById("yuiSwfIo")}function i(){var Y=t;t++;return Y}function X(Y,w){var d={};d.id=C.Lang.isNumber(Y)?Y:i();if(w&&w.xdr){d.c=Q[w.xdr.use]}else{d.c=y()}return d}function n(Y,w){Y+=((Y.indexOf("?")==-1)?"?":"&")+w;return Y}function b(Y,d){if(d){M[Y]=d}else{delete M[Y]}}function A(Y){switch(Y.id){case"flash":p(Y.src,Y.yid);break}}function K(w,Y){var d;for(d in M){if(M.hasOwnProperty(d)){Y[d]=M[d]}}for(d in Y){if(Y.hasOwnProperty(d)){w.setRequestHeader(d,Y[d])}}}function a(w,Y,d){w.open(Y,d,true)}function k(w,Y,z){w.c.send(Y);P(w.id,z)}function o(Y,d){R[Y.id]=l.setTimeout(function(){H(Y,d)},d.timeout)}function D(Y){l.clearTimeout(R[Y]);delete R[Y]}function N(Y,d){if(Y.c.readyState===4){if(d.timeout){D(Y.id)}Z(Y,d);v(Y,d)}}function v(w,z){var Y;try{if(w.c.status&&w.c.status!==0){Y=w.c.status}else{Y=0}}catch(d){Y=0}if(Y>=200&&Y<300||Y===1223){s(w,z)}else{I(w,z)}}function O(d,Y){if(l.XMLHttpRequest&&!Y){if(d.c){d.c.onreadystatechange=null}}d.c=null;d=null}function u(d){var Ae="";var Ac=(typeof d.id==="object")?d.id:x.getElementById(d.id);var Af=d.useDisabled||false;var Ab=encodeURIComponent;var Ad,w,Ag,Y;for(var Aa=0;Aa<Ac.elements.length;Aa++){Ad=Ac.elements[Aa];Y=Ad.disabled;w=Ad.name;Ag=Ad.value;if((Af)?w:(w&&Y)){}switch(Ad.type){case"select-one":case"select-multiple":for(var z=0;z<Ad.options.length;z++){if(Ad.options[z].selected){if(C.UA.ie){Ae+=Ab(w)+"="+Ab(Ad.options[z].attributes.value.specified?Ad.options[z].value:Ad.options[z].text)+"&"}else{Ae+=Ab(w)+"="+Ab(Ad.options[z].hasAttribute("value")?Ad.options[z].value:Ad.options[z].text)+"&"}}}break;case"radio":case"checkbox":if(Ad.checked){Ae+=Ab(w)+"="+Ab(Ag)+"&"}break;case"file":case undefined:case"reset":case"button":break;case"submit":default:Ae+=Ab(w)+"="+Ab(Ag)+"&"}}return Ae.substr(0,Ae.length-1)}g.xdrReady=V;g.start=P;g.success=s;g.failure=I;g.abort=H;g.header=b;g.transport=A;g.queue=L;g.queue.size=J;g.queue.start=c;g.queue.stop=T;g.queue.promote=B;g.queue.purge=e;C.io=g},"3.0.0");