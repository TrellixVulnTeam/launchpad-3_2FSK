Karma Updater
=============

In Launchpad, every time someone performs an action, we give them some karma
points. These karma points are stored in the KarmaAction table and the
assignment to a user is made in the Karma table. The method used to calculate
someone's karma is time-dependent, because we want to give more karma points for
actions performed recently. This method is described in 
<https://launchpad.canonical.com/KarmaImplementation>.

It would be a problem if every time we wanted to see a user's total karma we
had to calculate it, so we decided to cache this total and update it
periodically. This cache is stored in the KarmaCache table and is updated by
the foaf-update-karma-cache.py cronscript.

>>> import subprocess
>>> process = subprocess.Popen(
...     ['cronscripts/foaf-update-karma-cache.py', '-q'],
...     stdin=subprocess.PIPE, stdout=subprocess.PIPE, stderr=subprocess.PIPE
...     )
>>> (out, err) = process.communicate()
>>> out, err
('', '')
>>> process.returncode
0

