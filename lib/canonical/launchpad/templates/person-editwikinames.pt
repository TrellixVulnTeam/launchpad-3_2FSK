<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
  <body>

  <div metal:fill-slot="main">

    <h1>Your wiki names</h1>

    <p tal:condition="view/error_message"
       tal:content="structure view/error_message/escapedtext"
       class="error message" />

    <form name="edit_wikiname" action="" method="POST">
    <table id="wikinames">

      <tal:comment condition="nothing">
        XXX: salgado, 2008-11-25: We should use context/wiki_names/is_empty
        here, but we can't do that because there's a bug preventing us from
        updating our version of storm to trunk.
      </tal:comment>  
      <tal:block condition="context/wiki_names/any">

        <tr><td colspan="2"><h2>Wiki names</h2></td></tr>

        <tr>
          <td><label>Wiki base URL:</label></td>
          <td><label>Wiki name:</label></td>
        </tr>

        <tr tal:repeat="wiki context/wiki_names">
          <td>
            <input type="text" style="margin-bottom: 0.5em;"
                   tal:attributes="name string:wiki_${wiki/id};
                                   value wiki/wiki" />
          </td>
          <td>
            <input type="text" size="15"
                   tal:attributes="name string:wikiname_${wiki/id};
                                   value wiki/wikiname" />
          </td>

          <td>
            <label>
              <input type="checkbox" value="Remove"
                     tal:attributes="name string:remove_${wiki/id}" />
              Remove
            </label>
          </td>
        </tr>

      </tal:block>

    <tr>
      <td colspan="2"><h2>New wiki name</h2></td>
    </tr>
    
    <tr>
      <td><label>Wiki Base URL:</label></td>
      <td><label>Wiki Name:</label></td>
    </tr>

    <tr>
      <td>
        <input name="newwiki" type="text"
               tal:attributes="value view/newwiki|nothing" />
      </td>
      <td>
        <input name="newwikiname" type="text" size="15"
               tal:attributes="value view/newwikiname|nothing" />
      </td>
    </tr>

    <tr>
      <td class="formHelp">Example: https://wiki.ubuntu.com/</td>
      <td class="formHelp">Example: YourName.</td>
    </tr>
  </table>

  <div class="formControls">
    <input type="submit" value="Save Changes" name="SAVE" />
  </div>

  </form>
  </div>

</body>
</html>
