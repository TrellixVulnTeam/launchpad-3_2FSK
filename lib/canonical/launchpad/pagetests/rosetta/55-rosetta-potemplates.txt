Legend and headers display
--------------------------

When there are no preferred languages for a user (or the user is not
logged in), she will not see a legend when displaying the list of
translatable templates.

  >>> test_urls = [
  ... 'http://launchpad.dev/evolution/trunk/+translations',
  ... 'http://launchpad.dev/evolution/trunk/+pots/evolution-2.2-test',
  ... 'http://launchpad.dev/ubuntu/hoary/+source/evolution/+translations',
  ... 'http://launchpad.dev/ubuntu/hoary/+source/evolution/+pots/man'
  ... ]
  >>> for url in test_urls:
  ... 	  anon_browser.open(url)
  ...     anon_browser.url == url
  ...     'Newly translated in Rosetta' in anon_browser.contents
  True
  False
  True
  False
  True
  False
  True
  False



The PO Template Views
---------------------

Carlos is a translator who translates things into Spanish and Catalan.
When he looks at available translations for Evolution in Hoary, he
should see Catalan in the list.

  >>> browser.addHeader('Authorization', 'Basic carlos@canonical.com:test')
  >>> browser.open('http://launchpad.dev/ubuntu/hoary/+source/evolution/+translations')
  >>> browser.url
  'http://launchpad.dev/ubuntu/hoary/+source/evolution/+translations'
  >>> 'Catalan' in browser.contents
  True

But also, he doesn't want to see other languages in the list.  So, he
shouldn't see eg. Japanese.

  >>> 'Japanese' in browser.contents
  False

Next, if he chooses to view all the languages, he should see Japanese
among the languages on the page.

  >>> browser.getLink('View Template & All Languages...').click()
  >>> browser.url
  'http://launchpad.dev/ubuntu/hoary/+source/evolution/+pots/evolution-2.2'
  >>> 'Japanese' in browser.contents
  True

So, everything is fine, and Carlos can sleep calmly.
