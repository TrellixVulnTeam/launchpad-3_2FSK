<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<head>
    <!-- Plone style sheet -->
    <style type="text/css" media="screen">@import url(plone.css);</style>
    <!-- Rosetta style sheet -->
    <style type="text/css" media="screen">@import url(rosetta.css);</style>
</head>

<body>

<div metal:fill-slot="main">

    <h1><span tal:replace="context/title">$Product.title</span></h1>

    <div style="float: right; clear: both; margin-top: 0.25em;">

        Product home page:
        <a tal:content="context/homepageurl|default"
           tal:attributes="href context/homepageurl|nothing">(none
        supplied)</a><br />
        [ <a href="+edit">Edit Product Details</a> ]<br />
        [ <a href="+addsources">Add Revision Control System</a> ]<br />
        [ TODO: allow creation of link to packages ]<br />
        [ <a href="+addseries">Add a Release Series</a> ]<br />
        [ <a href="+addrelease">Register a New Release</a> ]

    </div>

    <div class="documentDescription" tal:content="context/shortdesc">
        $Product.shortdesc goes here. This should be quite short,
        just a single paragraph of text really, giving the product
        highlights.
    </div>

    <div tal:content="context/description">
        $Product.description goes here. This should be a longer piece of
        text, up to three paragraphs in length, which gives much more
        detailed information about the open source product in question.
        Ideally, this text is formatted using some formatting convention
        which we have not yet determined (HTML, reStructuredText or
        something else, for example).
    </div>

    <div tal:condition="context/sourcesources">

        <h2>Revision Control System</h2>

        <dl tal:repeat="source context/sourcesources">
            <dt><a tal:attributes="href python: string('+sources/') + source.name"
                    tal:content="source/title">Sync Title</a>&nbsp;<a
                    tal:condition="source/canChangeProduct"
                    tal:attributes="href python: string('+sources/') + source.name">Assign to product</a></dt>
            <dd tal:content="source/description"></dd>
        </dl>

    </div>

    <div tal:condition="context/sourcepackages">

        <h2>Distro Packages</h2>

        <p>This shows you which distributions have packaged this product.</p>

		<p class="dummy">Ideally, this would allow you to navigate straight to
		the information about that source package (by linking directly to the
		source package in the distro).</p>

		<ul tal:repeat="distro context/packagedInDistros">
			<li><a tal:content="distro/title"
				tal:attributes="href string:/soyuz/distros/${distro/name}">$Distro.title
				</a></li>
		</ul>

    </div>

    <div tal:condition="context/serieslist">

        <h2>Release Series (or "Branches")</h2>

        <p>Most open source projects issue releases as part of a "series".
        For example, some releases are from their "unstable" or "head" or
        "cvs" or "dev" series. Some are from a versioned series, like the "2.0"
        series might have releases numbered "2.0.0", "2.0.1" and
        "2.0.2".</p>

        <ul tal:repeat="series context/serieslist">

            <li><a
                tal:content="series/name"
	            tal:attributes="href python:string('+series/'+series.name)">$Series.name
	            </a></li>
            
        </ul>
    </div>

    <div tal:condition="context/releases">

        <h2>Releases of <span
        tal:replace="context/displayname">$Product.displayname</span></h2>

        <ol>
        
            <li tal:repeat="release context/releases">
                <b><span tal:content="release/version">version</span></b>: 
                "<span tal:content="release/title">title</span>"
                [ <a href="" tal:attributes="href release/version">View</a>
                ]<br />
                <span tal:replace="release/shortdesc">feature summary</span></li>

        </ol>

    </div>

</div>

</body>
</html>
