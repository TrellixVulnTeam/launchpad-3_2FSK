<html xmlns="http://www.w3.org/1999/xhtml"
      xml:lang="en" lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">
  <head>
    <title metal:fill-slot="title">
      <span tal:replace="context/calendar/title">Calendar Title</span> -
      <span tal:replace="view/datestring">Time</span>
    </title>
    <!-- Plone style sheet -->
    <style type="text/css" media="screen">@import url(plone.css);</style>
  </head>

  <body>

    <div metal:fill-slot="main">
      <div id="content" class="documentEditable">
        <ul class="contentViews">
          <li id="contentview-day">
            <a tal:attributes="href view/dayViewURL">Day</a>
          </li>
          <li id="contentview-week">
            <a tal:attributes="href view/weekViewURL">Week</a>
          </li>
          <li id="contentview-month" class="selected">
            <a tal:attributes="href view/monthViewURL">Month</a>
          </li>
          <li id="contentview-year">
            <a tal:attributes="href view/yearViewURL">Year</a>
          </li>
        </ul>
        <div class="documentContent">
          <h1>
            <span tal:replace="context/calendar/title">Calendar Title</span> -
            <span tal:replace="view/datestring">Time</span>
          </h1>

          <table class="cal-navigation">
            <tr>
              <td width="30%" align="left">
                <a tal:attributes="href view/prevURL">&#8592; Previous</a>
              </td>
              <td width="30%" align="center">
                <a href="../this-month">Today</a>
              </td>
              <td width="30%" align="right">
                <a tal:attributes="href view/nextURL">Next &#8594;</a>
              </td>
            </tr>
          </table>

          <table class="cal-table">
            <tr>
              <th tal:repeat="day view/daynames"
                  tal:content="day">Day of Week</th>
            </tr>
            <tr tal:repeat="row view/layout" valign="top">
              <tal:block tal:repeat="daynum row">
                <td tal:condition="daynum"
                    tal:define="day python:view.days[daynum-1]"
                    class="cal-daycell" width="14%">
                <div class="cal-dayhead">
                  <a tal:attributes="href day/dayURL"
                     tal:content="day/date/day">1</a>
                </div>
                <div tal:condition="view/canAddEvents" class="cal-addlink">
                  <a tal:attributes="href day/addURL">(add)</a>
                </div>
                <ul class="cal-event-list">
                  <li tal:repeat="event day/events"
                      tal:attributes="style python:'background: %s' % view.eventColour(event)">
                    <a tal:attributes="href string:../events/${event/id}/">
                    <span tal:replace="python:view.eventStart(event)">12:00</span>
                    -
                    <span tal:replace="event/title">Title</span>
                    </a>
                  </li>
                </ul>
                </td>
                <td tal:condition="not:daynum"></td>
              </tal:block>
            </tr>
          </table>
        </div>
      </div>
    </div>

  </body>
</html>
