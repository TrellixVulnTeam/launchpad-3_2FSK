<html xmlns="http://www.w3.org/1999/xhtml"
    xml:lang="en"
    lang="en"
    metal:use-macro="context/@@main_template/master"
    i18n:domain="launchpad">
<body>

<div metal:fill-slot="main">

    <h1>Export Translations</h1>

    <tal:thing content="view/processForm" />

    <tal:block condition="view/errorMessage">
        <p class="portalMessage" tal:content="view/errorMessage">
        Blah blah.
        </p>
    </tal:block>

    <tal:block condition="view/formProcessed">
        <p>
        Your export request has been received. The results should arrive by
        email shortly.
        </p>
    </tal:block>

    <tal:block condition="not: view/formProcessed">

        <p>
        The files you request will be exported shortly, and a notification
        will be sent to your email address <strong
        tal:content="view/user/preferredemail/email">user@domain</strong>.
        </p>

        <h2>Select Files for Exporting</h2>

        <form action="" method="POST">

            <div class="field">
                <label>
                    <input name="what" type="radio" value="all"
                        checked="checked">
                    Everything
                </label>
            </div>

            <div class="field">
                <label>
                    <input name="what" type="radio" value="some" />
                    Selected files
                </label>

                <div class="multi_select"
                     style="margin-left: 2em; margin-bottom: 1em;">
                    <div class="field">
                        <label>
                            <input type="checkbox" name="potemplate" />
                            The PO template
                        </label>
                    </div>
                    <tal:thing repeat="pofile view/pofiles">
                        <div class="field">
                            <label>
                                <input type="checkbox"
                                    tal:attributes="name pofile/value" />
                                <span tal:content="pofile/browsername">Spanish</span>
                            </label>
                        </div>
                    </tal:thing>
                </div>
            </div>

            <div class="field" style="clear: left">
                <label>
                Format:
                    <select name="format">
                        <option
                            tal:repeat="format view/formats"
                            tal:content="format/title"
                            tal:attributes="value format/value">PO format</option>
                    </select>
                </label>
            </div>

            <div class="formControls" style="clear: left">
                <input type="submit" value="Request Export" />
            </div>

        </form>

    </tal:block>

</div>

</body>
</html>
