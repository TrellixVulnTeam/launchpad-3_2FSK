<tal:comment condition="nothing">
  Indicates if no templates are registered for this object, and
  redirects to the mailing lists in case that is incorrect.
</tal:comment>

<tal:content define="potemplates context/currentpotemplates">

  <tal:block condition="not: potemplates">

    <h2 i18n:translate="">No translatable templates available</h2>

    <p i18n:translate=""><span tal:replace="context/displayname" />
    does not have any strings to be translated through Rosetta. If
    you think this is incorrect, please send an email to
    <a href="mailto:rosetta-users@lists.ubuntu.com">the Rosetta
    mailing list</a> or file a bug in our
    <a href="/products/rosetta/+bugs">bug
    tracking system</a> so we can look into the problem. Thanks.
    </p>
  </tal:block>

  <tal:templateviews condition="view/templateviews">

    <tal:block tal:condition="python:len(potemplates) > 5">
      <!-- Listing of MANY templates -->

      <p>
        These templates can be translated using Rosetta.
      </p>

      <table class="listing">
        <thead>
          <tr>
            <th>template name and title</th>
          </tr>
        </thead>
        <tbody>
          <tr tal:repeat="potview view/templateviews"
              tal:attributes="onclick
                 string:window.location='${potview/context/fmt:url}'">
            <td><a tal:attributes="href potview/context/fmt:url"
                   tal:content="potview/context/name">name</a>: 
                <span tal:replace="potview/context/title">title</span>
            </td>
          </tr>
        </tbody>
      </table>

    </tal:block>

    <tal:listing tal:condition="python:len(potemplates) <= 5">
      <!-- Listing of FEW templates -->

      <div tal:condition="not: view/languages">
        <ul>
          <li tal:repeat="potview view/templateviews">
            <a tal:attributes="href potview/context/fmt:url"
              tal:content="potview/context/title">template</a>
          </li>
        </ul>
      </div>

      <div tal:condition="view/languages"
           tal:repeat="potview view/templateviews"
           tal:omit-tag=""> <!-- PO Template Details -->

        <h2><span tal:replace="potview/context/title">Template Title</span></h2>

        <p tal:content="potview/description">
          Template description
        </p>

        <div tal:replace="structure potview/context/@@+chart" />

        <div align="right">
          [ <a tal:attributes="href potview/context/fmt:url">View Template
          &amp; All Languages...</a> ]
        </div>

      </div>

      <div tal:replace="structure context/@@+rosetta-status-legend" />

      <ul tal:condition="view/languages">
        <li class="search" i18n:translate="">
          <a href="/rosetta/prefs">Customize displayed languages</a>
        </li>
      </ul>

    </tal:listing>

  </tal:templateviews>

</tal:content>
