= Forcing suggestions =

When translation is restricted to a particular set of users
(like Evolution product is restricted for Spanish), other users
don't see a checkbox named 'Someone should review this translation'.

    >>> user_browser.open(
    ...     'http://translations.launchpad.dev/evolution/trunk/+pots/'
    ...     'evolution-2.2/es/1/+translate')

So, the checkbox is not shown.

    >>> needs_review_set = user_browser.getControl(
    ...     'Someone should review this translation')
    Traceback (most recent call last):
    ...
    LookupError: label 'Someone...

If the same user tries translating for another, unrestricted project,
they get to see the checkbox:

    >>> user_browser.open(
    ...     'http://translations.launchpad.dev/ubuntu/hoary/+source/'
    ...     'evolution/+pots/evolution-2.2/es/1/+translate')
    >>> needs_review_set = user_browser.getControl(
    ...     'Someone should review this translation')
    >>> needs_review_set.selected
    False

To send a suggestion instead of making an approved translation,
a translator needs to mark the needs review checkbox.

    >>> needs_review_set.selected = True
    >>> user_browser.getControl(
    ...     name='msgset_130_es_translation_0_radiobutton').value = [
    ...         'msgset_130_es_translation_0_new']
    >>> user_browser.getControl(
    ...     name='msgset_130_es_translation_0_new').value = "New suggestion"
    >>> user_browser.getControl('Save & Continue').click()
    >>> print user_browser.url
    http://translations.launchpad.dev/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/2/+translate

The needs review flag is unset when we go back to the previous message.

    >>> user_browser.getLink('Previous').click()
    >>> needs_review_set = user_browser.getControl(
    ...     'Someone should review this translation')
    >>> needs_review_set.selected
    False

But a new suggestion is provided for this message.

    >>> print extract_text(find_tag_by_id(user_browser.contents,
    ...                                   'msgset_130_es_suggestion_701_0'))
    New suggestion
