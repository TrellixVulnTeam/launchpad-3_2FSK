
The new front page of shipit will make it clear that we're not shipping
Edgy CDs (but we keep shipping Dapper ones) and give options for people
who want to obtain Edgy CDs/DVDs.

In order to be able to switch to the new front page without having to do
a full launchpad roll out, we defined a config variable (switch_to_edgy)
to control it.  If this variable is set to False, we'll render the original
front page, which allows people to login and is now registered at /login.

    >>> from canonical.config import config
    >>> config.shipit.switch_to_edgy = False
    >>> browser.open('http://shipit.ubuntu.dev')
    >>> browser.url
    'http://shipit.ubuntu.dev/login'

    >>> print browser.contents
    <...
    ...<label for="email">E-mail address:</label>...
    ...<input type="text" name="loginpage_email"...
    ...

This is done as a temporary redirect, to avoid bookmarks being automatically
updated and other things alike.
    
    >>> print http(r"""
    ... GET / HTTP/1.1
    ... Host: shipit.ubuntu.dev
    ... """)
    HTTP/1.1 303 See Other
    ...
    Location: login


If switch_to_edgy is set to True, then we'll render the new front page.

    >>> config.shipit.switch_to_edgy = True
    >>> browser.open('http://shipit.ubuntu.dev')
    >>> browser.url
    'http://shipit.ubuntu.dev'

    >>> print browser.contents
    <...
    ...I want to <span>download or buy the <strong>newest</strong>...
    ...I want to <span>request free CDs of the <strong>older</strong>...

