  Change the owner of the mozilla firefox product.

  Logged in as no-priv@canonical.com we can't do that, because he's not the
  owner of the product nor a member of admins.

  >>> browser.addHeader('Authorization', 'Basic no-priv@canonical.com:test')
  >>> browser.open('http://launchpad.dev/products/firefox/+reassign')
  Traceback (most recent call last):
  ...
  Unauthorized...

  Now we're logged in as FooBar and he's an LP admin, so he can do everything.

  >>> admin_browser.open('http://launchpad.dev/products/firefox')
  >>> admin_browser.getLink('Change Maintainer').click()
  >>> admin_browser.url
  'http://launchpad.dev/products/firefox/+reassign'

  >>> admin_browser.title
  'Reassign Mozilla Firefox'

  Trying to change the owner to a new team with an invalid name is not
  allowed.

  >>> admin_browser.getControl(name='field.owner').value = 'foo bar'
  >>> admin_browser.getControl(name='existing').value = ['new']
  >>> admin_browser.getControl('Change Owner').click()

  >>> message = ("'foo bar' is not a valid name for a team. Please make "
  ...            "sure it contains only the allowed characters and no spaces.")
  >>> message in admin_browser.contents
  True

  Chaging the owner to No privileges person.

  >>> admin_browser.getControl(name='field.owner').value = 'no-priv'
  >>> admin_browser.getControl(name='existing').value = ['existing']
  >>> admin_browser.getControl('Change Owner').click()

  >>> admin_browser.url
  'http://launchpad.dev/products/firefox/'

  Here we see the new owner: No Privileges person 

  >>> from BeautifulSoup import BeautifulSoup
  >>> soup = BeautifulSoup(admin_browser.contents)
  >>> soup.fetchText('Registrant:')[0].findNext('a').string
  'No Privileges Person'

  Now that no-priv is the owner of the product, he can transfer ownership to
  another person.

  >>> browser.open('http://launchpad.dev/products/firefox')
  >>> browser.getLink('Change Maintainer').click()
  >>> browser.url
  'http://launchpad.dev/products/firefox/+reassign'

  >>> browser.getControl(name='field.owner').value = 'name12'
  >>> browser.getControl(name='existing').value = ['existing']
  >>> browser.getControl('Change Owner').click()

  >>> soup = BeautifulSoup(browser.contents)
  >>> soup.fetchText('Registrant:')[0].findNext('a').string
  'Sample Person'
