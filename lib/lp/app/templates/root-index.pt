<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  metal:use-macro="view/macro:page/locationless"
  i18n:domain="launchpad">
  <metal:head fill-slot="head_epilogue">
    <style>
      .homepage {
          margin: auto;
          width: 90%;
          max-width: 80em;
      }
      .homepage-portlet {
          margin-bottom: 3em;
          line-height: 140%;
      }
      .homepage-portlet h2 {
          border-bottom: 1px solid;
          margin-top: 2em;
          font-size: 167%;
          }
      .homepage-whatslaunchpad h2 {
          font-size: 189%;
          font-weight: bold;
          line-height: 110%;
          margin-bottom: 0.5em;
      }
      #homepage-whatslaunchpad ul {
          margin-left: 1em;
          margin-bottom: 0.5em;
      }
      #homepage-whatslaunchpad ul,
      #homepage-whatslaunchpad-tour {
          font-size: 116%;
          font-weight: bold;
      }
      #homepage-stats {
          max-width: 50em;
          margin: auto;
          padding-top: 0.5em;
          color: gray;
          font-size: 83.3%
      }
      #homepage-blogposts {
          padding-right: 4em;
      }
      .homepage-getstarted h2 {
          border-bottom: 1px solid;
          margin-top: 1em;
          font-size: 161%;
          }
      .featured-project-top h3 {
          font-size: 131%;
          font-weight: bold;
          }
      .featured-project-top h3 img {
          vertical-align: middle;
          }
      .featured-project-top p {
          margin-top: 0.5em;
          margin-bottom: 1em;
          border-bottom: 1px solid #888888;
          }
    </style>
  </metal:head>
  <body>
    <div metal:fill-slot="main">

      <tal:comment replace="nothing">
        Do not replace the line below: "Is your project registered yet?"
        without contacting the IS team. It's used by Nagios to verify
        the app servers are running.
      </tal:comment>
      <!-- Is your project registered yet? -->

      <div id="homepage" class="homepage">

        <div class="top-portlet" style="border-bottom: 1px solid;">
          <img src="/@@/launchpad-logo-and-name.png"
               alt=""
               style="margin: 0 9em 1em 0"/>
        </div>

        <div class="yui-g">
          <div class="yui-u first">
            <div class="homepage-whatslaunchpad"
                 tal:condition="not:view/user" tal:content="cache:anonymous">
              <h2><span class="launchpad-gold">Launchpad</span> is a software collaboration platform that provides:</h2>
              <ul tal:define="apphomes view/apphomes">
              <li><a tal:attributes="href apphomes/bugs"><img src="/@@/bug" alt="" /></a>
                <a tal:attributes="href apphomes/bugs">Bug tracking</a></li>
              <li><a tal:attributes="href apphomes/code"><img src="/@@/branch" alt="" /></a>
                <a tal:attributes="href apphomes/code">Code hosting</a>
                using <a href="http://bazaar-vcs.org/">Bazaar</a></li>
              <li><a href="https://help.launchpad.net/Code/Review"><img src="/@@/yes" alt="" /></a>
                <a href="https://help.launchpad.net/Code/Review">Code reviews</a></li>
              <li><a tal:attributes="href apphomes/ubuntu"><img src="/@@/ubuntu-icon" alt="" /></a>
                <a tal:attributes="href apphomes/ubuntu">Ubuntu package building and hosting</a></li>
              <li><a tal:attributes="href apphomes/translations"><img src="/@@/translation" alt="" /></a>
                <a tal:attributes="href apphomes/translations">Translations</a></li>
              <li><a href="https://help.launchpad.net/Teams/MailingLists"><img src="/@@/mail" alt="" /></a>
                <a href="https://help.launchpad.net/Teams/MailingLists">Mailing lists</a></li>
              <li><a tal:attributes="href apphomes/answers"><img src="/@@/question" alt="" /></a>
                <a tal:attributes="href apphomes/answers">Answer tracking and FAQs</a></li>
              <li><a tal:attributes="href apphomes/blueprints"><img src="/@@/blueprint" alt="" /></a>
                <a tal:attributes="href apphomes/blueprints">Specification tracking</a></li>
              </ul>
              <div id="homepage-whatslaunchpad-tour">
                <a href="/+tour"><img src="/@@/tour-icon" alt=""
                        /></a> <a href="/+tour">Take the tour!</a>
               </div>
            </div>

            <div id="homepage-blogposts" class="homepage-portlet">
              <h2>Recent Launchpad blog posts</h2>
              <ul>
                <li class="news">
                  <a href="http://blog.launchpad.net/?p=1316">
                  Measuring bug heat</a><span class="registered"> &ndash; 27 Jan 2010</span><br />
                  Launchpad shows a new calculated measure of a bug's importance to help make triage easier.
                </li>
                <li class="news">
                  <a href="http://blog.launchpad.net/?p=1311">
                  Improved bug patch notifications</a><span class="registered"> &ndash; 27 Jan 2010</span><br />
                  Bug listings now highlight bugs that have patches. Launchpad also emails you when a new patch is
                  added to bugs you care about.
                </li>
                <li class="news">
                  <a href="http://blog.launchpad.net/general/anonymous-access-to-the-launchpad-web-service-api">
                  Anonymous API access</a><span class="registered"> &ndash; 19 Jan 2010</span><br />
                  Your launchpadlib scripts can now get read-only access to the Launchpad API without needing authentication.
                </li>
                <li class="news">
                  <a href="http://blog.launchpad.net/coming-features/the-road-ahead">
                  The road ahead for Launchpad</a><span class="registered"> &ndash; 08 Jan 2010</span><br />
                  Take a look at where Launchpad is going, and where you can get involved, by reading our 2010 roadmap.
                </li>
                <li class="news">
                  <a href="http://blog.launchpad.net/general/launchpad-is-now-open-source">
                    Launchpad now open source</a><span class="registered"> &ndash; 21 Jul 2009</span><br />
                    Get the code to Launchpad and join our development community.
                </li>
              </ul>
              <ul class="horizontal">
                <li>
                  <strong><a href="http://blog.launchpad.net">Read the blog</a></strong>
                </li>
              </ul>
            </div>
          </div>

          <div class="yui-u">
            <form id="homepage-searchform"
              xml:lang="en" lang="en" dir="ltr"
              tal:attributes="action string:${rooturl}+search"
              method="get" accept-charset="UTF-8">
              <input id="text" type="text" name="field.text" size="25%" />
              <input id="search" type="submit" value="Search Launchpad" />
            </form>
            <div id="homepage-stats" tal:content="cache:public, 1 hour">
              <strong class="registry-stat"
                tal:content="view/project_count/fmt:intcomma">123</strong>&nbsp;projects,
              <strong class="bugs-stat"
                tal:content="view/bug_count/fmt:intcomma">123</strong>&nbsp;bugs,
              <strong class="code-stat"
                tal:content="view/branch_count/fmt:intcomma">123</strong>&nbsp;branches,
              <strong class="translations-stat"
                tal:content="view/translation_count/fmt:intcomma">123</strong>&nbsp;translations,
              <strong class="answers-stat"
                tal:content="view/answer_count/fmt:intcomma">123</strong>&nbsp;answers,
              <strong class="blueprints-stat"
                tal:content="view/blueprint_count/fmt:intcomma">123</strong>&nbsp;blueprints,
              and&nbsp;counting...
            </div>
            <div id="homepage-getstarted" class="homepage-portlet">
              <h2>Get started</h2>
              <tal:logged_out condition="not:view/user" omit-tag="">
                <a href="/+login">Creating an account</a> allows you to start
                working within Launchpad.<br />
              </tal:logged_out>You can test Launchpad's functionality
              in our sandbox environment.
              (<a href="/+help/home-page-staging-help.html" target="help">What's this?</a>)<br />
              <tal:logged_in condition="view/user" omit-tag=""
                  tal:content="cache:public">
                If you're ready, you can:
                <ul tal:define="apphomes view/apphomes">
                  <li><a href="https://help.launchpad.net/">
                    <img src="/@@/info" alt="" /></a>
                    <a href="https://help.launchpad.net/"> Read the user guide</a></li>
                  <li><a href="/projects/+new"><img src="/@@/add" /></a>
                    <a href="/projects/+new">Create a new project</a></li>
                  <li><a href="/people/+newteam"><img src="/@@/add" /></a>
                    <a href="/people/+newteam">Create a new team</a></li>
                  <li><a tal:attributes="href apphomes/bugs">
                    <img src="/@@/bug" /></a>
                    <a tal:attributes="href apphomes/bugs">Browse bugs</a></li>
                  <li><a tal:attributes="href apphomes/translations">
                    <img src="/@@/translation" /></a>
                    <a tal:attributes="href apphomes/translations">Help translate</a></li>
                  <li><a tal:attributes="href apphomes/answers">
                    <img src="/@@/question" alt="" /></a>
                    <a tal:attributes="href apphomes/answers">Find answers</a></li>
                  <li><a href="/+tour"><img src="/@@/tour-icon" /></a>
                     <a href="/+tour">Take the tour</a></li>
                </ul>
              </tal:logged_in>
            </div>

            <div id="homepage-featured" class="homepage-portlet"
                tal:content="cache:anonymous, 1 hour">
              <tal:cache
                  tal:content="cache:public, 5 minutes" tal:omit-tag="">
              <h2>Featured projects</h2>

              <div class="featured-project-top"
                   tal:define="topproject view/featured_projects_top"
                   tal:condition="topproject">
                <h3>
                  <a tal:attributes="href topproject/fmt:url"><img
                    tal:replace="structure topproject/image:logo" /></a>
                  <a tal:attributes="href topproject/fmt:url"><tal:name
                    replace="topproject/displayname">Foo project</tal:name></a>
                </h3>
                <p tal:content="structure view/featured_projects_top/summary/fmt:shorten/200">
                   Foo project is great...
                </p>
              </div>

              <div class="two-column-list">
                <ul class="featured-projects-list">
                  <li tal:repeat="project view/featured_projects">
                    <a tal:replace="structure project/fmt:link" />
                  </li>
                </ul>
              </div>
              </tal:cache>

              <ul class="horizontal">
                <li tal:content="cache:public, 1 hour">
                  <strong><a href="/projects">Browse all
                    <tal:count content="view/project_count">42</tal:count>
                    projects</a>!</strong>
                </li>
                <li tal:condition="context/required:launchpad.Edit">
                  <a class="sprite edit" href="+featuredprojects">Manage
                  featured project list</a>
                </li>
              </ul>
            </div>
          </div><!-- yui-u -->

        </div><!-- yui-gc -->
      </div><!-- homepage -->
    </div><!--main-->
  </body>
</html>
