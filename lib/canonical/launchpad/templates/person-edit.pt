<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="launchpad"
>
  <body>
  <metal:heading fill-slot="pageheading">
    <h1 tal:condition="not: view/label">Change account details</h1>
  </metal:heading>

  <metal:leftportlets fill-slot="portlets_one">
  </metal:leftportlets>

  <metal:rightportlets fill-slot="portlets_two">
  </metal:rightportlets>

  <div metal:fill-slot="main">

    <div metal:use-macro="context/@@launchpad_form/form">

      <div metal:fill-slot="extra_bottom">
        <table>
          <tbody>
            <tal:wikinames tal:condition="context/allwikis">
              <tr>
                <th>Wiki:</th>
                <td>
                  <span tal:repeat="wiki context/allwikis">
                    <a tal:content="wiki/url"
                       tal:attributes="href wiki/url"
                     >WikiName</a><tal:block
                                   condition="not: repeat/wiki/end">,
                     </tal:block>
                  </span>
                </td>
              </tr>
              <tr>
                <td>&nbsp;</td>
                <td><span
                     tal:replace="
                     structure context/menu:overview/editwikinames/render"
                     >Edit your wiki names</span></td>
              </tr>
            </tal:wikinames>

            <tal:ircnames tal:repeat="ircnick context/ircnicknames">
              <tr>
                <th>IRC:</th>
                <td><code style="font-size: 120%"
                          tal:content="ircnick/nickname"/>
                    on network <code style="font-size: 120%"
                                     tal:content="ircnick/network" />
                </td>
              </tr>
              <tr>
                <td>&nbsp;</td>
                <td><span
                     tal:replace="
                     structure context/menu:overview/editircnicknames/render"
                     >Edit your IRC contact names</span></td>
              </tr>
            </tal:ircnames>

            <tal:jabberids tal:condition="context/jabberids">
              <tr>
                <th>Jabber:</th>
                <td>
                  <tal:block repeat="jabberid view/htmlJabberIDs">
                    <span tal:replace="structure jabberid"
                      /><span
                         tal:condition="not: repeat/jabberid/end">,</span>
                  </tal:block>
                </td>
              </tr>
              <tr>
                <td>&nbsp;</td>
                <td><span
                     tal:replace="
                     structure context/menu:overview/editjabberids/render"
                     >Edit your Jabber contact names</span></td>
              </tr>
            </tal:jabberids>

            <tal:keys condition="context/sshkeys">
              <tal:key repeat="sshkey context/sshkeys">
                <tr>
                  <th tal:condition="repeat/sshkey/start">
                    SSH Keys:</th>
                  <th tal:condition="not: repeat/sshkey/start">
                  </th>
                  <td tal:content="sshkey/comment" />
                </tr>
                <tr tal:condition="repeat/sshkey/end">
                  <td>&nbsp;</td>
                  <td>
                    <small><a href="+sshkeys">(view key text)</a></small>
                  </td>
                </tr>
              </tal:key>
              <tr>
                <td>&nbsp;</td>
                <td><span
                     tal:replace="
                     structure context/menu:overview/editsshkeys/render"
                     >Change your SSH keys</span></td>
              </tr>
            </tal:keys>

            <tal:gpgkeys tal:condition="context/gpgkeys">
              <tr>
                <th>OpenPGP keys:</th>
                <td>
                  <tal:block repeat="key context/gpgkeys">
                    <a tal:attributes="href key/keyserverURL">
                      <span tal:replace="key/keyid"
                        /></a><span
                               tal:condition="not: repeat/key/end">,</span>
                  </tal:block>
                </td>
              </tr>
              <tr>
                <td>&nbsp;</td>
                <td><span
                     tal:replace="
                     structure context/menu:overview/editpgpkeys/render"
                     >Change your OpenPGP keys</span></td>
              </tr>
            </tal:gpgkeys>
          </tbody>
        </table>
      </div>

      <p metal:fill-slot="extra_buttons">
        Never going to use launchpad again?
        <a tal:attributes="href string:${context/fmt:url}/+deactivate-account"
          >Deactivate your account</a>.
      </p>
    </div>

  </div>

  </body>
</html>
