<div class="portlet">
    <h4>Subscribers</h4>

    <div class="portletBody">
        <div class="portletContent even"
             tal:define="subscriptions context/subscriptions">

          <tal:subscriptions
            tal:define="ccs python:[s for s in subscriptions if s.subscription==2];
                        watches python:[s for s in subscriptions if s.subscription==1];
                        ignores python:[s for s in subscriptions if s.subscription==3]">
            <h5>cc:</h5>
            <ul class="people">
                <li tal:repeat="cc ccs">
                  <a href="#"
                     tal:content="cc/person/displayname"
                     tal:attributes="href python:'people/'+str(cc.id)+'/+edit'">Dafydd</a>
                </li>
            </ul>
            <i tal:condition="not: ccs">No subscribers CC'd</i>

            <h5>Watching</h5>
            <ul class="people">
                <li tal:repeat="watch watches">
                  <a href="#" tal:content="watch/person/displayname">Vincenzo</a>
                </li>
            </ul>
            <i tal:condition="not: watches">No subscribers watching</i>
          </tal:subscriptions>
        </div>
        <div class="portletContent odd">
          <form action="people/+new">
            <input type="submit" value="Add Subscriber">
          </form>
        </div>
    </div>
</div>
