Comments are intended to be contributions to a bug report that further
the goal of solving the problem at hand. Any logged in user can add a
comment to a bug.

In this case, let's add a simple comment to bug #2 as user Foo
Bar. Before we do, let's pull out our test mailer, to demonstrate that
submitting a comment through the web UI generates a notification
email.

  >>> from canonical.launchpad.mail import stub

  >>> stub.test_emails = []
  >>> len(stub.test_emails)
  0

  >>> print http(r"""
  ... POST /distros/debian/+source/mozilla-firefox/+bug/2/+addmessage HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Length: 78
  ... Content-Type: application/x-www-form-urlencoded
  ...
  ... field.subject=test+comment+subject&field.content=test+comment&UPDATE_SUBMIT=Post+Comment""")
  HTTP/1.1 303 See Other
  ...
          <h1>Add a comment</h1>
  ...


  >>> print http(r"""
  ... GET /distros/debian/+source/mozilla-firefox/+bug/2 HTTP/1.1
  ... """)
  HTTP/1.1 200 Ok
  ...Blackhole Trash folder...

After the comment has been submitted, the notification email is sent:

  >>> len(stub.test_emails)
  4
