<tr class="translation">
  <td>
    <a tal:attributes="href view/zoom_url"><img tal:attributes="
          alt view/zoom_alt;
          title view/zoom_alt;
          src view/zoom_icon;" /></a>
  </td>
  <td style="text-align: right;">
    <span tal:replace="view/sequence">1</span>.
    <input
      type="hidden"
      tal:attributes="
      name string:msgset_${context/potmsgset/id}"
      />
  </td>
  <th style="border-style: dotted; border-width: 1px 0 0;">
    <label class="language-code" tal:condition="not:view/is_plural">
      English:
    </label>
    <label class="language-code" tal:condition="view/is_plural">
      English singular:
    </label>
  </th>
  <td class="icon left right">
    <input type="image" src="/@@/copy" title="Copy text"
      tal:attributes="
        name string:msgset_${context/potmsgset/id}_singular_copy"
      />
  </td>
  <td tal:content="structure view/msgid">
    The original text.
  </td>
</tr>
<tr class="secondary translation" tal:condition="view/is_plural">
  <th colspan="3">
    <label>English plural:</label>
  </th>
  <td class="icon left right">
    <input type="image" src="/@@/copy" title="Copy text"
      tal:attributes="
        name string:msgset_${context/potmsgset/id}_plural_copy"
    />
  </td>
  <td tal:content="structure view/msgid_plural">
    plural source
  </td>
</tr>
<tr
  tal:condition="view/msgid_has_tab"
  class="discreet secondary translation">
  <td colspan="3" />
  <th>
    <img alt="Note:" src="/@@/info" title="This is a note to translators" />
  </th>
  <td>
    <code>[tab]</code> represents a tab character.
    Please write it exactly the same way, <code>[tab]</code>, in your
    translation.
  </td>
</tr>
<tr
  tal:condition="view/msgid_has_newline"
  class="discreet secondary translation"
>
  <td colspan="3" />
  <th>
    <img alt="Note:" src="/@@/info" title="This is a note to translators" />
  </th>
  <td>
    <img
      alt="There are line breaks here. Each one"
      src="/@@/translation-newline"
    />
    represents a line break.
    Start a new line in the equivalent position in the translation.
  </td>
</tr>
<tr
  tal:condition="view/msgid_has_leading_or_trailing_space"
  class="discreet secondary translation"
>
  <td colspan="3" />
  <th>
    <img alt="Note:" src="/@@/info" title="This is a note to translators" />
  </th>
  <td>
    <img
      alt="There are leading/trailing spaces here. Each one"
      src="/@@/translation-space"
    />
    represents a space character.
    Enter a space in the equivalent position in the translation.
  </td>
</tr>
<tr
  tal:condition="view/source_comment"
  class="discreet secondary translation"
>
  <td colspan="3" />
  <th>
    <img alt="Developer note:" src="/@@/info"
         title="This is a note to translators by the software developer" />
  </th>
  <td tal:content="view/source_comment">
      This refers to the content type.
  </td>
</tr>
<tr class="error" tal:condition="view/error">
  <th colspan="3" >
    <strong>Error in Translation:</strong>
  </th>
  <td />
  <td>
    <div>
        <span tal:replace="view/error" />
      </div>
  </td>
</tr>
<tal:language-code
  define="language_code context/pofile/language/code">
  <tal:plural-forms repeat="plural_index view/pluralform_indices">
    <tr class="secondary">
      <th colspan="3">
        <label class="language-code">Current
          <span tal:replace="context/pofile/language/englishname">
            Welsh
          </span><span tal:replace="string:[${plural_index}]"
                       tal:condition="view/is_plural">[0]</span>:
        </label>
      </th>
      <tal:with-content condition="python:view.getActiveTranslation(plural_index)">
        <td>
          <input type="image" src="/@@/copy" title="Copy text"
            tal:attributes="
              name string:msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_copy"
          />
        </td>
        <td tal:content="structure python:view.getActiveTranslation(plural_index)">
          current translation
        </td>
      </tal:with-content>
      <tal:without-content
        condition="python:view.getActiveTranslation(plural_index) is None">
        <td />
        <td>
          (no translation yet)
        </td>
      </tal:without-content>
    </tr>
    <tal:selection
      define="selection python:view.context.getSelection(plural_index)"
      condition="selection">
      <tr class="discreet secondary"
          tal:condition="selection/activesubmission">
        <th colspan="3" style="padding-bottom: 1em;">
          Translated by:
        </th>
        <td class="icon left right" />
        <td style="overflow: auto;">
          <a tal:content="selection/activesubmission/person/browsername"
             tal:attributes="href selection/activesubmission/person/fmt:url">Foo Bar</a> on
          <span tal:content="selection/activesubmission/datecreated/fmt:datetime">
            2006-08-05 01:04 UTC
          </span>
        </td>
      </tr>
      <tr class="discreet secondary"
          tal:condition="selection/reviewer">
        <th colspan="3" style="padding-bottom: 1em;">
          Reviewed by:
        </th>
        <td class="icon left right" />
        <td style="overflow: auto;">
          <a tal:content="selection/reviewer/browsername"
             tal:attributes="href selection/reviewer/fmt:url">Foo Bar</a> on
          <span tal:content="selection/date_reviewed/fmt:datetime">
            2006-08-05 01:04 UTC
          </span>
        </td>
      </tr>
    </tal:selection>
    <tal:suggestion_block define="suggestion_block python:view.suggestion_blocks[plural_index]">
      <tal:suggestions repeat="suggestions suggestion_block">
        <div tal:replace="structure suggestions/@@+display" />
      </tal:suggestions>
    </tal:suggestion_block>
    <tr class="discreet secondary">
      <th colspan="3">
        <label>New suggestion:</label>
      </th>
      <td>
        <input
          type="checkbox"
          tal:attributes="
            checked python:view.store_flags[plural_index];
            name string:msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_new_checkbox;
            id string:msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_new_checkbox;
            onClick string:javascript:setFocusByName('msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_new');
            " />
      </td>
      <td>
        <tal:with-content
          condition="python:view.getTranslation(plural_index)">
          <textarea
            style="width: 100%;"
            rows=6
            tal:attributes="
              name string:msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_new;
              lang context/pofile/language/dashedcode;
              dir context/pofile/language/abbreviated_text_dir;
              onFocus string:javascript:checkCheckBox('msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_new_checkbox');
            ">
<tal:content replace="python:view.getTranslation(plural_index)" /></textarea>
        </tal:with-content>
        <tal:without-content
          condition="python: not view.getTranslation(plural_index)">
          <textarea
            style="width: 100%;"
            rows=6
            tal:attributes="
              name string:msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_new;
              lang context/pofile/language/dashedcode;
              dir context/pofile/language/abbreviated_text_dir;
              onFocus string:javascript:checkCheckBox('msgset_${context/potmsgset/id}_${language_code}_translation_${plural_index}_new_checkbox');
            "></textarea>
        </tal:without-content>
      </td>
    </tr>
  </tal:plural-forms>
  <tr class="secondary">
    <td colspan="4" />
    <td>
      <div>
        <label class="fuzzy-checkbox">
          <input
            type="checkbox"
            value="fuzzy"
            tal:attributes="
              checked view/is_fuzzy;
              name string:msgset_${context/potmsgset/id}_${language_code}_needsreview
              " />
          <tal:block condition="not:view/is_plural">
            Someone should review this translation
          </tal:block>
          <tal:block condition="view/is_plural">
            Someone should review these translations
          </tal:block>
        </label>
      </div>
    </td>
  </tr>
</tal:language-code>
<tr tal:condition="view/comment" class="secondary">
  <th colspan="3"><label>Translator note:</label></th>
  <td />
  <td tal:content="view/comment">
    Translator comment.
  </td>
</tr>
<tr class="discreet secondary">
  <th colspan="3" style="padding-bottom: 1em;">
    Located in:
  </th>
  <td class="icon left right" />
  <td style="overflow: auto;" tal:content="view/file_references">
    ./plone_forms/discussion_reply_form.pt
  </td>
</tr>
