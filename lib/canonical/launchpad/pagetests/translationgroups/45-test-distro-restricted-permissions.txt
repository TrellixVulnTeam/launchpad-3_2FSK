Now No Privileges Person is still the Welsh translator for the PolyGlot
translation group, and they are the translation group for Ubuntu, which we
are going to set as having Restricted translations. This means that No
Privileges Person should be able to translate any strings in Ubuntu to
Welsh. In other languages, No Privileges Person should be warned that he
is not a designated translator.

  >>> admin_browser.open(
  ...     'http://translations.launchpad.dev/ubuntu/+changetranslators')

  >>> admin_browser.getControl(
  ...     'Translation Permission System').value = ['RESTRICTED']
  >>> admin_browser.getControl('Change').click()
  >>> print admin_browser.url
  http://translations.launchpad.dev/ubuntu/+changetranslators
  >>> for tag in find_tags_by_class(
  ...     admin_browser.contents, 'informational message'):
  ...     print tag.renderContents()
  Updated on ...

The translation group does not assign anyone to tend to the Southern
Sotho translation, so for that language, No Privileges can't even make
suggestions.

  >>> browser.open(
  ...     'http://translations.launchpad.dev/ubuntu/hoary/+source/evolution/'
  ...     '+pots/evolution-2.2/st/+translate')
  >>> main_content = find_main_content(browser.contents).p.renderContents()
  >>> 'New translation:' in main_content
  False
  >>> 'New suggestion:' in main_content
  False
  >>> 'Your translations will be held for review' in main_content
  False

The Polyglot translation group now assigns a Southern Sotho translation
team, of which No Privileges however is not a member.

  >>> admin_browser.open(
  ...     'http://translations.launchpad.dev/+groups/polyglot/+appoint')
  >>> admin_browser.getControl('Language').value=['st']
  >>> admin_browser.getControl('Translator').value='name21'
  >>> admin_browser.getControl('Add').click()

No Privileges Person can now enter text, but the page does warn that it
will only accept suggestions.

  >>> browser.addHeader('Authorization', 'Basic no-priv@canonical.com:test')
  >>> browser.open(
  ...     'http://translations.launchpad.dev/ubuntu/hoary/+source/evolution/'
  ...     '+pots/evolution-2.2/st/+translate')
  >>> main_content = find_main_content(browser.contents).renderContents()
  >>> 'New translation:' in main_content
  False
  >>> print main_content
  <...New suggestion:...
  Your translations will be held for review...

However, in Welsh, No Privileges Person DOES have the ability to edit
directly.

First, we show that the message 137 is not translated.

  >>> browser.open(
  ...     'http://translations.launchpad.dev/ubuntu/hoary/+source/evolution/'
  ...     '+pots/evolution-2.2/cy/8/+translate')
  >>> '(no translation yet)' in browser.contents
  True

Now, we need to show that it is translated after a post. Let's go ahead and
POST and see that all goes well:

  >>> browser.getControl(
  ...     name='msgset_137_cy_translation_0_radiobutton').value = [
  ...         'msgset_137_cy_translation_0_new']
  >>> browser.getControl(
  ...     name='msgset_137_cy_translation_0_new').value = 'evolution minikaart'
  >>> browser.getControl(name='submit_translations').click()
  >>> print browser.url
  http://translations.launchpad.dev/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/cy/9/+translate

And finally, let's take a look again, and we should have a translation added.

  >>> browser.getLink('Previous').click()
  >>> '(no translation yet)' in browser.contents
  False
  >>> 'evolution minikaart' in browser.contents
  True
