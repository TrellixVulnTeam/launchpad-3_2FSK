<table class="listing"
       style="width: 100%; margin-bottom: 1px; margin-top: 2px;
              font-size: 90%;">
  <thead>
    <tr>
      <th>Fix Requested In</th>
      <th>Status</th>
      <th>Severity</th>
      <th>Assigned To</th>
    </tr>
  </thead>

  <tbody>
    <tal:request repeat="bugtask context/bugtasks">
    <tr tal:attributes="class python:view.getFixRequestRowCSSClassForBugTask(bugtask)">
      <td tal:condition="bugtask/required:launchpad.Edit">
        <a style="text-decoration: none;"
          tal:attributes="
            href string:${bugtask/fmt:url}/+editstatus;
            title string:To change the status or assignee, click here.
            "
          tal:content="bugtask/targetname"
        />
      </td>
      <td tal:condition="not:bugtask/required:launchpad.Edit">
        <a style="text-decoration: none;"
          tal:attributes="
            href string:${bugtask/fmt:url}/+viewstatus;
            title string:To view status details, click here.
          "
          tal:content="bugtask/targetname"
        />
      </td>

      <td>
        <span tal:content="bugtask/status/title"
              tal:attributes="class string:status${bugtask/status/title}">
          $BugTask.status
        </span>
        <img tal:condition="bugtask/statusexplanation"
             tal:attributes="title bugtask/statusexplanation"
             src="/++resource++text"
             />
      </td>

      <td tal:content="bugtask/severity/title"
          tal:attributes="class string:severity${bugtask/severity/title}">
        Critical
      </td>

      <td>
        <tal:has_watch condition="bugtask/bugwatch">
          <img tal:condition="bugtask/assignee"
               src="/++resource++user.gif" alt="" />
          <img
            alt="Linked to "
            src="/++resource++arrowRight.gif"
          />
          <a style="text-decoration: none;"
             tal:attributes="href bugtask/bugwatch/url">
            <span tal:replace="bugtask/bugwatch/bugtracker/name">Zilla</span>
            #<span tal:replace="bugtask/bugwatch/remotebug">123</span>
          </a>
        </tal:has_watch>
        <tal:has_no_watch condition="not: bugtask/bugwatch">
          <tal:has_assignee condition="bugtask/assignee">
            <img src="/++resource++user.gif" alt="" />
            <span tal:replace="bugtask/assignee/browsername">
              assignee.browsername
            </span>
          </tal:has_assignee>
          <tal:no_assignee condition="not: bugtask/assignee">
            &mdash;
          </tal:no_assignee>
        </tal:has_no_watch>
      </td>

    </tr>
    </tal:request>
  </tbody>

</table>

<div style="font-size: 80%; text-align: right; margin-bottom:1em;"
     tal:define="current_bugtask view/currentBugTask">

  Request fix:
  <span style="white-space: nowrap">
      <img src="/++resource++add.gif" alt="+" />
      <a tal:attributes="href string:${current_bugtask/fmt:url}/+upstreamtask"
         title="Mark this bug as occurring upstream">
        Upstream&hellip;
      </a>
  </span>

  <span style="white-space: nowrap">
      <img src="/++resource++add.gif" alt="+" />
      <a tal:attributes="href string:${current_bugtask/fmt:url}/+distrotask"
         title="Mark this bug as occurring in a distro package">
        In Distribution&hellip;
      </a>
  </span>

</div>

