<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div class="portlet">
    <h4>Open Source Products:</h4>

    <div class="portletBody">
      <div class="portletContent even">
  
        <p>Enter a product name or detail, and press search to find all
        products matching those words in the Launchpad. You can also
        <a href="/products/+all">see all products</a> registered in the
        launchpad.</p>

      </div>
    </div>
  </div>
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure context/@@+portlet-details" />
</metal:rightportlets>


<div metal:fill-slot="main">

    <h1>Find Products in The Launchpad</h1>

    <form method="get">
        <table>
          <tr>
            <td>
              <input name="text" size="30" tal:attributes="value view/text" />
                <input
                  tal:condition="view/searchrequested"
                  type="submit"
                  value="Search Again"
                />
                <input
                  tal:condition="not: view/searchrequested"
                  type="submit"
                  value="Search"
                />
            </td>
          </tr>
        </table>
            <p class="formHelp">
            Enter any part of the product name, title or
            description.
            </p>

    </form>

    <div tal:condition="view/searchrequested">

        <table class="data" tal:define="results view/searchresults">
          <thead>
            <tr class="results">
              <td colspan="0">
                <span tal:replace="view/matches">3</span>
                <span tal:condition="python: view.matches == 1">result</span>
                <span tal:condition="python: view.matches != 1">results</span>
              </td>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>
                <dl condition="view/matches" class="products">
                  <tal:block repeat="product results">
                    <dt>
                      <a tal:attributes="href product/name"
                        ><dfn
                          tal:content="product/title"
                        >$Product.title</dfn>
                        (<span
                          tal:replace="product/name"
                        >$Product.name
                      </span>)</a>
                    </dt>
                    <dd tal:content="product/summary">
                      $Product.summary
                    </dd>
                  </tal:block>
                </dl>
                <p tal:condition="not: view/matches">
                  <strong>No products matching
                    &#8220;<span tal:replace="view/text">moz</span>&#8221;
                  were found.</strong>
                  You can <a href="+new">register a new product</a>.
                </p>
              </td>
            </tr>
          </tbody>
        </table>


    </div>

</div>

</body>
</html>
