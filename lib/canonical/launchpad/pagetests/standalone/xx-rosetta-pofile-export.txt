
Exporting Single PO Files through the Web
-----------------------------------------

If we haven't logged in yet, we should be prompted to.

  >>> print http(r"""
  ... GET /distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/+export HTTP/1.1
  ... """)
  HTTP/1.1 303 See Other
  Content-Length: 0
  Content-Type: text/plain;charset=utf-8
  Location: http://localhost:9000/distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/+export/+login

If we GET the page while logged in, we should get a confirmation form.

  >>> print http(r"""
  ... GET /distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/+export HTTP/1.1
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... """)
  HTTP/1.1 200 Ok
  ...
  Content-Type: text/html;charset=utf-8
  ...
  <BLANKLINE>
      <h1>PO File Export</h1>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
              <p>
              Once you have confirmed, an export of this file will be made
              shortly, and a notification will be sent to your email address
              <strong>carlos@canonical.com</strong>.
              </p>
  <BLANKLINE>
  ...

If we POST the page, it should add the request to the queue.

  >>> print http(r"""
  ... POST /distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/+export HTTP/1.1
  ... Content-Length: 9
  ... Content-Type: application/x-www-form-urlencoded
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... 
  ... format=PO""")
  HTTP/1.1 200 Ok
  ...
  Content-Type: text/html;charset=utf-8
  <BLANKLINE>
  ...
  <BLANKLINE>
      <h1>PO File Export</h1>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
              <p>
              Your request has been received. Expect to receive an email shortly.
              </p>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  <BLANKLINE>
  ...

