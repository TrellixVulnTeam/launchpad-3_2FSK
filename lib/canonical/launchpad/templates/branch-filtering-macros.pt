<div metal:define-macro="branch-filter">
  <form method="get" name="filter" id="filter_form"
        tal:attributes="action request/URL">
    <span class="lesser">Show branches with status of</span>
    <div tal:replace="structure view/widgets/lifecycle"/>
    <noscript>
      <input type="submit" value="Filter"/>
    </noscript>
  </form>

<script type="text/javascript">
function submit_filter()
{
  var f = document.getElementById('filter_form');
  f.submit()
}

var field = document.getElementById('field.lifecycle');
field.onchange = submit_filter;
field.focus();
</script>

</div>
