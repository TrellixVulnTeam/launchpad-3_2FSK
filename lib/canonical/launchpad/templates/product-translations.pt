<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="launchpad">

<head>
    <title metal:fill-slot="title" i18n:translate="">Rosetta Translations:
        <span tal:replace="context/title" i18n:name="title">product title</span></title>
    <!-- Plone style sheet -->
    <style type="text/css" media="screen">@import url(plone.css);</style>
    <!-- Rosetta style sheet -->
    <style type="text/css" media="screen">@import url(rosetta.css);</style>
</head>

<body>

<metal:leftportlets fill-slot="portlets_one">
        <div tal:replace="structure view/detailsPortlet" />
        <div tal:replace="structure view/projectPortlet" />
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
</metal:rightportlets>

<div metal:fill-slot="main">

    <h1 i18n:translate="">Rosetta Translation overview for
        <span tal:replace="context/displayname" i18n:name="product_name">product
        displayname</span></h1>

    <p class="documentDescription" tal:content="context/shortdesc">
        The product summary.
    </p>

    <!-- indicate if no templates are registered for this product that it is
    possible to upload a po template -->
    <tal:block condition="not: view/templates">

        <h2 i18n:translate="">Translation Setup Required</h2>

        <p class="portalMessage" i18n:translate="">Advanced Users Only</p>

        <p i18n:translate="">
        <span tal:replace="context/displayname" i18n:name="product_name">
        This product</span> has not yet been setup for translation through
        Rosetta. If you have the latest PO Template for <span
        tal:replace="context/displayname" i18n:name="product_name">this
        product</span> then you can upload it and start translating
        immediately. If not, you'll need to ask the product maintainer,
        or lead translater, to upload it here. You can give them the URL
        of this page for certainty. As soon as that has been done you
        will be able to start translating.
        </p>

        <!-- the "add a template" link is in here because we don't really
        want people to add multiple templates for the moment. so once there
        is a template, don't display the link-->

        <p>
        <img src="/++resource++add.gif" />
        <a href="+newpotemplate" i18n:translate="">Upload A PO Template</a>
        </p>
    </tal:block>

    <tal:block condition="view/templates">

        <p tal:condition="view/multitemplates" i18n:translate="">
        Below is a list of translation templates for <span
        tal:replace="context/displayname" i18n:name="product_name">this
        product</span>. Each template has a different purpose: some
        might be templates for specific releases, others might be
        for different vendors. Select the template that you wish to
        work on, and begin translating!</p>

        <div tal:condition="not: view/languages">

            <ul>
                <li tal:repeat="template context/potemplates">
                    <a tal:attributes="href string:${template/name}/translate"
                        tal:content="template/title">template</a></li>
            </ul>
        </div>

        <p tal:condition="view/languages" i18n:translate="">We have determined
        a short list of languages that you may be interested in translating,
        and show the translation templates status in each of those languages
        below:</p>

        <div tal:condition="view/languages" tal:repeat="template view/templates">

            <h2 tal:content="template/title">Template</h2>

            <p tal:content="template/template/description">
                Template description
            </p>
            
            <table class="listing rowNavigation" width="100%">
                <thead>
                    <th i18n:translate="">Language</th>
                    <th i18n:translate="">Done</th>
                    <th i18n:translate="">Todo</th>
                    <th i18n:translate="">Graph</th>
                    <th i18n:translate="">Lastest Contributor</th>
                    <th i18n:translate="">Last Edited</th>
                </thead>

                <tbody>
                    <tr tal:repeat="language template/languages"
                        tal:attributes="onclick
                        string:window.location='${template/name}/${language/translateURL}'">
                        <td>
                            <a tal:attributes="href
                            string:${template/name}/${language/translateURL}"
                            tal:content="language/name">Language
                            Name</a></td>
                        <td tal:content="language/poTranslated">0</td>
                        <td tal:content="language/poUntranslated">0</td>
                        <td>
                            <!-- Show an mdash if there is no graph -->
                            <span tal:condition="not: language/poLen">&mdash;</span>

                            <img src="/++resource++green-bar.png"
                                height="10"
                                style="margin-top: 2px;"
                                alt="Translated Messages"
                                tal:condition="language/poNonUpdatesCount"
                                tal:attributes="width language/poNonUpdatesPercent;
                                                title string: Translated: ${language/poNonUpdatesPercent}%"
                            /><img src="/++resource++blue-bar.png"
                                height="10"
                                style="margin-top: 2px;"
                                alt="Improved Message Translations"
                                tal:condition="language/poUpdatesCount"
                                tal:attributes="width language/poUpdatesPercent;
                                                title string: Improved In Rosetta : ${language/poUpdatesPercent}%"
                            /><img src="/++resource++purple-bar.png"
                                height="10"
                                style="margin-top: 2px;"
                                alt="Newly Translated Messages"
                                tal:condition="language/poRosettaCount"
                                tal:attributes="width language/poRosettaPercent;
                                                title string: New In Rosetta: ${language/poRosettaPercent}%"
                            /><img src="/++resource++red-bar.png"
                                height="10"
                                style="margin-top: 2px;"
                                alt="Untranslated Messages"
                                tal:condition="language/poUntranslated"
                                tal:attributes="width language/poUntranslatedPercent;
                                                title string: Untranslated: ${language/poUntranslatedPercent}%" />
                        </td>
                        <td>
                            <tal:block condition="language/lastChangedSighting">
                                <span tal:content="language/lastChangedSighting/person/displayname" />
                            </tal:block>
                            <tal:block condition="not: language/lastChangedSighting">
                                &mdash;
                            </tal:block>
                        </td>
                        <td>
                            <tal:block condition="language/lastChangedSighting">
                                <span
                                tal:content="language/lastChangedSighting/datelastactive/fmt:date"
                                /> GMT
                            </tal:block>
                            <tal:block condition="not: language/lastChangedSighting">
                                &mdash;
                            </tal:block>
                        </td>
                    </tr>
                </tbody>
            </table>

            <div align="right">
                [ <a tal:attributes="href string:${template/name}"
                   i18n:translate="">More languages...</a> ]
            </div>


        </div>

      <div tal:replace="structure view/statusLegend" tal:omit-tag />

    </tal:block> <!-- condition="view/templates -->

</div>

</body>
</html>
