<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad"
>
<body>
  <metal:portlets fill-slot="portlets">
    <div tal:replace="structure context/@@+portlet-details" />
  </metal:portlets>

  <div metal:fill-slot="main">

    <h1><span tal:replace="context/displayname" /> Timeline</h1>

    <div tal:repeat="series view/sorted_serieslist">
      <div tal:define="is_focus python:context.development_focus == series"
           tal:attributes="class 
              python:is_focus and 'highlighted' or 'unhighlighted'">
        <metal:series use-macro="series/@@+macros/detailed_display">
          <div metal:fill-slot="extra"
               tal:define="openbugs_count series/open_bugtasks/count;
                           closedbugs_count series/closed_bugtasks/count"
               tal:condition="python: openbugs_count or closedbugs_count">
              <strong>Bugs:</strong>
              <a tal:attributes="href string:${series/fmt:url}/+bugs"
                 tal:content="string: ${openbugs_count} open">0 open</a>
              and
              <a tal:attributes="href python: view.getClosedBugsURL(series)"
                 tal:content="string: ${closedbugs_count} closed">10 closed</a>
          </div>
        </metal:series>
      </div>
    </div>

  </div>
</body>
</html>
