Advanced personal subscriptions
-------------------------------

There are advanced features for bug subscriptions. These require a
feature flag to be turned on for them to be accessible.

    >>> from lp.services.features.model import FeatureFlag, getFeatureStore
    >>> feature_store = getFeatureStore()
    >>> ignore = feature_store.add(FeatureFlag(
    ...     scope=u'default',
    ...     flag=u'malone.advanced-subscriptions.enabled',
    ...     value=u'on', priority=1))
    >>> feature_store.flush()

Now when a user visits the +subscribe page of a bug they are given the
option to subscribe to the bug at a given BugNotificationLevel.

    >>> from canonical.launchpad.webapp import canonical_url
    >>> from lp.testing.sampledata import USER_EMAIL
    >>> login(USER_EMAIL)
    >>> bug = factory.makeBug()
    >>> logout()
    >>> user_browser.open(
    ...     canonical_url(bug.default_bugtask, view_name='+subscribe'))
    >>> print user_browser.getControl(
    ...     name='field.bug_notification_level')
    <ListControl...type='radio'>
