<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

<body>

<metal:portlets fill-slot="portlets">
</metal:portlets>

<div metal:fill-slot="main">

  <tal:summary replace="structure context/@@+pagelet-summary" />

  <h1>Proposal to merge branch</h1>

  <tal:superceded-proposal condition="context/superceded_proposal">
    <p id="superceded-proposal">
      This proposal supercedes an
      <a tal:attributes="href context/superceded_proposal/fmt:url">
        earlier proposal</a>.
    </p>
  </tal:superceded-proposal>
  <tal:superceded-by condition="context/superceded_by">
    <p id="superceded-by">
      This proposal has been superceded by a
      <a tal:attributes="href context/superceded_by/fmt:url">
        later proposal</a>.
    </p>
  </tal:superceded-by>

  <tal:whiteboard condition="context/whiteboard">
    <h2>Whiteboard</h2>
    <div id="branch-whiteboard-value" class="whiteboard"
      tal:content="structure context/whiteboard/fmt:text-to-html">
      Whiteboard text goes here.
    </div>
  </tal:whiteboard>

  <div id="source-revisions"
       tal:condition="not: context/queue_status/enumvalue:MERGED">
  <h2>Unmerged revisions</h2>

    <tal:history-available condition="context/source_branch/revision_count"
                           define="branch context/source_branch;
                                   revisions view/unlanded_revisions">
      <metal:landing-target use-macro="branch/@@+macros/branch-revisions"/>
    </tal:history-available>

    <tal:remote-branch condition="context/source_branch/branch_type/enumvalue:REMOTE">
      <p>Recent revisions are not available due to the source branch being remote.</p>
    </tal:remote-branch>
  </div>
</div>

</body>
</html>
