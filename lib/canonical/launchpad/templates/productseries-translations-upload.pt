<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
<body>

<metal:portlets fill-slot="portlets">
  <tal:current-translation-templates
    define="templates context/getCurrentTranslationTemplates">
    <div tal:condition="not: templates" class="portlet">
      <h2>No templates yet for <span tal:replace="context/name">1.0</span></h2>
      <div class="portletBody portletContent">
        <img src="/@@/info" />
        At this stage there are no translation templates in place for 
        <span tal:replace="context/title">Mozilla Firefox Series: 1.0</span>.
        You should make sure that you upload a template (for gettext, a
        ".pot" file) rather than a translation file (".po").  We will review
        the template and once it is approved and imported, you will be able to
        upload translations for it.
      </div>
    </div>
    <tal:per_template repeat="template templates">
      <div tal:replace="structure template/@@+portlet-langstats" />
    </tal:per_template>
  </tal:current-translation-templates>
</metal:portlets>

<div metal:fill-slot="main">

  <h1>Upload new translation resources</h1>

  <p
    class="not-translated-in-launchpad"
    tal:condition="not: context/product/official_rosetta">

    <strong>
      This project is not configured to use Launchpad for translations.
    </strong>
    You can change this in the
    <a tal:attributes="href string:${context/product/fmt:url}/+edit">
      project settings</a>.
  </p>
  <p>
    Upload either a single file (<code>.pot</code> /
    <code>.po</code>) or a tar file containing a PO template and a set of PO
    files (<code>.tar</code>, <code>.tar.gz</code>, <code>.tgz</code> or
    <code>.tar.bz2</code>).
    The files you upload will be reviewed by an admin before they appear in
    Launchpad.  We do this for new uploads so that we can check that things are
    set up properly.  Further uploads of these files will not need to be
    reviewed.
  </p>

  <form action="+translations-upload" method="post" enctype="multipart/form-data">
    <table>
      <tr>
        <th><label for="file_input">File:</label></th>
        <td><input id="file_input" name="file" type="file" /></td>
      </tr>
      <tr>
        <th></th>
        <td>
          <input name="translations_upload" type="submit"
                 value="Request Upload"/>
        </td>
      </tr>
    </table>
  </form>
</div>

</body>
</html>
