<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  metal:use-macro="view/macro:page/main_only"
  i18n:domain="launchpad">
  <body>
    <div metal:fill-slot="main"
      tal:define="packagings view/cached_packagings;">
      <div class="top-portlet">
        <p>
          Links from distribution packages to upstream project series let
          distribution and upstream maintainers share bugs, patches, and
          translations efficiently.
        </p>

        <p>
          The packages are listed by priority. Packages that greatest need to
          forward bugs, sync translations, or need the latest development
          branch are listed first. Can you help provide the missing
          information for these registered Launchpad projects?
        </p>

        <ul id="related-pages" class="horizontal">
          <li>
            <a tal:replace="structure context/menu:overview/needs_packaging/fmt:link" />
          </li>
          <li>
            <a tal:replace="structure context/menu:overview/packaging/fmt:link" />
          </li>
        </ul>
      </div>

      <div style="max-width:70em;" tal:condition="packagings/batch">
        <h2>All upstream links</h2>

        <div class="results"
          tal:content="structure packagings/@@+navigation-links-upper" />

        <table id="packagings" class="listing">
          <thead>
            <tr>
              <th>Source Package</th>
              <th>Upstream Project</th>
              <th>Bug contact</th>
              <th>Bug tracker</th>
              <th>Branch</th>
              <th>Translations</th>
            </tr>
          </thead>

          <tbody>
            <tal:packaging repeat="packaging packagings/batch">
              <tr tal:define="series packaging/productseries;
                              product series/product;
                              package packaging/sourcepackage;
                              translations package/getTranslationTemplates;">
                <td>
                  <a class="sprite package-source"
                    tal:attributes="href package/fmt:url"
                    tal:content="package/name">evolution</a>
                </td>
                <td>
                  <a tal:replace="structure series/fmt:link" />
                </td>
                <td
                  tal:define="upstream_contact product/bug_supervisor">
                  <span class="sprite yes"
                    tal:condition="upstream_contact">&nbsp;
                    <span class="invisible-link">yes</span></span>
                  <span class="sprite no"
                    tal:condition="not: upstream_contact">&nbsp;
                    <span class="invisible-link">no</span></span>
                </td>
                <td
                  tal:define="bug_tracker product/official_malone|product/bugtracker">
                  <span class="sprite yes"
                    tal:condition="bug_tracker">&nbsp;</span>
                  <span class="sprite no"
                    tal:condition="not: bug_tracker">&nbsp;</span>
                </td>
                <td>
                  <span class="sprite yes"
                    tal:condition="series/branch">&nbsp;</span>
                  <span class="sprite no"
                    tal:condition="not: series/branch">&nbsp;</span>
                </td>
                <td tal:condition="translations">
                  <tal:has-translations
                    define="has_imports not:series/translations_autoimport_mode/enumvalue:NO_IMPORT">
                    <span class="sprite yes"
                      tal:condition="has_imports">&nbsp;</span>
                    <span class="sprite no"
                      tal:condition="not: has_imports">&nbsp;</span>
                  </tal:has-translations>
                </td>
                <td tal:condition="not: translations">
                  &mdash;
                </td>
              </tr>
            </tal:packaging>
          </tbody>
        </table>

        <div class="results"
          tal:content="structure packagings/@@+navigation-links-lower" />
      </div>
    </div>
  </body>
</html>
