# Copyright 2009 Canonical Ltd.  This software is licensed under the
# GNU Affero General Public License version 3 (see the file LICENSE).
#
# Possible permissions: SELECT, INSERT, UPDATE, EXECUTE
#
# Note that we can't have INSERT only tables if we are using SQLObject, as it
# creates new entries by first doing an insert (to get the id) and then
# issuing an update
[DEFAULT]
# Objects in these schemas are publicly readable or executable. *not* writable
public_schemas=ts2

[public]
# The public role is automatically granted to all users by PostgreSQL
type=group
public.activity()                          = EXECUTE
public.person_sort_key(text, text)         = EXECUTE
public.debversion_sort_key(text)           = EXECUTE
public.null_count(anyarray)                = EXECUTE
public.valid_name(text)                    = EXECUTE
public.valid_bug_name(text)                = EXECUTE
public.valid_branch_name(text)             = EXECUTE
public.valid_debian_version(text)          = EXECUTE
public.valid_cve(text)                     = EXECUTE
public.valid_absolute_url(text)            = EXECUTE
public.valid_fingerprint(text)             = EXECUTE
public.valid_keyid(text)                   = EXECUTE
public.valid_regexp(text)                  = EXECUTE
public.sane_version(text)                  = EXECUTE
public.sha1(text)                          = EXECUTE
public.is_blacklisted_name(text)           = EXECUTE
public.is_person(text)                     = EXECUTE
public.is_team(integer)                    = EXECUTE
public.is_team(text)                       = EXECUTE
public.is_printable_ascii(text)            = EXECUTE
public.launchpaddatabaserevision           = SELECT
public.name_blacklist_match(text)          = EXECUTE
public.fticache                            =
public.pillarname                          = SELECT
public.ulower(text)                        = EXECUTE
public._killall_backends(text)             =
public.generate_openid_identifier()        = EXECUTE
public.getlocalnodeid()                    = EXECUTE
public.replication_lag()                   = EXECUTE
public.replication_lag(integer)            = EXECUTE
public.assert_patch_applied(integer, integer, integer) = EXECUTE
public.exclusivelocks                      =
public.alllocks                            =
public.pgstattuple(oid)                    =
public.pgstattuple(text)                   =
public.bugnotificationarchive              =

[ro]
# A user with full readonly access to the database. Generally used for
# interactive querying
type=user
groups=read

[testadmin]
# A user with full admin privileges used by the test suite
type=user
groups=admin

[sso_auth]
# authdb replication set write access from the SSO service.
type=user
public.account                          = SELECT, INSERT, UPDATE, DELETE
public.accountpassword                  = SELECT, INSERT, UPDATE, DELETE
public.authtoken                        = SELECT, INSERT, UPDATE, DELETE
public.emailaddress                     = SELECT, INSERT, UPDATE, DELETE
public.openidrpsummary                  = SELECT, INSERT, UPDATE
public.openidassociation                = SELECT, INSERT, DELETE
public.openidnonce                      = SELECT, INSERT, DELETE
public.openidauthorization              = SELECT, INSERT, UPDATE, DELETE

[sso_main]
# main replication set access from the SSO service login.launchpad.net
type=user
public.language                         = SELECT
public.openidrpconfig                   = SELECT
public.person                           = SELECT
public.personlanguage                   = SELECT
public.personlocation                   = SELECT
public.shippingrequest                  = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersoncache                 = SELECT
# Needed for person.preferredemail to work.
public.emailaddress                     = SELECT
# Needed for OpenID login to work - Bug #352727
public.country                          = SELECT
# Needed for display of OpenID consumer logo per Bug #353926
public.libraryfilealias                 = SELECT
public.libraryfilecontent               = SELECT

[launchpad_auth]
# authdb replication set access from the main Z3 application.
type=user
public.account                          = SELECT, INSERT, UPDATE, DELETE
public.accountpassword                  = SELECT, INSERT, UPDATE, DELETE
public.emailaddress                     = SELECT, INSERT, UPDATE, DELETE
public.language                         = SELECT
public.openidrpconfig                   = SELECT
public.openidrpsummary                  = SELECT
public.person                           = SELECT
public.personlanguage                   = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
# XXX 2009-05-07 stub bug=373252: SELECT and DELETE permissions required
# for garbo.py. INSERT permission needed for the tests.
public.openidassociation                = SELECT, INSERT, DELETE

[launchpad_main]
# lpmain replication set access from the main Z3 application.
type=user
groups=write,script
public.account                          = SELECT
public.announcement                     = SELECT, INSERT, UPDATE, DELETE
public.answercontact                    = SELECT, INSERT, UPDATE, DELETE
public.archive                          = SELECT, INSERT, UPDATE
public.archiveauthtoken                 = SELECT, INSERT, UPDATE
public.archivesubscriber                = SELECT, INSERT, UPDATE
public.archivearch                      = SELECT, INSERT, UPDATE
public.archivedependency                = SELECT, INSERT, DELETE
public.archivepermission                = SELECT, INSERT, UPDATE, DELETE
public.authtoken                        = SELECT, INSERT, UPDATE, DELETE
public.binaryandsourcepackagenameview   = SELECT
public.binarypackagepublishinghistory   = SELECT
public.bountysubscription               = SELECT, INSERT, UPDATE, DELETE
public.branchrevision                   = SELECT, INSERT, UPDATE, DELETE
public.branch                           = SELECT, INSERT, UPDATE, DELETE
public.branchjob                        = SELECT, INSERT, UPDATE, DELETE
public.branchmergeproposal              = SELECT, INSERT, UPDATE, DELETE
public.branchmergeproposaljob           = SELECT, INSERT, UPDATE, DELETE
public.branchmergerobot                 = SELECT, INSERT, UPDATE, DELETE
public.branchsubscription               = SELECT, INSERT, UPDATE, DELETE
public.branchvisibilitypolicy           = SELECT, INSERT, UPDATE, DELETE
public.branchwithsortkeys               = SELECT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugattachment                    = SELECT, INSERT, UPDATE, DELETE
public.bugbranch                        = SELECT, INSERT, UPDATE, DELETE
public.bugcve                           = SELECT, INSERT, DELETE
public.bugnomination                    = SELECT, UPDATE
public.bugnotification                  = SELECT, INSERT, UPDATE, DELETE
public.bugnotificationattachment        = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT, UPDATE, DELETE
public.bugnotificationrecipientarchive  = SELECT, UPDATE
public.bugtag                           = SELECT, INSERT, DELETE
public.bugtrackerperson                 = SELECT, UPDATE
public.codeimport                       = SELECT, INSERT, UPDATE, DELETE
public.codeimportevent                  = SELECT, INSERT, UPDATE
public.codeimporteventdata              = SELECT, INSERT
public.codeimportjob                    = SELECT, INSERT, UPDATE, DELETE
public.codeimportmachine                = SELECT, INSERT, UPDATE
public.codeimportresult                 = SELECT, INSERT, UPDATE, DELETE
public.codereviewmessage                = SELECT, INSERT, DELETE
public.codereviewvote                   = SELECT, INSERT, UPDATE, DELETE
public.commercialsubscription           = SELECT, INSERT, UPDATE, DELETE
public.continent                        = SELECT
public.cvereference                     = SELECT, INSERT
public.cve                              = SELECT, INSERT, UPDATE
public.customlanguagecode               = SELECT, INSERT, UPDATE, DELETE
public.diff                             = SELECT, INSERT, UPDATE
public.distributionbounty               = SELECT, INSERT, UPDATE
public.distributionmirror               = SELECT, INSERT, UPDATE, DELETE
public.distributionsourcepackage        = SELECT, INSERT, UPDATE, DELETE
public.distributionsourcepackagecache   = SELECT
public.distroserieslanguage             = SELECT, INSERT, UPDATE
public.distroseriespackagecache         = SELECT
public.emailaddress                     = SELECT
public.entitlement                      = SELECT, INSERT, UPDATE, DELETE
public.faq                              = SELECT, INSERT, UPDATE, DELETE
public.featuredproject                  = SELECT, INSERT, DELETE
public.hwdevicedriverlink               = SELECT
public.hwdevicenamevariant              = SELECT
public.hwdevice                         = SELECT
public.hwdeviceclass                    = SELECT, INSERT, DELETE
public.hwdriver                         = SELECT, INSERT
public.hwdrivernames                    = SELECT
public.hwdriverpackagenames             = SELECT
public.hwsubmissiondevice               = SELECT
public.hwsubmission                     = SELECT, INSERT, UPDATE
public.hwsubmissionbug                  = SELECT, INSERT, UPDATE, DELETE
public.hwsystemfingerprint              = SELECT, INSERT
public.hwtestanswerchoice               = SELECT
public.hwtestanswercountdevice          = SELECT
public.hwtestanswercount                = SELECT
public.hwtestanswerdevice               = SELECT
public.hwtestanswer                     = SELECT
public.hwtest                           = SELECT
public.hwvendorid                       = SELECT
public.hwvendorname                     = SELECT
public.job                              = SELECT, INSERT, UPDATE, DELETE
public.karmacache                       = SELECT
public.karmacategory                    = SELECT
public.karmatotalcache                  = SELECT
public.language                         = SELECT
public.languagepack                     = SELECT, INSERT, UPDATE
public.launchpadstatistic               = SELECT
public.libraryfilealias                 = SELECT, INSERT, UPDATE, DELETE
public.libraryfiledownloadcount         = SELECT, INSERT, UPDATE
public.logintoken                       = SELECT, INSERT, UPDATE, DELETE
public.mailinglist                      = SELECT, INSERT, UPDATE, DELETE
public.mailinglistban                   = SELECT, INSERT, UPDATE, DELETE
public.mailinglistsubscription          = SELECT, INSERT, UPDATE, DELETE
public.mentoringoffer                   = SELECT, INSERT, UPDATE, DELETE
public.mergedirectivejob                = SELECT, INSERT, UPDATE, DELETE
public.messagechunk                     = SELECT, INSERT
public.messageapproval                  = SELECT, INSERT, UPDATE, DELETE
public.milestone                        = SELECT, INSERT, UPDATE, DELETE
public.mirrorcdimagedistroseries        = SELECT, INSERT, DELETE
public.mirrordistroarchseries           = SELECT, INSERT, DELETE, UPDATE
public.mirrordistroseriessource         = SELECT, INSERT, UPDATE, DELETE
public.mirrorproberecord                = SELECT, INSERT, DELETE
public.nameblacklist                    = SELECT, INSERT, UPDATE, DELETE
public.oauthaccesstoken                 = SELECT, INSERT, UPDATE, DELETE
public.oauthconsumer                    = SELECT, INSERT
public.oauthnonce                       = SELECT, INSERT
public.oauthrequesttoken                = SELECT, INSERT, UPDATE, DELETE
public.openidconsumerassociation        = SELECT, INSERT, UPDATE, DELETE
public.openidconsumernonce              = SELECT, INSERT, UPDATE
public.officialbugtag                   = SELECT, INSERT, UPDATE, DELETE
public.openidrpconfig                   = SELECT, INSERT, UPDATE, DELETE
public.packagebugsupervisor             = SELECT, INSERT, UPDATE, DELETE
public.packagecopyrequest               = SELECT, INSERT, UPDATE
public.packagediff                      = SELECT, INSERT, UPDATE, DELETE
public.packagediff                      = SELECT, INSERT, UPDATE, DELETE
public.packageset                       = SELECT, INSERT, UPDATE, DELETE
public.packagesetsources                = SELECT, INSERT, UPDATE, DELETE
public.packagesetinclusion              = SELECT, INSERT, UPDATE, DELETE
public.flatpackagesetinclusion          = SELECT, INSERT, UPDATE, DELETE
public.packaging                        = SELECT, INSERT, UPDATE, DELETE
public.personlanguage                   = SELECT, INSERT, UPDATE, DELETE
public.personlocation                   = SELECT, INSERT, UPDATE, DELETE
public.personnotification               = SELECT, INSERT, UPDATE, DELETE
public.pillarname                       = SELECT, INSERT, DELETE
public.poexportrequest                  = SELECT, INSERT, UPDATE, DELETE
public.pofiletranslator                 = SELECT
public.polloption                       = SELECT, INSERT, UPDATE, DELETE
public.poll                             = SELECT, INSERT, UPDATE
public.potexport                        = SELECT
public.previewdiff                      = SELECT, INSERT, UPDATE, DELETE
public.productbounty                    = SELECT, INSERT, UPDATE
public.productrelease                   = SELECT, INSERT, UPDATE, DELETE
public.productreleasefile               = SELECT, INSERT, DELETE
public.productseriescodeimport          = SELECT, INSERT, UPDATE
public.project                          = SELECT
public.projectbounty                    = SELECT, INSERT, UPDATE
public.questionbug                      = SELECT, INSERT, DELETE
public.questionmessage                  = SELECT, INSERT
public.questionreopening                = SELECT, INSERT, UPDATE
public.question                         = SELECT, INSERT, UPDATE
public.questionsubscription             = SELECT, INSERT, UPDATE, DELETE
public.translationrelicensingagreement  = SELECT, INSERT, UPDATE
public.requestedcds                     = SELECT, INSERT, UPDATE, DELETE
public.revision                         = SELECT, INSERT, UPDATE
public.revisionauthor                   = SELECT, INSERT, UPDATE
public.revisioncache                    = SELECT, INSERT, UPDATE, DELETE
public.revisionnumber                   = SELECT, INSERT
public.revisionparent                   = SELECT, INSERT
public.scriptactivity                   = SELECT
public.shipitreport                     = SELECT, INSERT
public.shipitsurvey                     = SELECT, INSERT, UPDATE
public.shipitsurveyquestion             = SELECT, INSERT
public.shipitsurveyanswer               = SELECT, INSERT
public.shipitsurveyresult               = SELECT, INSERT
public.shipment                         = SELECT, INSERT, UPDATE
public.shippingrequest                  = SELECT, INSERT, UPDATE, DELETE
public.shippingrun                      = SELECT, INSERT, UPDATE
public.sourcepackagepublishinghistory   = SELECT
public.seriessourcepackagebranch        = SELECT, INSERT, UPDATE, DELETE
public.specificationbranch              = SELECT, INSERT, UPDATE, DELETE
public.specificationbug                 = SELECT, INSERT, DELETE
public.specificationdependency          = SELECT, INSERT, DELETE
public.specificationfeedback            = SELECT, INSERT, UPDATE, DELETE
public.specificationmessage             = SELECT, INSERT
public.specification                    = SELECT, INSERT, UPDATE
public.specificationsubscription        = SELECT, INSERT, UPDATE, DELETE
public.spokenin                         = SELECT, INSERT, DELETE
public.sprintattendance                 = SELECT, INSERT, UPDATE, DELETE
public.sprint                           = SELECT, INSERT, UPDATE
public.sprintspecification              = SELECT, INSERT, UPDATE, DELETE
public.standardshipitrequest            = SELECT, INSERT, UPDATE, DELETE
public.staticdiff                       = SELECT, INSERT, UPDATE
public.structuralsubscription           = SELECT, INSERT, UPDATE, DELETE
public.temporaryblobstorage             = SELECT, INSERT, DELETE
public.translationgroup                 = SELECT, INSERT, UPDATE
public.translationimportqueueentry      = SELECT, INSERT, UPDATE, DELETE
public.translationmessage               = SELECT, INSERT, UPDATE
public.translator                       = SELECT, INSERT, UPDATE, DELETE
public.usertouseremail                  = SELECT, UPDATE
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT
public.votecast                         = SELECT, INSERT
public.vote                             = SELECT, INSERT, UPDATE
public.webserviceban                    = SELECT, INSERT, UPDATE, DELETE
public.wikiname                         = SELECT, INSERT, UPDATE, DELETE
public.usertouseremail                  = SELECT, INSERT, UPDATE

[launchpad]
# This user exists for backwards compatibility - it is an alias to
# lanunchpad_main. There are a number of users in production that
# have been assigned this role that I don't want to recreate just now.
type=user
groups=launchpad_main

[script]
# Permissions required by all scripts.
type=group
public.scriptactivity                   = SELECT, INSERT

[statistician]
type=user
groups=script
public.archive                          = SELECT, UPDATE
public.archivearch                      = SELECT, UPDATE
public.binarypackagename                = SELECT
public.binarypackagepublishinghistory   = SELECT
public.binarypackagerelease             = SELECT
public.branch                           = SELECT
public.bug                              = SELECT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugtask                          = SELECT
public.build                            = SELECT
public.distribution                     = SELECT
public.distributionsourcepackagecache   = SELECT, INSERT, UPDATE, DELETE
public.distroarchseries                 = SELECT, UPDATE
public.distroseries                     = SELECT, UPDATE
public.distroserieslanguage             = SELECT, INSERT, UPDATE, DELETE
public.distroseriespackagecache         = SELECT, INSERT, UPDATE, DELETE
public.language                         = SELECT
public.launchpadstatistic               = SELECT, INSERT, UPDATE, DELETE
public.person                           = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT
public.potemplate                       = SELECT
public.pofile                           = SELECT
public.pofiletranslator                 = SELECT
public.pomsgid                          = SELECT
public.potmsgset                        = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.question                         = SELECT
public.sourcepackagename                = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.sourcepackagerelease             = SELECT
public.specification                    = SELECT
public.translationmessage               = SELECT, INSERT, UPDATE
public.translationtemplateitem          = SELECT

[librarian]
type=user
public.libraryfilealias                 = SELECT, INSERT, UPDATE
public.libraryfilecontent               = SELECT, INSERT

[librarianlogparser]
type=user
groups=script
public.country                          = SELECT
public.libraryfilealias                 = SELECT, UPDATE
public.libraryfiledownloadcount         = SELECT, INSERT, UPDATE
public.parsedapachelog                  = SELECT, INSERT, UPDATE

[librariangc]
type=user
groups=script
public.libraryfilealias                 = SELECT, UPDATE, DELETE
public.libraryfilecontent               = SELECT, UPDATE, DELETE
# This user needs select on every table that references LibraryFileAlias
public.binarypackagefile                = SELECT
public.branchmergeproposal              = SELECT
public.bugattachment                    = SELECT
public.build                            = SELECT
public.codeimportresult                 = SELECT
public.diff                             = SELECT
public.distribution                     = SELECT
public.distributionmirror               = SELECT
public.languagepack                     = SELECT
public.hwsubmission                     = SELECT
public.mergedirectivejob                = SELECT
public.message                          = SELECT
public.messagechunk                     = SELECT
public.messageapproval                  = SELECT
public.mirrorproberecord                = SELECT
public.openidrpconfig                   = SELECT
public.packagediff                      = SELECT
public.packageupload                    = SELECT
public.packageuploadcustom              = SELECT
public.person                           = SELECT
public.pocketchroot                     = SELECT
public.pofile                           = SELECT
public.potemplate                       = SELECT
public.product                          = SELECT
public.productreleasefile               = SELECT
public.project                          = SELECT
public.shipitreport                     = SELECT
public.shippingrun                      = SELECT
public.sprint                           = SELECT
public.sourcepackagereleasefile         = SELECT
public.temporaryblobstorage             = SELECT, DELETE
public.translationimportqueueentry      = SELECT

[productreleasefinder]
# Dyson release import script
type=user
groups=script
public.product                          = SELECT
public.productseries                    = SELECT
public.productrelease                   = SELECT, INSERT, UPDATE
public.productreleasefile               = SELECT, INSERT, UPDATE
# Needed only because SQLobject does things...
public.person                           = SELECT
# Needed to write to the librarian
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.milestone                        = SELECT, INSERT

[pofilestats]
# Translations POFile statistics verification/update script
type=user
groups=script
public.language                         = SELECT
public.pofile                           = SELECT, UPDATE
public.potemplate                       = SELECT
public.potmsgset                        = SELECT
public.translationmessage               = SELECT
public.translationtemplateitem          = SELECT

[pofilestats_daily]
# Daily POFile statistics verification/update script
type=user
groups=pofilestats
public.productseries   = SELECT
public.distroseries   = SELECT


[poimport]
# Rosetta import script
type=user
groups=write,script
public.account                          = SELECT, INSERT
public.customlanguagecode               = SELECT
public.translationgroup                 = SELECT
public.translationimportqueueentry      = SELECT
public.translationmessage               = SELECT, INSERT, UPDATE
public.translationrelicensingagreement  = SELECT
public.translator                       = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

[translations_import_queue_gardener]
# Translations import queue management
type=user
groups=script
public.customlanguagecode               = SELECT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.language                         = SELECT
public.person                           = SELECT
public.pofile                           = SELECT, INSERT, UPDATE
public.potemplate                       = SELECT, INSERT, UPDATE
public.product                          = SELECT
public.productseries                    = SELECT
public.sourcepackagename                = SELECT
public.teamparticipation                = SELECT
public.translationgroup                 = SELECT
public.translationimportqueueentry      = SELECT, DELETE, UPDATE
public.translationrelicensingagreement  = SELECT
public.translator                       = SELECT

[poexport]
# Rosetta export script
type=user
groups=script
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT
public.language                         = SELECT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.person                           = SELECT
public.poexportrequest                  = SELECT, DELETE
public.pofile                           = SELECT, UPDATE
public.pofiletranslator                 = SELECT
public.pomsgid                          = SELECT
public.potemplate                       = SELECT
public.potexport                        = SELECT
public.potmsgset                        = SELECT
public.potranslation                    = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.sourcepackagename                = SELECT
public.translationgroup                 = SELECT
public.translationmessage               = SELECT
public.translationtemplateitem          = SELECT
public.translator                       = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

[langpack]
# Language pack exporter script
type=user
groups=script
public.distribution                     = SELECT
public.distroseries                     = SELECT, UPDATE
public.emailaddress                     = SELECT
public.language                         = SELECT
public.languagepack                     = SELECT, INSERT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.person                           = SELECT
public.pofile                           = SELECT, UPDATE
public.pofiletranslator                 = SELECT
public.pomsgid                          = SELECT
public.potemplate                       = SELECT
public.potexport                        = SELECT
public.potmsgset                        = SELECT
public.potranslation                    = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.sourcepackagename                = SELECT
public.translationgroup                 = SELECT
public.translationmessage               = SELECT
public.translationtemplateitem          = SELECT
public.translator                       = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

[checkwatches]
# Malone bug watch script
type=user
groups=script
public.account                          = SELECT, INSERT
public.accountpassword                  = SELECT, INSERT
public.answercontact                    = SELECT
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugcve                           = SELECT, INSERT
public.bugmessage                       = SELECT, INSERT, UPDATE
public.bugnomination                    = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugsubscription                  = SELECT
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT
public.bugtrackerperson                 = SELECT, INSERT
public.bugwatch                         = SELECT, INSERT, UPDATE
public.cve                              = SELECT, INSERT, UPDATE
public.cvereference                     = SELECT, INSERT, UPDATE
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT, INSERT
public.language                         = SELECT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.message                          = SELECT, INSERT
public.milestone                        = SELECT
public.packagebugsupervisor             = SELECT
public.person                           = SELECT, INSERT, UPDATE
public.personlanguage                   = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.project                          = SELECT
public.questionbug                      = SELECT
public.question                         = SELECT
public.questionsubscription             = SELECT
public.sourcepackagename                = SELECT
public.structuralsubscription           = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT, INSERT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT
public.wikiname                         = SELECT, INSERT

[codeimportworker]
type=user
public.branch                           = SELECT, UPDATE
public.branchsubscription               = SELECT
public.codeimport                       = SELECT, UPDATE
public.codeimportevent                  = SELECT, INSERT, UPDATE
public.codeimporteventdata              = SELECT, INSERT
public.codeimportmachine                = SELECT
public.codeimportresult                 = SELECT, INSERT, UPDATE
public.codeimportjob                    = SELECT, INSERT, UPDATE, DELETE
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT
public.libraryfilealias                 = SELECT, INSERT, UPDATE
public.libraryfilecontent               = SELECT, INSERT
public.person                           = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.productseriescodeimport          = SELECT
public.sourcepackagename                = SELECT
public.teammembership                   = SELECT

[branchscanner]
type=user
groups=write, script
public.account                          = SELECT, INSERT
public.accountpassword                  = SELECT, INSERT
public.branch                           = SELECT, UPDATE
public.branchjob                        = SELECT, INSERT, UPDATE, DELETE
public.branchmergeproposal              = SELECT, UPDATE
public.branchmergeproposaljob           = SELECT, INSERT
public.branchrevision                   = SELECT, INSERT, UPDATE, DELETE
public.branchsubscription               = SELECT
public.branchvisibilitypolicy           = SELECT
public.bugbranch                        = SELECT, INSERT, UPDATE
public.diff                             = SELECT, INSERT, DELETE
public.distroseries                     = SELECT
public.distribution                     = SELECT
public.emailaddress                     = SELECT
public.job                              = SELECT, INSERT, UPDATE, DELETE
# Karma
public.karma                            = SELECT, INSERT
public.karmaaction                      = SELECT
public.person                           = SELECT
public.revision                         = SELECT, INSERT, UPDATE
public.revisionauthor                   = SELECT, INSERT, UPDATE
public.revisioncache                    = SELECT, INSERT
public.revisionparent                   = SELECT, INSERT
public.revisionproperty                 = SELECT, INSERT
public.seriessourcepackagebranch        = SELECT
public.sourcepackagename                = SELECT
public.staticdiff                       = SELECT, INSERT, DELETE
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT
# Bug notifications
public.bugactivity                      = SELECT, INSERT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugsubscription                  = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.structuralsubscription           = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
# Merge notifications
public.codereviewvote                   = SELECT

[branch-distro]
type=user
public.branch                    = SELECT, INSERT
public.branchsubscription        = SELECT, INSERT
public.distribution              = SELECT
public.distroseries              = SELECT
public.karma                     = SELECT, INSERT
public.karmaaction               = SELECT
public.person                    = SELECT
public.product                   = SELECT
public.seriessourcepackagebranch = SELECT, INSERT, DELETE
public.sourcepackagename         = SELECT
public.teamparticipation         = SELECT
public.validpersoncache          = SELECT


[targetnamecacheupdater]
type=user
groups=script
public.bugtask                                  = SELECT, UPDATE
public.product                                  = SELECT
public.productseries                            = SELECT
public.distribution                             = SELECT
public.distroseries                             = SELECT
public.sourcepackagename                        = SELECT
public.binarypackagename                        = SELECT
public.potemplate                               = SELECT, UPDATE

[distributionmirror]
type=user
groups=script
public.archive                                  = SELECT
public.archivearch                              = SELECT
public.binarypackagefile                        = SELECT
public.binarypackagename                        = SELECT
public.binarypackagerelease                     = SELECT
public.build                                    = SELECT
public.component                                = SELECT
public.componentselection                       = SELECT
public.distribution                             = SELECT
public.distributionmirror                       = SELECT, UPDATE
public.distroseries                             = SELECT
public.distroarchseries                         = SELECT
public.emailaddress                             = SELECT
public.libraryfilealias                         = SELECT, INSERT
public.libraryfilecontent                       = SELECT, INSERT
public.mirrorcdimagedistroseries                = SELECT, INSERT, UPDATE, DELETE
public.mirrordistroarchseries                   = SELECT, UPDATE, DELETE, INSERT
public.mirrordistroseriessource                 = SELECT, UPDATE, DELETE, INSERT
public.mirrorproberecord                        = SELECT, INSERT
public.person                                   = SELECT
public.processorfamily                          = SELECT
public.securesourcepackagepublishinghistory     = SELECT
public.securebinarypackagepublishinghistory     = SELECT
public.sourcepackagerelease                     = SELECT
public.sourcepackagereleasefile                 = SELECT
public.sourcepackagename                        = SELECT
public.teammembership                           = SELECT

[teammembership]
# Update the TeamMembership table setting expired members
type=user
groups=script
public.teammembership                           = SELECT, UPDATE
public.teamparticipation                        = SELECT, DELETE
public.person                                   = SELECT
public.emailaddress                             = SELECT

[karma]
# Update the KarmaCache table
type=user
groups=script
public.karmacache                               = SELECT, INSERT, UPDATE, DELETE
public.karma                                    = SELECT
public.karmacategory                            = SELECT
public.karmaaction                              = SELECT
public.karmatotalcache                          = SELECT, INSERT, UPDATE, DELETE
public.emailaddress                             = SELECT
public.person                                   = SELECT
public.product                                  = SELECT
public.validpersoncache                         = SELECT
public.validpersonorteamcache                   = SELECT

[revisionkarma]
# Allocate karma for revisions.
type=user
groups=script
public.branch                                   = SELECT
public.branchrevision                           = SELECT
public.distribution                             = SELECT
public.distroseries                             = SELECT
public.karma                                    = SELECT, INSERT
public.karmacategory                            = SELECT
public.karmaaction                              = SELECT
public.person                                   = SELECT
public.product                                  = SELECT
public.productseries                            = SELECT
public.revision                                 = SELECT, UPDATE
public.revisionauthor                           = SELECT
public.sourcepackagename                        = SELECT
public.validpersoncache                         = SELECT

[cve]
type=user
groups=script
public.cve                                      = SELECT, INSERT, UPDATE
public.cvereference                             = SELECT, INSERT, UPDATE, DELETE


[gina]
# Unpack sourcepackages and extract metadata
type=user
groups=write,script
public.account                                  = SELECT, INSERT
public.accountpassword                          = SELECT, INSERT
public.archive                                  = SELECT, UPDATE
public.archivearch                              = SELECT, UPDATE
public.distribution                             = SELECT
public.packagediff                              = SELECT, INSERT, UPDATE
public.securebinarypackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE
public.securesourcepackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE

[lucille]
# Soyuz archive publisher.
type=user
groups=write,script
public.archive                                  = SELECT, UPDATE
public.archivearch                              = SELECT
public.archiveauthtoken                         = SELECT, UPDATE
public.archivesubscriber                        = SELECT, UPDATE
public.binarypackagepublishinghistory           = SELECT
public.gpgkey                                   = SELECT, INSERT, UPDATE
public.packagecopyrequest                       = SELECT, INSERT, UPDATE
public.packagediff                              = SELECT, INSERT, UPDATE
public.packageset                               = SELECT
public.packagesetsources                        = SELECT, INSERT, UPDATE, DELETE
public.packagesetinclusion                      = SELECT, INSERT, UPDATE, DELETE
public.flatpackagesetinclusion                  = SELECT, INSERT, UPDATE, DELETE
public.securebinarypackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE
public.securesourcepackagepublishinghistory     = SELECT, INSERT, UPDATE, DELETE
public.sourcepackagepublishinghistory           = SELECT

# Closing bugs for publication copies.
public.bug                              = SELECT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugsubscription                  = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugnomination                    = SELECT
public.bugtask                          = SELECT, UPDATE
public.product                          = SELECT
public.project                          = SELECT
public.bugmessage                       = SELECT, INSERT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.productseries                    = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.questionbug                      = SELECT
public.question                         = SELECT
public.packagebugsupervisor             = SELECT
public.milestone                        = SELECT
public.bugwatch                         = SELECT, INSERT
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT, INSERT
public.cve                              = SELECT, INSERT
public.bugcve                           = SELECT, INSERT
public.language                         = SELECT
public.questionsubscription             = SELECT
public.answercontact                    = SELECT
public.personlanguage                   = SELECT
public.structuralsubscription           = SELECT

[fiera]
type=user
groups=script
public.account                                  = SELECT
public.archive                                  = SELECT, UPDATE
public.archivearch                              = SELECT, UPDATE
public.archivedependency                        = SELECT
public.buildqueue                               = SELECT, INSERT, UPDATE, DELETE
public.builder                                  = SELECT, INSERT, UPDATE
public.build                                    = SELECT, INSERT, UPDATE
public.distribution                             = SELECT, UPDATE
public.distroseries                             = SELECT, UPDATE
public.distroarchseries                         = SELECT, UPDATE
public.sourcepackagepublishinghistory           = SELECT
public.securesourcepackagepublishinghistory     = SELECT
public.sourcepackagerelease                     = SELECT
public.sourcepackagereleasefile                 = SELECT
public.sourcepackagename                        = SELECT
public.binarypackagepublishinghistory           = SELECT
public.securebinarypackagepublishinghistory     = SELECT
public.binarypackagerelease                     = SELECT
public.binarypackagefile                        = SELECT
public.binarypackagename                        = SELECT
public.libraryfilealias                         = SELECT, INSERT
public.libraryfilecontent                       = SELECT, INSERT
public.processor                                = SELECT
public.processorfamily                          = SELECT
public.pocketchroot                             = SELECT, INSERT, UPDATE
public.component                                = SELECT
public.section                                  = SELECT
public.publishedpackage                         = SELECT
public.person                                   = SELECT
public.emailaddress                             = SELECT
public.teammembership                           = SELECT
public.gpgkey                                   = SELECT
public.packageset                               = SELECT
public.packagesetsources                        = SELECT
public.packagesetinclusion                      = SELECT
public.flatpackagesetinclusion                  = SELECT
public.teamparticipation                        = SELECT

[sourcerer]
type=user
groups=script
public.archive                                  = SELECT
public.archivearch                              = SELECT
public.branch                                   = SELECT, INSERT, UPDATE
public.revision                                 = SELECT, INSERT, UPDATE
# Karma
public.karma                                    = SELECT, INSERT
public.karmaaction                              = SELECT
# To get at a source package's manifest
public.distribution                             = SELECT
public.distroseries                             = SELECT
public.sourcepackagename                        = SELECT
public.sourcepackagepublishinghistory           = SELECT
public.sourcepackagerelease                     = SELECT, UPDATE
public.sourcepackagereleasefile                 = SELECT
# To get at an upstream product's manifest
public.product                                  = SELECT
public.productseries                            = SELECT
public.productrelease                           = SELECT, UPDATE
public.productreleasefile                       = SELECT
# To get from source package to upstream
public.packaging                                = SELECT
# To get stuff from the librarian
public.libraryfilealias                         = SELECT
public.libraryfilecontent                       = SELECT

[write]
type=group
# Full access except for tables that are exclusively updated by
# certain processes, such as the librarian tables. This group is deprecated -
# access should be explicitly granted to users.
public.archive                          = SELECT, INSERT, UPDATE
public.archivearch                      = SELECT, INSERT, UPDATE
public.binarypackagerelease             = SELECT, INSERT, UPDATE
public.binarypackagefile                = SELECT, INSERT, UPDATE
public.binarypackagefilepublishing      = SELECT, INSERT, UPDATE
public.binarypackagename                = SELECT, INSERT, UPDATE
public.bounty                           = SELECT, INSERT, UPDATE
public.bountymessage                    = SELECT, INSERT
public.branch                           = SELECT, INSERT, UPDATE
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT, UPDATE
public.bugattachment                    = SELECT, INSERT, UPDATE
public.bugmessage                       = SELECT, INSERT, UPDATE
public.bugnomination                    = SELECT, INSERT, UPDATE
public.bugpackageinfestation            = SELECT, INSERT, UPDATE
public.bugproductinfestation            = SELECT, INSERT, UPDATE
public.bugsubscription                  = SELECT, INSERT, UPDATE, DELETE
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugtracker                       = SELECT, INSERT, UPDATE, DELETE
public.bugtrackeralias                  = SELECT, INSERT, UPDATE, DELETE
public.bugwatch                         = SELECT, INSERT, UPDATE, DELETE
public.build                            = SELECT, INSERT, UPDATE
public.builder                          = SELECT, INSERT, UPDATE
public.buildqueue                       = SELECT, INSERT, UPDATE, DELETE
public.component                        = SELECT, INSERT, UPDATE
public.componentselection               = SELECT, INSERT, UPDATE
public.country                          = SELECT, INSERT, UPDATE
public.distribution                     = SELECT, INSERT, UPDATE
public.distroarchseries                 = SELECT, INSERT, UPDATE
public.distroseries                     = SELECT, INSERT, UPDATE
public.packageupload                    = SELECT, INSERT, UPDATE
public.packageuploadbuild               = SELECT, INSERT, UPDATE
public.packageuploadsource              = SELECT, INSERT, UPDATE
public.packageuploadcustom              = SELECT, INSERT, UPDATE
public.distrocomponentuploader          = SELECT, INSERT, UPDATE
public.emailaddress                     = SELECT, INSERT, UPDATE
public.ircid                            = SELECT, INSERT, UPDATE, DELETE
public.jabberid                         = SELECT, INSERT, UPDATE, DELETE
public.karma                            = SELECT, INSERT, UPDATE
public.karmaaction                      = SELECT, INSERT, UPDATE
public.language                         = SELECT, INSERT, UPDATE
public.launchpaddatabaserevision        = SELECT, INSERT, UPDATE
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.logintoken                       = SELECT, INSERT, UPDATE
public.mirror                           = SELECT, INSERT, UPDATE, DELETE
public.mirrorcontent                    = SELECT, INSERT, UPDATE, DELETE
public.mirrorsourcecontent              = SELECT, INSERT, UPDATE, DELETE
public.teammembership                   = SELECT, INSERT, UPDATE, DELETE
public.message                          = SELECT, INSERT, UPDATE
public.milestone                        = SELECT, INSERT, UPDATE
public.binarypackagepublishinghistory   = SELECT
public.securebinarypackagepublishinghistory = SELECT, INSERT, UPDATE, DELETE
public.packageselection                 = SELECT, INSERT, UPDATE
public.packaging                        = SELECT, INSERT, UPDATE
public.person                           = SELECT, INSERT, UPDATE
public.personlanguage                   = SELECT, INSERT, UPDATE
public.pocketchroot                     = SELECT, INSERT, UPDATE
public.pocomment                        = SELECT, INSERT, UPDATE
public.pofile                           = SELECT, INSERT, UPDATE
public.pofiletranslator                 = SELECT, INSERT, UPDATE
public.pomsgid                          = SELECT, INSERT, UPDATE
public.posubscription                   = SELECT, INSERT, UPDATE, DELETE
public.potemplate                       = SELECT, INSERT, UPDATE
public.potmsgset                        = SELECT, INSERT, UPDATE
public.potranslation                    = SELECT, INSERT, UPDATE
public.processor                        = SELECT, INSERT, UPDATE
public.processorfamily                  = SELECT, INSERT, UPDATE
public.product                          = SELECT, INSERT, UPDATE
public.productlicense                   = SELECT, INSERT, UPDATE, DELETE
public.productcvsmodule                 = SELECT, INSERT, UPDATE
public.productrelease                   = SELECT, INSERT, UPDATE
public.productreleasefile               = SELECT, INSERT, UPDATE
public.productseries                    = SELECT, INSERT, UPDATE
public.productsvnmodule                 = SELECT, INSERT, UPDATE
public.project                          = SELECT, INSERT, UPDATE
public.projectrelationship              = SELECT, INSERT, UPDATE
public.publishedpackage                 = SELECT
public.pushmirroraccess                 = SELECT, INSERT, UPDATE
public.section                          = SELECT, INSERT, UPDATE
public.sectionselection                 = SELECT, INSERT, UPDATE
public.signedcodeofconduct              = SELECT, INSERT, UPDATE
public.sourcepackagefilepublishing      = SELECT, INSERT, UPDATE
public.sourcepackagename                = SELECT, INSERT, UPDATE
public.sourcepackagepublishinghistory   = SELECT
public.securesourcepackagepublishinghistory = SELECT, INSERT, UPDATE
public.sourcepackagerelease             = SELECT, INSERT, UPDATE
public.sourcepackagereleasefile         = SELECT, INSERT, UPDATE
public.spokenin                         = SELECT, INSERT, UPDATE
public.gpgkey                           = SELECT, INSERT, UPDATE, DELETE
public.sshkey                           = SELECT, INSERT, UPDATE, DELETE
public.teamparticipation                = SELECT, INSERT, UPDATE, DELETE
public.translationimportqueueentry      = SELECT, INSERT, UPDATE, DELETE
public.translationtemplateitem          = SELECT, INSERT, UPDATE, DELETE
public.wikiname                         = SELECT, INSERT, UPDATE, DELETE

[shipit]
type=user
groups=script
public.account                          = SELECT
public.continent                        = SELECT
public.country                          = SELECT
public.emailaddress                     = SELECT
public.karma                            = SELECT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.person                           = SELECT
public.requestedcds                     = SELECT, INSERT, UPDATE
public.shipitreport                     = SELECT, INSERT
public.shipment                         = SELECT, INSERT
public.shippingrequest                  = SELECT, UPDATE
public.shippingrun                      = SELECT, INSERT, UPDATE
public.standardshipitrequest            = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

[standingupdater]
# For the personal standing updater cron script.
type=user
groups=script
public.emailaddress                     = SELECT
public.mailinglist                      = SELECT
public.message                          = SELECT
public.messageapproval                  = SELECT
public.person                           = SELECT, UPDATE
public.teamparticipation                = SELECT

[answertracker]
# User running expire-questions.py
type=user
groups=script
public.account                          = SELECT, INSERT
public.accountpassword                  = SELECT, INSERT
public.answercontact                    = SELECT
public.bug                              = SELECT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugtask                          = SELECT
public.distribution                     = SELECT
public.faq                              = SELECT
public.emailaddress                     = SELECT
public.language                         = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.person                           = SELECT, UPDATE
public.personlanguage                   = SELECT
public.product                          = SELECT
public.question                         = SELECT, UPDATE
public.questionbug                      = SELECT
public.questionmessage                  = SELECT, INSERT
public.questionsubscription             = SELECT
public.sourcepackagename                = SELECT
public.teammembership                   = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

[uploader]
type=user
groups=script
# Everything is keyed off an archive
public.archive                          = SELECT, INSERT, UPDATE
public.archivearch                      = SELECT, INSERT, UPDATE
public.packageset                       = SELECT
public.packagesetsources                = SELECT
public.packagesetinclusion              = SELECT
public.flatpackagesetinclusion          = SELECT

# This block is granted insert in order to be able to create maintainers
# on the fly when we encounter them.
public.account                          = SELECT, INSERT
public.accountpassword                  = SELECT, INSERT
public.person                           = SELECT, INSERT, UPDATE
public.emailaddress                     = SELECT, INSERT
public.teamparticipation                = SELECT, INSERT
public.teammembership                   = SELECT
public.wikiname                         = SELECT, INSERT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

# I didn't want to give it INSERT and if someone can fix the gpg-coc story
# So that it works with my key in place then nascentupload.txt won't have
# to insert it.
public.gpgkey                           = SELECT, INSERT
public.signedcodeofconduct              = SELECT
public.distribution                     = SELECT
public.distroseries                     = SELECT, UPDATE
public.distroarchseries                 = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.sourcepackagefilepublishing      = SELECT
public.binarypackagefilepublishing      = SELECT
public.binarypackagepublishinghistory   = SELECT
public.component                        = SELECT, INSERT
public.section                          = SELECT, INSERT
public.componentselection               = SELECT
public.sectionselection                 = SELECT
public.distrocomponentuploader          = SELECT
public.archivepermission                = SELECT
public.processor                        = SELECT
public.processorfamily                  = SELECT

# Source and Binary packages and builds
public.sourcepackagename                = SELECT, INSERT
public.sourcepackagerelease             = SELECT, INSERT
public.binarypackagename                = SELECT, INSERT
public.binarypackagerelease             = SELECT, INSERT
public.sourcepackagereleasefile         = SELECT, INSERT
public.binarypackagefile                = SELECT, INSERT
public.pocketchroot                     = SELECT
public.build                            = SELECT, INSERT, UPDATE
public.buildqueue                       = SELECT, INSERT, UPDATE

# Thusly the librarian
public.libraryfilecontent               = SELECT, INSERT
public.libraryfilealias                 = SELECT, INSERT

# The queue
public.packageupload                    = SELECT, INSERT, UPDATE
public.packageuploadsource              = SELECT, INSERT
public.packageuploadbuild               = SELECT, INSERT
public.packageuploadcustom              = SELECT, INSERT

# For premature source-only publication
public.securesourcepackagepublishinghistory = SELECT, INSERT

# Closing bugs for premature source-only publication
public.bug                              = SELECT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugsubscription                  = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugnomination                    = SELECT
public.bugtask                          = SELECT, UPDATE
public.product                          = SELECT
public.project                          = SELECT
public.bugmessage                       = SELECT, INSERT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.productseries                    = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.questionbug                      = SELECT
public.question                         = SELECT
public.packagebugsupervisor             = SELECT
public.milestone                        = SELECT
public.bugwatch                         = SELECT, INSERT
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT, INSERT
public.cve                              = SELECT, INSERT
public.bugcve                           = SELECT, INSERT
public.language                         = SELECT
public.questionsubscription             = SELECT
public.answercontact                    = SELECT
public.personlanguage                   = SELECT
public.structuralsubscription           = SELECT

# Diffing against ancestry and maintenance tasks.
public.packagediff                      = SELECT, INSERT, UPDATE, DELETE

[queued]
type=user
groups=script
# Announce handling
public.account                          = SELECT, INSERT
public.person                           = SELECT, INSERT
public.emailaddress                     = SELECT, INSERT
public.teamparticipation                = SELECT, INSERT
public.teammembership                   = SELECT
public.distrocomponentuploader          = SELECT
public.gpgkey                           = SELECT

# The Queue
public.packageupload                    = SELECT, UPDATE
public.packageuploadsource              = SELECT
public.packageuploadbuild               = SELECT
public.packageuploadcustom              = SELECT, UPDATE

# Distribution/Publishing stuff
public.archive                          = SELECT, UPDATE
public.archivearch                      = SELECT, UPDATE
public.archivepermission                = SELECT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.distroarchseries                 = SELECT
public.processor                        = SELECT
public.processorfamily                  = SELECT
public.distrocomponentuploader          = SELECT
public.build                            = SELECT, INSERT, UPDATE
public.buildqueue                       = SELECT, INSERT, UPDATE
public.pocketchroot                     = SELECT
public.sourcepackagerelease             = SELECT, UPDATE
public.binarypackagerelease             = SELECT, UPDATE
public.sourcepackagereleasefile         = SELECT, UPDATE
public.binarypackagefile                = SELECT, UPDATE
public.sourcepackagename                = SELECT
public.binarypackagename                = SELECT
public.binarypackagepublishinghistory   = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.sourcepackagefilepublishing      = SELECT
public.binarypackagefilepublishing      = SELECT
public.securesourcepackagepublishinghistory = SELECT, INSERT, UPDATE
public.securebinarypackagepublishinghistory = SELECT, INSERT, UPDATE
public.component                        = SELECT
public.section                          = SELECT
public.componentselection               = SELECT
public.sectionselection                 = SELECT
public.packagediff                      = SELECT, UPDATE

# Librarian stuff
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT

# rosetta auto imports
public.translationimportqueueentry      = SELECT, INSERT, UPDATE

# Closing bugs.
public.bug                              = SELECT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugsubscription                  = SELECT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugnomination                    = SELECT
public.bugtask                          = SELECT, UPDATE
public.product                          = SELECT
public.project                          = SELECT
public.bugmessage                       = SELECT, INSERT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.productseries                    = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.questionbug                      = SELECT
public.question                         = SELECT
public.packagebugsupervisor             = SELECT
public.milestone                        = SELECT
public.bugwatch                         = SELECT, INSERT
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT, INSERT
public.cve                              = SELECT, INSERT
public.bugcve                           = SELECT, INSERT
public.language                         = SELECT
public.questionsubscription             = SELECT
public.answercontact                    = SELECT
public.personlanguage                   = SELECT
public.structuralsubscription           = SELECT
public.packageset                       = SELECT
public.packagesetsources                = SELECT
public.packagesetinclusion              = SELECT
public.flatpackagesetinclusion          = SELECT


[ppad]
type=user
groups=script
public.archive                          = SELECT
public.archivearch                      = SELECT
public.person                           = SELECT

[session]
# This user doesn't have access to any tables in the main launchpad
# database - it has permissions on the seperate session database only,
# which are not maintained by this script. User is just here so it gets
# created if necessary.
type=user

[bugnotification]
# Sends bug notifications.
# XXX: BjornT 2006-03-31:
#       All the INSERT permissions, and the UPDATE permission for the bug
#       table are necessary only because the test that test
#       send-bug-notifications.py needs them. They should be removed
#       when bug 37456 is fixed.
type=user
groups=script
public.account                          = SELECT
public.archive                          = SELECT
public.archivearch                      = SELECT
public.bugnotification                  = SELECT, INSERT, UPDATE
public.bugnotificationrecipient         = SELECT, INSERT, UPDATE
public.bugsubscription                  = SELECT, INSERT
public.bugnomination                    = SELECT
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugmessage                       = SELECT, INSERT
public.bugtag                           = SELECT
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugwatch                         = SELECT
public.component                        = SELECT
public.packagebugsupervisor             = SELECT
public.person                           = SELECT
public.product                          = SELECT
public.project                          = SELECT
public.productseries                    = SELECT
public.question                         = SELECT
public.questionbug                      = SELECT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.sourcepackagename                = SELECT
public.sourcepackagerelease             = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.emailaddress                     = SELECT
public.libraryfilealias                 = SELECT
public.libraryfilecontent               = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.milestone                        = SELECT
public.structuralsubscription           = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

[personnotification]
type=user
groups=script
public.personnotification               = SELECT, UPDATE, DELETE
public.person                           = SELECT
public.emailaddress                     = SELECT
public.libraryfilealias                 = SELECT
public.libraryfilecontent               = SELECT
public.message                          = SELECT
public.messagechunk                     = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

[rosettaadmin]
type=user
groups=script
public.customlanguagecode               = SELECT, INSERT, UPDATE, DELETE
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.distroserieslanguage             = SELECT, INSERT, UPDATE
public.language                         = SELECT
public.packaging                        = SELECT
public.person                           = SELECT
public.pofile                           = SELECT, INSERT, UPDATE, DELETE
public.pofiletranslator                 = SELECT, INSERT, UPDATE, DELETE
public.pomsgid                          = SELECT
public.potemplate                       = SELECT, INSERT, DELETE
public.potmsgset                        = SELECT, INSERT, DELETE
public.potranslation                    = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.sourcepackagename                = SELECT
public.translationimportqueueentry      = SELECT, INSERT, UPDATE, DELETE
public.translationmessage               = SELECT, INSERT, UPDATE, DELETE
public.translationrelicensingagreement  = SELECT
public.translationtemplateitem          = SELECT, INSERT, UPDATE, DELETE

[translationsbranchscanner]
type=user
groups=branchscanner
public.language                         = SELECT
public.translationrelicensingagreement  = SELECT
public.translationgroup                 = SELECT
public.translator                       = SELECT

[translationstobranch]
type=user
groups=script
public.branch                           = SELECT, UPDATE
public.branchjob                        = SELECT
public.emailaddress                     = SELECT
public.job                              = SELECT
public.language                         = SELECT
public.person                           = SELECT
public.pofile                           = SELECT
public.pofiletranslator                 = SELECT
public.pomsgid                          = SELECT
public.potemplate                       = SELECT
public.potmsgset                        = SELECT
public.potranslation                    = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.translationmessage               = SELECT
public.translationtemplateitem          = SELECT

[oopsprune]
type=user
groups=script
public.bug                              = SELECT
public.bugtask                          = SELECT
public.message                          = SELECT
public.messagechunk                     = SELECT
public.question                         = SELECT

[listteammembers]
type=user
public.emailaddress                     = SELECT
public.person                           = SELECT
public.signedcodeofconduct              = SELECT
public.sshkey                           = SELECT
public.teamparticipation                = SELECT

# This group is now created automatically
# Readonly access to everything
#[read]
#type=group

# This group is now created automatically
# Full access to everything.
# [admin]
# type=group

[processmail]
type=user
groups=script

# Incoming emails are stored in the librarian
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT

# Access to people
public.account                          = SELECT, INSERT
public.accountpassword                  = SELECT, INSERT
public.emailaddress                     = SELECT
public.gpgkey                           = SELECT
public.language                         = SELECT
public.person                           = SELECT, UPDATE
public.personlanguage                   = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersoncache                 = SELECT
public.validpersonorteamcache           = SELECT

# Access to BugTargets, QuestionTarget and SpecTarget
public.archive                          = SELECT
public.archivearch                      = SELECT
public.component                        = SELECT
public.distribution                     = SELECT
public.distrocomponentuploader          = SELECT
public.archivepermission                = SELECT
public.distroseries                     = SELECT
public.project                          = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.packagebugsupervisor             = SELECT
public.sourcepackagename                = SELECT
public.sourcepackagerelease             = SELECT
public.sourcepackagepublishinghistory   = SELECT
public.structuralsubscription           = SELECT

# Karma
public.karma                            = SELECT, INSERT
public.karmaaction                      = SELECT

# Creation of messages (bug & question comments)
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT

# Bug update
public.bug                              = SELECT, INSERT, UPDATE
public.bugactivity                      = SELECT, INSERT
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugsubscription                  = SELECT, INSERT
public.bugnotification                  = SELECT, INSERT
public.bugnotificationattachment        = SELECT
public.bugnotificationrecipient         = SELECT, INSERT
public.bugnomination                    = SELECT, INSERT, UPDATE
public.bugtag                           = SELECT, INSERT, DELETE
public.bugtask                          = SELECT, INSERT, UPDATE
public.bugmessage                       = SELECT, INSERT
public.bugsubscription                  = SELECT, INSERT, UPDATE, DELETE
public.bugtracker                       = SELECT, INSERT
public.bugtrackeralias                  = SELECT, INSERT
public.bugwatch                         = SELECT, INSERT
public.milestone                        = SELECT

# CVE updates
public.cve                              = SELECT, INSERT
public.bugcve                           = SELECT, INSERT

# Adding comment to question
public.faq                              = SELECT
public.question                         = SELECT, UPDATE
public.questionmessage                  = SELECT, INSERT
public.questionbug                      = SELECT

# Question notifications
public.answercontact                    = SELECT
public.questionsubscription             = SELECT

# Specification notifications
public.specification                    = SELECT
public.specificationsubscription        = SELECT
public.structuralsubscription           = SELECT

# Emails may have files attached.
public.bugattachment                    = SELECT, INSERT

# Emails for code reviews.
public.branch                           = SELECT, INSERT, UPDATE
public.branchmergeproposal              = SELECT, INSERT, UPDATE
public.branchmergeproposaljob           = SELECT, INSERT
public.branchsubscription               = SELECT, INSERT
public.branchvisibilitypolicy           = SELECT
public.bugbranch                        = SELECT
public.codereviewmessage                = SELECT, INSERT
public.codereviewvote                   = SELECT, INSERT, UPDATE
public.diff                             = SELECT, INSERT, UPDATE
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.job                              = SELECT, INSERT, UPDATE
public.mergedirectivejob                = SELECT, INSERT
public.previewdiff                      = SELECT
public.staticdiff                       = SELECT, INSERT, UPDATE
public.sourcepackagename                = SELECT
public.seriessourcepackagebranch        = SELECT


[mlist-sync]
# The mailing list sync user
type=user
groups=script
public.mailinglist                      = SELECT
public.person                           = SELECT
public.emailaddress                     = SELECT, UPDATE

[mlist-import]
# The mailing list import user
type=user
public.emailaddress                     = SELECT, INSERT, UPDATE
public.mailinglist                      = SELECT, INSERT, UPDATE
public.mailinglistsubscription          = SELECT, INSERT, UPDATE
public.person                           = SELECT, INSERT, UPDATE
public.teammembership                   = SELECT, INSERT, UPDATE
public.teamparticipation                = SELECT, INSERT, UPDATE

[hwdb-submission-processor]
# The user that updates the HWDB with data from new submissions
type=user
groups=script
public.person                           = SELECT
public.hwdevicedriverlink               = SELECT, INSERT
public.hwdevicenamevariant              = SELECT, INSERT
public.hwdevice                         = SELECT, INSERT
public.hwdeviceclass                    = SELECT, INSERT
public.hwdmivalue                       = SELECT, INSERT
public.hwdmihandle                      = SELECT, INSERT
public.hwdriver                         = SELECT, INSERT
public.hwsubmissiondevice               = SELECT, INSERT
public.hwsubmission                     = SELECT, UPDATE
public.hwtestanswerchoice               = SELECT
public.hwtestanswercountdevice          = SELECT
public.hwtestanswercount                = SELECT
public.hwtestanswerdevice               = SELECT
public.hwtestanswer                     = SELECT
public.hwtest                           = SELECT
public.hwvendorid                       = SELECT, INSERT
public.hwvendorname                     = SELECT, INSERT
public.libraryfilealias                 = SELECT
public.libraryfilecontent               = SELECT
public.teamparticipation                = SELECT

[builddcontroller]
# The user than runs the buildd controller.
type=user
public.processor                        = SELECT
public.builder                          = SELECT, UPDATE

[binaryfile-expire]
# The user that expires binary files from the librarian.
type=user
groups=script
public.archive                          = SELECT
public.binarypackagefile                = SELECT
public.binarypackagepublishinghistory   = SELECT
public.binarypackagerelease             = SELECT
public.distribution                     = SELECT
public.person                           = SELECT
public.libraryfilealias                 = SELECT, UPDATE
public.securebinarypackagepublishinghistory = SELECT

[create-merge-proposals]
type=user
groups=script
public.account                          = SELECT
public.accountpassword                  = SELECT
public.branch                           = SELECT, INSERT, UPDATE
public.branchjob                        = SELECT
public.branchmergeproposal              = SELECT, INSERT, UPDATE
public.branchmergeproposaljob           = SELECT, INSERT
public.branchsubscription               = SELECT, INSERT
public.branchvisibilitypolicy           = SELECT
public.codereviewmessage                = SELECT, INSERT
public.codereviewvote                   = SELECT, INSERT
public.diff                             = SELECT, INSERT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT
public.gpgkey                           = SELECT
public.job                              = SELECT, INSERT, UPDATE
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.mergedirectivejob                = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.person                           = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.project                          = SELECT
public.sourcepackagename                = SELECT
public.staticdiff                       = SELECT, INSERT
public.teamparticipation                = SELECT
public.validpersoncache                 = SELECT

[mp-creation-job]
type=user
groups=script
public.account                          = SELECT
public.accountpassword                  = SELECT
public.branch                           = SELECT
public.branchjob                        = SELECT
public.branchmergeproposal              = SELECT, INSERT, UPDATE
public.branchmergeproposaljob           = SELECT, INSERT
public.branchsubscription               = SELECT
public.bug                              = SELECT
public.bugbranch                        = SELECT
public.codereviewmessage                = SELECT, INSERT
public.codereviewvote                   = SELECT, INSERT
public.diff                             = SELECT, INSERT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT
public.job                              = SELECT, INSERT, UPDATE
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.mergedirectivejob                = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.person                           = SELECT
public.previewdiff                      = SELECT, INSERT
public.product                          = SELECT
public.productseries                    = SELECT
public.seriessourcepackagebranch        = SELECT
public.sourcepackagename                = SELECT
public.staticdiff                       = SELECT, INSERT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersoncache                 = SELECT

[update-preview-diffs]
type=user
groups=script
public.branch                           = SELECT
public.branchmergeproposal              = SELECT, UPDATE
public.branchmergeproposaljob           = SELECT
public.diff                             = SELECT, INSERT
public.job                              = SELECT, UPDATE
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.previewdiff                      = SELECT, INSERT

[upgrade-branches]
type=user
groups=script
public.branch                           = SELECT
public.branchjob                        = SELECT
public.job                              = SELECT, UPDATE

[send-branch-mail]
type=user
groups=script
public.account                          = SELECT
public.accountpassword                  = SELECT
public.branch                           = SELECT
public.branchjob                        = SELECT
public.branchmergeproposal              = SELECT, INSERT, UPDATE
public.branchmergeproposaljob           = SELECT, INSERT
public.branchsubscription               = SELECT
public.branchrevision                   = SELECT
public.codereviewmessage                = SELECT, INSERT
public.codereviewvote                   = SELECT, INSERT
public.diff                             = SELECT, INSERT
public.distribution                     = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT
public.job                              = SELECT, INSERT, UPDATE
public.karmaaction                      = SELECT
public.karma                            = SELECT, INSERT
public.libraryfilealias                 = SELECT, INSERT
public.libraryfilecontent               = SELECT, INSERT
public.mergedirectivejob                = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.person                           = SELECT
public.product                          = SELECT
public.productseries                    = SELECT
public.revision                         = SELECT
public.revisionauthor                   = SELECT, INSERT
public.sourcepackagename                = SELECT
public.staticdiff                       = SELECT, INSERT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT
public.validpersoncache                 = SELECT

[reclaim-branch-space]
type=user
groups=script
public.branchjob                        = SELECT
public.job                              = SELECT, UPDATE

[updateremoteproduct]
# Updates Product.remote_product using bug watch information.
type=user
groups=script
public.account                          = SELECT, INSERT, UPDATE
public.person                           = SELECT, INSERT
public.product                          = SELECT, INSERT, UPDATE
public.productseries                    = SELECT, INSERT
public.productlicense                   = SELECT, INSERT
public.bugtracker                       = SELECT, INSERT
public.bugwatch                         = SELECT, INSERT
public.bug                              = SELECT, INSERT, UPDATE
public.bugaffectsperson                 = SELECT, INSERT, UPDATE, DELETE
public.bugtask                          = SELECT, INSERT, UPDATE
public.accountpassword                  = SELECT, INSERT
public.teamparticipation                = SELECT, INSERT
public.emailaddress                     = SELECT, INSERT, UPDATE
public.hwsubmission                     = SELECT
public.revisionauthor                   = SELECT
public.bugtrackeralias                  = SELECT
public.message                          = SELECT, INSERT
public.messagechunk                     = SELECT, INSERT
public.bugsubscription                  = SELECT, INSERT
public.bugmessage                       = SELECT, INSERT
public.sourcepackagename                = SELECT

[updatesourceforgeremoteproduct]
# Updates Product.remote_product using SourceForge project data.
type=user
groups=script
public.product                          = SELECT, UPDATE
public.bugtracker                       = SELECT

[weblogstats]
# For the script that parses our Apache/Squid logfiles and updates statistics
type=user
public.libraryfilealias                 = SELECT
public.libraryfiledownloadcount         = SELECT, INSERT, UPDATE, DELETE

[garbo]
# garbo_hourly and garbo_daily script permissions. We define the
# permissions here in this group instead of in the users, so tasks can
# be shuffled around between the daily and hourly sections without
# changing DB permissions.
type=user
groups=script,read
public.bugnotification                  = SELECT, DELETE
public.bugnotificationrecipientarchive  = SELECT
public.codeimportresult                 = SELECT, DELETE
public.emailaddress                     = SELECT
public.oauthnonce                       = SELECT, DELETE
public.openidassociation                = SELECT, DELETE
public.openidconsumerassociation        = SELECT, DELETE
public.openidconsumernonce              = SELECT, DELETE
public.revisioncache                    = SELECT, DELETE
public.person                           = SELECT, DELETE
public.revisionauthor                   = SELECT, UPDATE
public.hwsubmission                     = SELECT, UPDATE
public.mailinglistsubscription          = SELECT, DELETE
public.teamparticipation                = SELECT, DELETE
public.emailaddress                     = SELECT, UPDATE

[garbo_daily]
type=user
groups=garbo

[garbo_hourly]
type=user
groups=garbo

[generateppahtaccess]
# For the generate_ppa_htaccess.py cronscript.
type=user
groups=script
public.archive                          = SELECT
public.archiveauthtoken                 = SELECT, UPDATE
public.archivesubscriber                = SELECT, UPDATE
public.distribution                     = SELECT
public.distroarchseries                 = SELECT
public.distroseries                     = SELECT
public.emailaddress                     = SELECT
public.person                           = SELECT
public.teammembership                   = SELECT
public.teamparticipation                = SELECT

[branch-rewrite]
type=user
public.branch                           = SELECT

[nagios]
type=user
public.libraryfilecontent               = SELECT
public.openidrpconfig                   = SELECT

[modified-branches]
type=user
public.branch                           = SELECT
