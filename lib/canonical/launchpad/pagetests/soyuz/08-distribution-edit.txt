= Editing distributions =

Change some details of the Ubuntu distribution that were incorrect.

  >>> admin_browser.open("http://launchpad.dev/ubuntu")
  >>> admin_browser.getLink("Edit Details").click()
  >>> admin_browser.url
  'http://launchpad.dev/ubuntu/+edit'

  >>> admin_browser.getControl("Display Name").value
  'Ubuntu'
  >>> admin_browser.getControl("Display Name").value = 'Test Distro'

  >>> find_tag_by_id(
  ...     admin_browser.contents, 'field.gotchi_current_img').get('src')
  u'/@@/nyet-mugshot'
  >>> import os
  >>> import canonical.launchpad
  >>> icon = os.path.join(
  ...   os.path.dirname(canonical.launchpad.__file__),
  ...   'pagetests/standalone/mypng.png')
  >>> admin_browser.getControl(name='field.gotchi.action').value = ['change']
  >>> admin_browser.getControl(name='field.gotchi.image').add_file(
  ...   open(icon), 'image/png', 'mypng.png')

  >>> admin_browser.getControl("Title").value = 'The Test Distribution'
  >>> admin_browser.getControl("Summary").value = 'Test Distro Summary'
  >>> admin_browser.getControl("Description").value = 'Test Distro Description'

  >>> admin_browser.getControl("Change", index=2).click()
  >>> admin_browser.url
  'http://launchpad.dev/ubuntu'

The changed values can be seen on the distribution's +edit page.

  >>> admin_browser.getLink("Edit Details").click()

  >>> admin_browser.getControl("Display Name").value
  'Test Distro'

  >>> find_tag_by_id(
  ...     admin_browser.contents, 'field.gotchi_current_img').get('src')
  u'.../mypng.png'
