<tal:do-this-first tal:content="view/processProposed" />
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<div metal:fill-slot="main">

      <h1><span tal:replace="context/browsername" />: Proposed Members</h1>

      <tal:block tal:define="members context/proposedmembers">

      <div tal:condition="members" style="margin: 2em 0em">
      <form name="proposed" action="" method="POST">

        <p>The following users want to join this team but their subscription
        must be approved. Please select the action (Approve, Deny, Hold) for 
        each user and click on <em>Submit</em>.</p>

        <table>
          <tr tal:repeat="member members">
            <tal:block tal:define="action_name string:action_${member/id};
                                   approve_id string:approve_${member/id};
                                   decline_id string:decline_${member/id};
                                   hold_id string:hold${member/id}">

            <td align="right">
              <a tal:attributes="href string:/people/${member/name}">
                <span tal:content="member/browsername" /></a>
            <td>
              <label tal:attributes="for approve_id">
                <input type="radio" value="approve"
                       tal:attributes="name action_name; id approve_id" />Approve
              </label>
            </td>
            <td>
              <label tal:attributes="for decline_id">
                <input type="radio" value="decline"
                       tal:attributes="name action_name; id decline_id" />Decline
              </label>
            </td>
            <td>
              <label tal:attributes="for hold_id">
                <input type="radio" value="hold" checked
                       tal:attributes="name action_name; id hold_id" />Hold
              </label>
            </td>
            </tal:block>
          </tr>
        </table>

        <input style="float: right" type="submit" name="proposed" value="Submit" />
      </form>
      </div>


      <div tal:condition="not: members">
        <br />
        <p>
          This team does not have any proposed members. Please visit
          this team's <a href="#"
                  tal:attributes="href
                  string:${context/fmt:url}/+members">membership</a>
          page to see all its members.
        </p>
      </div>

    </tal:block>

</div>


</body>
</html>
