<!-- Copyright 2009 Canonical Ltd.  This software is licensed under the
     GNU Affero General Public License version 3 (see the file LICENSE).
-->

<tal:root
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  omit-tag="">
<tal:do-this-first tal:content="view/processForm" />

<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
<body>
<metal:heading fill-slot="pageheading">
  <h1>Change the <tal:role replace="view/ownerOrMaintainerName" /> of
        <tal:thing replace="view/contextName" />
  </h1>
</metal:heading>

<div metal:fill-slot="main">

  <span metal:define-macro="object-reassignment">
  <p
    tal:condition="view/errormessage"
    class="error message"
    tal:content="view/errormessage"
  />

  <form action="" method="POST">

    <table width="100%">
      <tr>
        <td align="right">
          Current:
        </td>
        <td>
          <span tal:replace="view/ownerOrMaintainer/displayname" />
        </td>
      </tr>

      <tr>
        <td align="right">New:</td>
        <td><tal:block content="structure view/owner_widget" /></td>
      </tr>

      <tr>
        <td align="right">This is:</td>
        <td>
          <label for="existing">
            <input type="radio" value="existing" id="existing"
              name="existing" checked="checked" />An existing person or team
          </label>
          <br />

          <label for="new">
            <input type="radio" value="new" id="new"
                   name="existing" />A new team I'm creating here
          </label>
          <br />
          <p class="lesser discreet">
            The new team's name must begin with a lower-case letter or
            number, and contain only letters, numbers, dots, hyphens, or plus
            signs.
          </p>
        </td>
      </tr>

      <tr>
        <td></td>
        <td tal:define="role view/ownerOrMaintainerName">
          <input type="submit" name="CHANGE_OWNER"
                 tal:attributes="value string:Change ${role}"/>
        </td>
      </tr>
    </table>
  </form>
  </span>

</div>

</body>
</html>
</tal:root>
