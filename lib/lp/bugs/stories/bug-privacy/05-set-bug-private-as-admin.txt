Foo Bar, an LP admin, is about to make bug #2 private.

    >>> browser = setupBrowser(auth="Basic foo.bar@canonical.com:test")
    >>> browser.open(
    ...     "http://bugs.launchpad.dev/debian/+source/mozilla-firefox/"
    ...     "+bug/2/+secrecy")

When he does so, all currently implicit subscribers will be made
explicit. There are two implicit subscribers.

    >>> from lp.bugs.tests.bug import (
    ...     print_direct_subscribers, print_indirect_subscribers)

    >>> browser.open(
    ...     "http://launchpad.dev/bugs/2/+bug-portlet-subscribers-content")

    >>> print_direct_subscribers(browser.contents)
    Steve Alexander (Subscribed by Launchpad Janitor)

    >>> print_indirect_subscribers(browser.contents)
    From duplicates:
    Also notified:
    Mark Shuttleworth
    Sample Person
    Ubuntu Team

Foo Bar is not Cc'd on this bug, but is able to set the bug private
anyway, because he is an admin.

  >>> browser.open(
  ...     "http://bugs.launchpad.dev/debian/+source/mozilla-firefox/"
  ...     "+bug/2/+secrecy")
  >>> browser.getControl("This bug report should be private").selected = True
  >>> browser.getControl("Change").click()
  >>> print browser.url
  http://bugs.launchpad.dev/debian/+source/mozilla-firefox/+bug/2


All the implicit subscribers have been made explicit.

  >>> browser.open(
  ...     "http://launchpad.dev/bugs/2/+bug-portlet-subscribers-content")
  >>> print_direct_subscribers(browser.contents)
  Ubuntu Team (Subscribed by Foo Bar) (Unsubscribe Ubuntu Team)
  Mark Shuttleworth (Subscribed by Foo Bar)
  Sample Person (Subscribed by Foo Bar)
  Steve Alexander (Subscribed by Launchpad Janitor)

  >>> print_indirect_subscribers(browser.contents)
  From duplicates:
  Also notified:

When we go back to the secrecy form, the previously set value is pre-selected.

  >>> browser.open(
  ...     "http://bugs.launchpad.dev/debian/+source/mozilla-firefox/"
  ...     "+bug/2/+secrecy")
  >>> browser.getControl("This bug report should be private").selected
  True
