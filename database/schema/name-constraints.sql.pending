CREATE OR REPLACE FUNCTION validname(name) RETURNS boolean AS '
BEGIN
    IF name SIMILAR TO ''[a-z\\\\_\\\\-0-9]*[a-z\\\\_\\\\-][a-z\\\\_\\\\-]*'' THEN
        RETURN true;
    END IF;
END;    
' LANGUAGE plpgsql;

/* ALTER TABLE Bug ADD CHECK validname(name); */

