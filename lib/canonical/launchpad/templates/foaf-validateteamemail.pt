<tal:do-this-first tal:content="view/processForm" />

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<head>
  <title metal:fill-slot="title">Validate email address</title>
  <!-- Plone style sheet -->
  <style type="text/css" media="screen">@import url(plone.css);</style>
  <!-- Launchpad style sheet -->
  <style type="text/css" media="screen">@import url(launchpad.css);</style>
</head>

<body>

<div metal:fill-slot="main">

    <div tal:condition="not: view/successfullyProcessed">
      <h1>Validate email: <span tal:replace="context/email"></span></h1>

      <div tal:condition="view/errormessage" class="portalMessage"
           tal:content="structure view/errormessage">
      </div>

      <p>You're about to make <span tal:replace="context/email" /> the contact
        email address of this team. By doing so, all notifications directed to
        this team will be sent to this email address instead of going to the
        team members.</p>

      <form name="validate" action="" method="POST">
        <input type="submit" name="VALIDATE" value="Ok" />
      </form>
    </div>

    <div tal:condition="view/successfullyProcessed">
      <h1>Contact email address validated successfully</h1>
    </div>

</div>


</body>
</html>
