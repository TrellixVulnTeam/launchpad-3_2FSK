Filing a public bug on a distribution source package subscribes the bug
reporter, the distribution contact (if there is one) and all the package
bug contacts (if there are any.)

    >>> browser.addHeader("Authorization", "Basic mark@hbd.com:test")

    >>> browser.open(
    ...     "http://localhost:9000/distros/ubuntu/+source/mozilla-firefox/+filebug")
    >>> browser.getControl(name="field.title").value = "a public bug"
    >>> browser.getControl(name="field.comment").value = (
    ...     "anyone can see this")
    >>> browser.getControl("Submit Bug Report").click()

We should have three subscribers now. The bug reporter (also a package
contact), sabdfl, the distro contact, carlos, and the other package
contact, the Launchpad Admins team.

    >>> from zope.component import getUtility
    >>> from canonical.launchpad.interfaces import IBugSet
    >>> from canonical.launchpad.ftests import login, logout, ANONYMOUS

    >>> def subscriber_names(bug):
    ...     subscribers = (
    ...         bug.getDirectSubscribers() + bug.getIndirectSubscribers())
    ...     return sorted(subscriber.name for subscriber in subscribers)

    >>> login(ANONYMOUS)

    >>> bugset = getUtility(IBugSet)
    >>> subscriber_names(bugset.get(13))
    [u'admins', u'carlos', u'name16', u'sabdfl']

    >>> logout()

Filing a private bug, only the bug reporter is explicitly Cc'd.

    >>> browser.open(
    ...     "http://localhost:9000/distros/ubuntu/+source/mozilla-firefox/+filebug")
    >>> browser.getControl(name="field.title").value = "a PRIVATE bug"
    >>> browser.getControl(name="field.comment").value = "top sekrit"
    >>> browser.getControl(name="field.private").value = True
    >>> browser.getControl("Submit Bug Report").click()

Let's login as sabdfl to verify that sabdfl is in fact the only
subscriber (because noone else but sabdfl will be able to access this
bug information but sabdfl or an admin.)

    >>> login("mark@hbd.com")

    >>> subscriber_names(bugset.get(14))
    [u'sabdfl']

    >>> logout()

