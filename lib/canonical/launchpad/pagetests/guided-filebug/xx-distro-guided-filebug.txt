= Filing bugs on Distributions =

Like filing bugs on products, filing bugs on distributions involves
first finding out if you're bug has already been reported.

    >>> user_browser.open("http://launchpad.dev/ubuntu/+filebug")

There are no duplicate bugs reported in Ubuntu so the most common bugs
table is not shown.

    >>> most_common_bugs_table = find_tag_by_id(
    ...     user_browser.contents, "most-common-bugs")
    >>> most_common_bugs_table is None
    True

Submitting a bug title...

    >>> user_browser.getControl("Summary").value = (
    ...     "Thunderbird crashes when opening large e-mails")
    >>> user_browser.getControl("Continue").click()

...yields two similar bugs.

    >>> from canonical.launchpad.ftests.bug import print_bugs_list
    >>> print_bugs_list(user_browser.contents, "similar-bugs")
    #9: Thunderbird crashes
    #2: Blackhole Trash folder

Subscribing to one of the similar bugs takes us to the bug page.

    >>> user_browser.getControl('#9: Thunderbird crashes').selected = True
    >>> user_browser.getControl('Subscribe To This Bug').click()

    >>> print user_browser.url
    http://bugs.launchpad.dev/thunderbird/+bug/9

    >>> for message in get_feedback_messages(user_browser):
    ...     print message
    You have been subscribed to this bug.

Actually, on reflection, that's not our bug after all. Let's go
back...

    # We should use goBack() here but can't because of bug #98372:
    # zope.testbrowser truncates document content after goBack().
    >>> user_browser.open("http://launchpad.dev/ubuntu/+filebug")
    >>> user_browser.getControl("Summary").value = (
    ...     "Thunderbird crashes when opening large e-mails")
    >>> user_browser.getControl("Continue").click()

...and continue filing our bug.

    >>> user_browser.getControl(name="packagename_option").value = ["choose"]
    >>> user_browser.getControl("In what package").value = "mozilla-firefox"
    >>> user_browser.getControl("Summary").value = "a new ubuntu bug"
    >>> user_browser.getControl("Further information").value = "test"
    >>> user_browser.getControl("Submit Bug Report").click()

    >>> print user_browser.url
    http://bugs.launchpad.dev/ubuntu/+source/mozilla-firefox/+bug/...
