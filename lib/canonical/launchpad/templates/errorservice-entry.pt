<html metal:use-macro="context/@@main_template/master">
<body>
<div metal:fill-slot="main"
     tal:define="entry python:context.getLogEntryById(request.get('id'))">

  <h1 i18n:translate="">Exception traceback</h1>

  <p tal:condition="not:entry">
    The specified log entry was not found.  It may have expired.
  </p>

  <div tal:condition="entry">

    <div class="row">
      <label i18n:translate="">Time:</label>
      <div class="field" tal:content="entry/time">Time</div>
    </div>

    <div class="row">
      <label i18n:translate="">User:</label>
      <div class="field" tal:content="entry/username">joe</div>
    </div>

    <div class="row">
      <label i18n:translate="">Request URL:</label>
      <div class="field" tal:content="entry/url">http://zeomega.com</div>
    </div>

    <div class="row">
      <label i18n:translate="">Exception type:</label>
      <div class="field" tal:content="entry/type">AttributeError</div>
    </div>

    <div class="row">
      <label i18n:translate="">Exception value:</label>
      <div class="field" tal:content="entry/value">zzope</div>
    </div>

    <div class="row">
      <label i18n:translate="">Traceback:</label>
      <div class="field">&nbsp;</div>
    </div>
    <br/>

    <pre tal:content="entry/tb_text">
      Traceback (text)
    </pre>

    <div tal:condition="entry/req_vars">

      <h1 i18n:translate="">Request</h1>

      <table class="listing">
        <thead>
          <tr>
            <th>Name</th>
            <th>Value</th>
          </tr>
        </thead>
        <tbody>
          <tr tal:repeat="row entry/req_vars">
            <td tal:content="python:row[0]">Name</td>
            <td tal:content="python:row[1]">Value</td> 
         </tr>
        </tbody>
      </table>

    </div>

  </div>

  <form action="index.html" method="get">
    <div class="row">
        <input type="submit" name="submit" value="Return to log" 
                i18n:attributes="value return-to-log-button" />
    </div>
  </form>

</div>
</body>
</html>
