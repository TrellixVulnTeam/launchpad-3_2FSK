<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/tal/i18n"
      xml:lang="en" lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

  <body>

    <div metal:fill-slot="main">
      <h1>
        Subscribe to
        <q tal:content="context/title">Calendar</q>
      </h1>

      <div tal:content="view/submit" />

      <p class="formHelp">
      Subscribing to a calendar causes its events to appear in
      your calendar, in a colour you choose.</p>

      <form action="." tal:attributes="action request/URL" method="post">
          <p>Do you want to subscribe to this calendar?</p>
          <div>
            <label for="subscribe-yes">
              <input type="radio" name="subscribe" id="subscribe-yes"
                     value="yes"
                     tal:attributes="checked python:view.isSubscribed() and 'checked' or None" />
              Yes
            </label>
          </div>
          <div>
            <label for="subscribe-no">
              <input type="radio" name="subscribe" id="subscribe-no"
                     value="no"
                     tal:attributes="checked python:not view.isSubscribed() and 'checked' or None" />
              No
            </label>
          </div>
          <p>What colour should its events be displayed in?</p>
          <div>
            <select name="colour">
              <option tal:repeat="colour view/colours"
                      tal:attributes="value colour/code;
                                      selected python:view.colour() == colour['code'] and 'selected' or None;
                                      style string:background-color: ${colour/code}"
                      tal:content="colour/name">
                Colour name
              </option>
            </select>
          </div>

        <div class="separator"></div>

        <div class="form actions">
            <input type='submit' value='Submit'
              name='UPDATE_SUBMIT'
              i18n:attributes='value submit-button' />
        </div>
             
      </form>
    </div>
  </body>
</html>
