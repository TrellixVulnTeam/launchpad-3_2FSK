<!-- Copyright 2009 Canonical Ltd.  This software is licensed under the
     GNU Affero General Public License version 3 (see the file LICENSE).
-->

<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:i18n="http://namespaces.zope.org/i18n"
    i18n_domain="launchpad">

    <securedutility
        class="canonical.launchpad.translationformat.TranslationImporter"
        provides="canonical.launchpad.interfaces.ITranslationImporter">
        <allow
            interface="canonical.launchpad.interfaces.ITranslationImporter" />
    </securedutility>

    <class
        class="canonical.launchpad.translationformat.gettext_po_parser.POHeader">
        <allow
            interface="canonical.launchpad.interfaces.ITranslationHeaderData" />
        <require
            permission="zope.Public"
            set_schema="canonical.launchpad.interfaces.ITranslationHeaderData" />
    </class>

    <class
        class="canonical.launchpad.translationformat.gettext_po_importer.GettextPOImporter">
        <allow
          interface="canonical.launchpad.interfaces.ITranslationFormatImporter" />
    </class>

    <subscriber
        for="canonical.launchpad.interfaces.ITranslationImportQueueEntry"
        provides="canonical.launchpad.interfaces.ITranslationFormatImporter"
        factory="canonical.launchpad.translationformat.gettext_po_importer.GettextPOImporter"
        />

    <class
        class="canonical.launchpad.translationformat.xpi_header.XpiHeader">
        <allow
            interface="canonical.launchpad.interfaces.ITranslationHeaderData" />
        <require
            permission="zope.Public"
            set_schema="canonical.launchpad.interfaces.ITranslationHeaderData" />
    </class>

    <class
        class="canonical.launchpad.translationformat.kde_po_importer.KdePOImporter">
        <allow
          interface="canonical.launchpad.interfaces.ITranslationFormatImporter" />
    </class>

    <class
        class="canonical.launchpad.translationformat.mozilla_xpi_importer.MozillaXpiImporter">
        <allow
          interface="canonical.launchpad.interfaces.ITranslationFormatImporter" />
    </class>

    <subscriber
        for="canonical.launchpad.interfaces.ITranslationImportQueueEntry"
        provides="canonical.launchpad.interfaces.ITranslationFormatImporter"
        factory="canonical.launchpad.translationformat.mozilla_xpi_importer.MozillaXpiImporter"
        />

</configure>
