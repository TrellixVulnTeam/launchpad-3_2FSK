<div
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  id="milestone-details" class="portlet">
  <h2>Milestone information</h2>

  <div class="two-column-list">
    <dl>
      <dt>Project:</dt>
      <dd><a tal:replace="structure view/milestone/target/fmt:link" /></dd>
    </dl>

    <dl tal:condition="not: view/is_project_milestone">
      <dt>Series:</dt>
      <dd><a tal:attributes="href view/milestone/series_target/fmt:url"
        tal:content="view/milestone/series_target/displayname"
        tal:condition="view/milestone/series_target" /></dd>
    </dl>

    <dl>
      <dt>Version:</dt>
      <dd><tal:version replace="context/name" /></dd>
    </dl>

    <dl>
      <dt>Code name:</dt>
      <dd>
        <tal:code-name replace="view/milestone/code_name" />
        <tal:no-code-name
          condition="not: view/milestone/code_name">None</tal:no-code-name>
      </dd>
    </dl>

    <dl>
      <dt>Expected:</dt>
      <dd><span
        tal:attributes="title context/dateexpected/fmt:datetime"
        tal:content="context/dateexpected/fmt:approximatedate" />
        &nbsp;
        <a tal:replace="structure view/milestone/menu:overview/create_release/fmt:icon-link" />
      </dd>
    </dl>

    <tal:has_release condition="view/release">
      <dl>
        <dt>Released:</dt>
        <dd><span
          tal:attributes="title view/release/datereleased/fmt:datetime"
          tal:content="view/release/datereleased/fmt:approximatedate" />
          &nbsp;
          <a tal:replace="structure release_menu/delete/fmt:icon" />
          <a tal:replace="structure release_menu/edit/fmt:icon" />
          </dd>
      </dl>

      <dl>
        <dt>Registrant:</dt>
        <dd><tal:registrant replace="structure view/release/owner/fmt:link"/></dd>
      </dl>

      <dl>
        <dt>Release registered:</dt>
        <dd><span
          tal:attributes="title view/release/datecreated/fmt:datetime"
          tal:content="view/release/datecreated/fmt:approximatedate" /></dd>
      </dl>
    </tal:has_release>
  </div>

  <dl tal:condition="not: view/is_project_milestone">
    <dt>Active:</dt>
    <dd>
      <tal:yes condition="context/active">
        Yes. Drivers can target bugs and blueprints to this milestone.
      </tal:yes>
      <tal:no condition="not: context/active">
        No.  Drivers cannot target bugs and blueprints to this milestone.
      </tal:no>
      &nbsp; <a tal:replace="structure view/milestone/menu:navigation/edit/fmt:icon" />
    </dd>
  </dl>

  <tal:has_release condition="view/release">
    <p style="clear: both"
      tal:define="link release_menu/download"
      tal:condition="link/enabled">
      <a tal:replace="structure link/render">Download RDF metadata</a>
    </p>
  </tal:has_release>
</div>
