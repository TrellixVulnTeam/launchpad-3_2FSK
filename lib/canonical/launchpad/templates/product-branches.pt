<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template_2col/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
</metal:rightportlets>

<metal:heading fill-slot="pageheading">
  <h3 tal:content="context/title">Mozilla Firefox</h3>
  <h1>Bazaar branches</h1>
</metal:heading>

<div metal:fill-slot="main"
     tal:define="branchviewset view/visible_branches;
                 branchset view/branches">

  <tal:branchlist condition="branchset">

  <metal:branch-filter
      metal:use-macro="context/@@branch-filtering-macros/branch-filter" />

  <table class="listing sortable" id="branchtable">
    <thead>
      <tr>
        <th>Name</th>
        <th>Author</th>
        <th class="initial-sort">Status</th>
        <th>Last Commit</th>
      </tr>
    </thead>
    <tbody>
      <tr tal:repeat="branch branchviewset">
        <!-- Name -->
        <td>
          <a tal:attributes="href branch/fmt:url;
                             title branch/displayname"
             tal:content="branch/name/fmt:shorten/30">
               Name
          </a>
        </td>
        <!-- Author -->
        <td>
          <a tal:condition="branch/author"
             tal:attributes="href branch/author/fmt:url"
             tal:content="branch/author/browsername">
               Author
          </a>
        </td>
        <!-- Status -->
        <td>
          <span tal:content="branch/lifecycle_status/sortkey"
                class="sortkey">23</span>
          <span tal:content="branch/lifecycle_status/title"
                tal:attributes="
                  class string:branchstatus${branch/lifecycle_status/name}">
                  Status</span>
        </td>
        <!-- Last Commit -->
        <td tal:define="last_commit python:view.last_commit[branch.id]">
          <span tal:condition="last_commit"
                tal:replace="last_commit/fmt:datetime">
            2007-01-01
          </span>
        </td>
      </tr>
      <tr tal:condition="not:branchviewset">
        <td colspan="4">
          <i>There are branches registered for
            <span tal:replace="context/name">firefox</span> but none of them
            match the current filter criteria for this page.  Try filtering on
            "Any Status".</i>
        </td>
      </tr>
    </tbody>
  </table>

  </tal:branchlist>

  <p tal:condition="not:branchset">
    There are no branches registered for
    <span tal:replace="context/displayname">Firefox</span> in Launchpad
    today. We recommend you visit
    <a href="http://www.bazaar-vcs.org">www.bazaar-vcs.org</a> for more
    information about how you can use the Bazaar revision control system to
    improve community participation in this product.
  </p>

</div><tal:comment condition="nothing"><!-- end main slot --></tal:comment>

<metal:block fill-slot="help">

  <p>Launchpad is integrated with the <a
    href="http://bazaar-vcs.org/">Bazaar</a> version control system. (<a
    href="http://bazaar-vcs.org/WhyUseBzr">Why use Bazaar?</a>).</p>

  <p>This page lists all the branches that are associated to a product. There,
     you can see what code contributions are being worked on or proposed for
     inclusion in this product.</p>

  <p>Although it is possible for a branch not to be associated to any product,
    we recommend against using this feature: such branches are harder to
    locate. Associating your branches to the right product makes it easier for
    other developers to locate your contributions.</p>

  <p>From this page you can:</p>

  <ul>
    <li>Browse to every listed branch.</li>

    <li>See this listing in a more detailed format.</li>

    <li>Register a new mirror branch associated to this product.</li>
  </ul>

  <tal:comment condition="nothing"><!-- XXX: Move this generic documentation to
    help.launchpad.net, and put a pointer here. Rewrite this help to be be
    context sensitive and more example-based. - David Allouche 2006-12-05
    --></tal:comment>

  <p>To create an <em>upload</em> branch, that is a branch hosted on Launchpad,
    as opposed to a <em>mirror</em> branch:</p>

  <ul>
    <li>Register a SSH key from your person&rsquo;s page. Click on your name at
      the top of any Launchpad page when logged in to go to your person's
      page.</li>

    <li>Use the <code>bzr push</code> command to create the branch.</li>
  </ul>

  <p>The push location must be of the form:
    <code>sftp://<i>login</i><wbr></wbr>@bazaar.launchpad.net/<wbr></wbr>~<i>registrant</i>/<wbr></wbr><i>product</i>/<wbr></wbr><i>branch</i></code></p>

  <ul>
    <li><i>login</i> is your Launchpad person name: the last part of the URL of
      your person's page. Launchpad uses it to check the SSH key you are
      authenticating with.</li>

    <li><i>registrant</i> is your Launchpad person name, or the name of a team
       you belong to. Use a team name to create a branch to which other people
       can upload.</li>

    <li><i>product</i> is the name of the Launchpad product to register this
       branch on. The uploaded branch will appear in the listings for this
       product.</li>

    <li><i>name</i> must be unique for a given registrant and product.</li>
  </ul>

</metal:block><tal:comment condition="nothing"><!-- end help slot --></tal:comment>

</body>
</html>
