= Projects with active branches =

The tag cloud of projects is one way in which the number and scope of available
bazaar branches is shown to the user.

    >>> anon_browser.open("http://code.launchpad.dev/")
    >>> anon_browser.getLink(url='/+project-cloud').click()
    >>> print anon_browser.title
    Projects with active branches

The `Projects with active branches` page shows a link for each project that has
branches associated with it.  The HTML class attribute is used to control how
the link is shown.

    >>> tags = find_tag_by_id(anon_browser.contents, 'project-tags')
    >>> for anchor in tags.fetch('a'):
    ...     print anchor.renderContents(), anchor['class']
    firefox cloud-size-medium cloud-shade-light

If the project is using bzr as its main branch repository then the class is
different from the other projects.  This allows the CSS to show these projects
in a different colour.

Update firefox to officially use codehosting:

    >>> from zope.component import getUtility
    >>> from zope.security.proxy import removeSecurityProxy
    >>> from canonical.launchpad.interfaces.product import IProductSet
    >>> from canonical.launchpad.ftests import ANONYMOUS, login, logout
    >>> login(ANONYMOUS)
    >>> firefox = getUtility(IProductSet).getByName('firefox')
    >>> firefox = removeSecurityProxy(firefox)
    >>> firefox.official_codehosting = True
    >>> logout()

The class for firefox in the project tag cloud will now show 'highlight' rather
than shade.

    >>> anon_browser.open("http://code.launchpad.dev/")
    >>> anon_browser.getLink(url='/+project-cloud').click()
    >>> tags = find_tag_by_id(anon_browser.contents, 'project-tags')
    >>> for anchor in tags.fetch('a'):
    ...     if anchor.renderContents() == 'firefox':
    ...         print anchor['class']
    cloud-size-medium cloud-highlight-light
