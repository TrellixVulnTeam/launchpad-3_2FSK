Each translation file has an overview page which shows the list of
contributors.

    >>> anon_browser.open(
    ...     'http://translations.launchpad.dev/evolution/trunk/+pots/'
    ...     'evolution-2.2/es')
    >>> print extract_text(find_main_content(anon_browser.contents))
    Template "evolution-2.2" in Evolution trunk
    Overview for Spanish translation
    Contributors to this translation
    The following people have made some contribution to this specific
    translation:
    Carlos... (filter)
    Mark Shuttleworth (filter)
    No Privileges Person (filter)

We can filter any contributions done by Carlos (the first person
appearing among contributors), by choosing the 'filter' link:

    >>> anon_browser.getLink('filter').click()
    >>> anon_browser.url
    'http://translations.launchpad.dev/evolution/trunk/+pots/evolution-2.2/es/+filter?person=carlos'

We want to display all the translations submitted by Carlos, and to
allow easier debuging and problem catching when changes are
introduced, we define a separate method to pretty-print all the
translations.

    >>> def print_shown_translations(browser):
    ...     # Extract a class from any of the contained <td> elements,
    ...     # returning the first one actually defined.
    ...     def get_first_defined_class(cells):
    ...         for cell in cells:
    ...             type = dict(cell.attrs).get('class')
    ...             if type:
    ...                 return type
    ...         return None
    ...
    ...     # Get contents of all the `cells`, and join them with spaces.
    ...     def get_columns(cells):
    ...         contents = []
    ...         for cell in cells:
    ...             text = extract_text(cell).replace('\n','\\n')
    ...             if text:
    ...                 contents.append(text)
    ...         return ' '.join(contents)
    ...
    ...     def strip_to_length(string, length=18):
    ...         if string is None: return None
    ...         if len(string)>length:
    ...             return string[:length-3]+'...'
    ...         else:
    ...             return string
    ...
    ...     table = find_tags_by_class(browser.contents, 'listing')[0]
    ...     rows = table.findAll('tr')
    ...     for row in rows:
    ...         cells = row.findAll('td')
    ...         type = get_first_defined_class(cells)
    ...         types = { 'englishstring' : 'english',
    ...                   'usedtranslation' : ' used',
    ...                   'hiddentranslation' : ' old',
    ...                   'suggestedtranslation' : ' unused' }
    ...         contents = get_columns(cells)
    ...         print "%-10s %s" % (types[type],
    ...                             strip_to_length(contents, 50))

Now we can look at all the submissions Carlos has made.  Note that
'english' in the first column indicates a msgid, and 'used', 'old' or
'unused' indicate type of a translation ('used' if it is is_current,
'unused' if not current but unreviewed, and 'old' if it was reviewed
and rejected).

    >>> print_shown_translations(anon_browser)
    english    1. evolution addressbook
     used      2005-04-07 libreta de direcciones de Evolution
    english    2. current addressbook folder
     used      2005-04-07 carpeta de libretas de direcciones a...
    english    3. have
     old       2006-12-22 lalalala
     used      2005-04-07 tiene
    english    5. cards
     used      2005-04-07 tarjetas
    english    14. The location and hierarchy of the Evolution...
     used      2005-04-07 La ubicaci...
    english    15. %d contact\n%d contacts
     used      2005-04-07 %d contacto\n%d contactos
    english    16. Opening %d contact will open %d new window ...
     used      2005-04-07 Abrir %d contacto abrir...
    english    17. %d foo\n%d bars
     used      2005-04-07 %d foo
    english    18. EncFS Password:
     used      2005-04-07 Contrase...
    english    ~ _Add Group
     used      2005-04-07 _A...

Looking at the same page filtered by 'no-priv' person, we are shown
only a single unused suggestion instead:

    >>> anon_browser.open('http://translations.launchpad.dev/evolution/trunk/'
    ...                   '+pots/evolution-2.2/es/+filter?person=no-priv')
    >>> print_shown_translations(anon_browser)
    english    14. The location and hierarchy of the Evolution...
     unused    2005-08-29 This is a suggestion added by a non-...

A POTMsgSet sequence number is also a link to edit a translation.

    >>> anon_browser.getLink('14.').click()
    >>> anon_browser.url
    'http://translations.launchpad.dev/evolution/trunk/+pots/evolution-2.2/es/14/+translate'
