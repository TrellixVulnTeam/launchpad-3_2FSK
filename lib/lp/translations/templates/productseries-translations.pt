<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  metal:use-macro="view/macro:page/main_only"
>
  <body>
    <div metal:fill-slot="main">
      <ul class="helplinks">
        <li>
          <a href="https://help.launchpad.net/Translations"
             id="link-to-translations-help"
             >Help for translations
          </a>
        </li>
      </ul>

      <h1>Translations by language</h1>

      <tal:no-languages condition="not:view/productserieslanguages">
        <div class="yui-b top-portlet">
        <p>There are no translations for this release series.</p>

        <p tal:condition="context/product/required:launchpad.Edit">To
          <a href="https://help.launchpad.net/Translations/YourProject">start
            translating your project</a>,
          <tal:uses-translations condition="not:
                                            context/product/official_rosetta">
            you should enable translations in your project settings, and
          </tal:uses-translations>
          you can either
          <a
                tal:define="link context/menu:navigation/translationupload"
                tal:attributes="href link/url"
              >upload</a> templates and translations, or set up
              <a
                tal:define="link context/menu:navigation/settings"
                tal:attributes="href link/url"
              >import from branches</a>
              (<a href="https://help.launchpad.net/Translations/ImportingFromBazaarBranches">read more</a>).
        </p>
        </div>
      </tal:no-languages>

      <div class="yui-g">
        <div class="yui-u first">
          <div class="portlet">
            <h3>Permissions</h3>
            <p>
              <tal:permissions replace="
                  structure
                  context/product/@@+portlet-translation-groups-and-permission"/>
            </p>
            <p tal:condition="view/has_translation_documentation">
              Before translating, please look at
              <a tal:attributes="
                  href
                  context/product/translationgroup/translation_guide_url
                  ">translation instructions</a> first.
            </p>
          </div>
        </div>

        <div class="yui-u">
          <div class="portlet">
            <h3>Administration</h3>
            <p>Translation files that are waiting to be imported are shown in
              the
              <a tal:attributes="href context/menu:navigation/imports/url">
                import queue</a>.
            </p>
            <p tal:condition="context/required:launchpad.Edit">
              To manage all the translation templates in
              <tal:series replace="context/displayname">trunk</tal:series>,
              see the
              <a tal:attributes="href context/menu:navigation/templates/url">
                full list of templates</a>.
            </p>
          </div>
        </div>

        <div class="yui-u first">
          <div class="portlet">
            <h3>Synchronization</h3>
            <p>
              <a tal:attributes="href context/menu:navigation/requestbzrimport/url"
                 tal:condition="context/required:launchpad.Edit"
                 class="add sprite">
                Request a single import from bazaar
              </a>
              <a tal:attributes="href context/menu:navigation/settings/url"
                 tal:condition="context/required:launchpad.Edit"
                 class="edit sprite">
                Set up bazaar synchronization
              </a>
            </p>

            <p>If you don't want to use bazaar synchronization, you can still
              manually
              <a tal:attributes="href context/menu:navigation/translationupload/url"
                 tal:condition="context/required:launchpad.Edit"
                 class="add sprite">upload</a>
              or
              <a tal:attributes="href context/menu:navigation/translationdownload/url"
                 tal:condition="context/required:launchpad.Edit"
                 class="download sprite">download</a>
              translation tarballs.
            </p>
          </div>
        </div>
      </div>

      <div class="yui-b">
        <tal:user condition="view/user">
          <p tal:condition="not:view/user/languages">Please <a
            tal:attributes="href string:${view/user/fmt:url}/+editlanguages"
            class="edit sprite">
            set your languages</a> to start translating.</p>
        </tal:user>
      </div>

      <tal:languages condition="view/productserieslanguages">

        <div tal:replace="structure context/@@+languages" />

        <div style="height:1em;"></div>
        <div tal:replace="structure context/@@+rosetta-status-legend" />
      </tal:languages>
    </div>
  </body>
</html>
