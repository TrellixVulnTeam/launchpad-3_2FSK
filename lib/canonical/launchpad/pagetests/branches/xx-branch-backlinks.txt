= Branch back links =

In order to have consistency of behaviour on branch pages a link
is now shown just above the main heading in the main content.

    >>> browser = setupBrowser('Basic test@canonical.com:test')
    >>> browser.open('http://code.launchpad.dev/~name12/firefox/main')


== Edit details ==

Check the back link on the edit details page.

    >>> browser.getLink('Change branch details').click()
    >>> back_link = find_tag_by_id(browser.contents, 'branch-back-link')
    >>> print back_link.renderContents()
    <img src="/@@/branch" />
    <a href="/~name12/firefox/main">Mozilla Firefox Mainline</a>
    for the <a href="/firefox">Mozilla Firefox</a> project

Go back to the main page.

    >>> browser.getLink('Mozilla Firefox Mainline').click()


== Subscribe ==

Check the branch subscription page.

    >>> browser.getLink('Subscribe').click()
    >>> back_link = find_tag_by_id(browser.contents, 'branch-back-link')
    >>> print back_link.renderContents()
    <img src="/@@/branch" />
    <a href="/~name12/firefox/main">Mozilla Firefox Mainline</a>
    for the <a href="/firefox">Mozilla Firefox</a> project

In order to check the edit subscription page, we need to subscribe.

    >>> browser.getControl('Subscribe').click()


== Edit subscription ==

Check the edit subscription page.

    >>> browser.getLink('Edit subscription').click()
    >>> back_link = find_tag_by_id(browser.contents, 'branch-back-link')
    >>> print back_link.renderContents()
    <img src="/@@/branch" />
    <a href="/~name12/firefox/main">Mozilla Firefox Mainline</a>
    for the <a href="/firefox">Mozilla Firefox</a> project

Go back to the main page.

    >>> browser.getLink('Mozilla Firefox Mainline').click()


== Subscribe someone else ==

Check the subscribe someone else page.

    >>> browser.getLink('Subscribe someone else').click()
    >>> back_link = find_tag_by_id(browser.contents, 'branch-back-link')
    >>> print back_link.renderContents()
    <img src="/@@/branch" />
    <a href="/~name12/firefox/main">Mozilla Firefox Mainline</a>
    for the <a href="/firefox">Mozilla Firefox</a> project

Go back to the main page.

    >>> browser.getLink('Mozilla Firefox Mainline').click()


== Change registrant ==

XXX: thumper 2007-06-21
This page currently uses a custom form page that is used to change
the registrant of many different types of objects.  This page should
be rewritten for branches in order to allow namespace clash resolutions.
When this is done, the link should be added.