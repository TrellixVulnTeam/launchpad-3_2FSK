= Reassigning a branch =

The owner of a branch can be changed in the $branch/+reassign form.

    >>> browser = setupBrowser(auth='Basic test@canonical.com:test')

== Successful reassignation ==

Impressed by his notorious fluency in foreign languages, we want to transfer
the GNOME Terminal Klingon support branch to SABDFL.

    >>> browser.open('http://launchpad.dev/~name12/gnome-terminal/klingon')
    >>> browser.getLink('Change registrant').click()
    >>> browser.url
    'http://code.launchpad.dev/~name12/gnome-terminal/klingon/+reassign'
    >>> browser.getControl(name='field.owner').value = 'sabdfl'
    >>> browser.getControl('Change Registrant').click()
    >>> browser.url
    'http://code.launchpad.dev/~sabdfl/gnome-terminal/klingon'

However, arguing that common Klingon habits are incompatible with the Ubuntu
Code of Conduct, and that Klingon rocket technology is no match to the Russian,
SABDFL declines and asks an administrator to reassign the branch back.

Incidentally that restores the test data to its initial state.

    >>> admin_browser.open('http://launchpad.dev/~sabdfl/gnome-terminal/klingon/+reassign')
    >>> admin_browser.getControl(name='field.owner').value = 'name12'
    >>> admin_browser.getControl('Change Registrant').click()
    >>> admin_browser.url
    'http://code.launchpad.dev/~name12/gnome-terminal/klingon'


NOTE: Transferring to a team we are creating is a stock functionality of
ObjectReassignmentView and is not tested here. On 2006-08-30 this is is tested
in lib/canonical/launchpad/pagetests/standalone/xx-reassign-distroseries.txt;
look for "Now we reassign it to a newly the GNOME Terminal Klingon support branch to SABDFL.
create team: ubuntu2".


== Branch name conflict ==

Branch names are now unique across a project, and naming conficts no longer
occur when moving the ownership of a branch to another person or team.

XXX TimPenhey 2008-04-17:
Remove the object reassignment view completely from branches
and allow the +edit page to change the current branch owner
to any of the teams that the logged in user is a member of.


== Preventing the assignment of a +junk branch to a team ==

+junk branches are a facility to host small snippets of code that do
not call for collaboration features.  Once a team is needed to
collaborate on a branch, we consider they also really want a project
to support their collaboration.  And also, because Mark said so.

One of two potential ways of creating a +junk team branch is to assign
a +junk branch from yourself to a team.

    >>> browser.open('http://code.launchpad.dev/~name12/+junk/junk.contrib/+reassign')
    >>> browser.getControl(name='field.owner').value = 'simple-team'
    >>> browser.getControl('Change Registrant').click()
    >>> browser.url
    'http://code.launchpad.dev/~name12/+junk/junk.contrib/+reassign'
    >>> for msg in get_feedback_messages(browser.contents):
    ...     print msg
    You cannot assign a +junk branch to a team. Create a project first.

(The other is changing the product of a team owned branch to the +junk
pseudo project, which is tested in xx-branch-edit.txt).
