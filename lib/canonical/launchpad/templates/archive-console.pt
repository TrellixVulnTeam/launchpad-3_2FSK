<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
  >
<body>

<metal:portlets fill-slot="portlets">
   <tal:portlet replace="structure context/distribution/@@+portlet-ppa-architectures" />
</metal:portlets>

<div metal:fill-slot="main" tal:define="ppa_active view/is_active">

  <h2><tal:title replace="context/title" /> package console</h2>

  <div metal:use-macro="context/@@launchpad_form/form">

    <div tal:condition="not: ppa_active" metal:fill-slot="extra_info">
      <p>This PPA does not contain any packages yet.</p>
    </div> <!--extra_info -->

    <div class="form" tal:condition="ppa_active" metal:fill-slot="widgets">

     <table width="100%">

      <thead>
       <tr><td><label>Search for packages that match:</label></td></tr>
      </thead>

      <tbody>
      <tr tal:define="name_widget nocall:view/widgets/name_filter;
                      status_widget nocall:view/widgets/status_filter">
        <td style="white-space: nowrap">
            <label tal:attributes="for name_widget/name"
            >Name</label> <input tal:replace="structure name_widget"
            /><label tal:attributes="for status_widget/name">Status</label
            > <tal:status replace="structure status_widget" /><input
            tal:replace="structure view/actions/field.actions.search/render" />
        </td>
      </tr>
      <tr tal:define="widget nocall:view/widgets/selected_sources|nothing"
          tal:condition="widget">
        <td tal:condition="view/available_sources_size" style="padding: 1em;">

           <table class="listing">
             <thead>
             <tr class="ppa_package_row">
               <th colspan="2">Source</th>
               <th tal:condition="context/owner/isTeam">Uploader</th>
               <th>Published</th>
               <th>Status</th>
               <th>Series</th>
               <th>Section</th>
             </tr>
             </thead>
             <tbody>
             <tal:terms tal:repeat="term widget/vocabulary">
                <tal:block define="pub term/value"
                           replace="structure pub/@@+listing-ppa-detailed-selectable" />
             </tal:terms>
             </tbody>
             <tfoot tal:condition="view/has_undisplayed_sources">
                <tr>
                   <td colspan="7" tal:condition="context/owner/isTeam">
                       <p class="message"
                         >Presenting <tal:presented
                          replace="view/max_sources_presented"
                          /> of <tal:available
                         replace="view/available_sources_size" />
                         available sources.</p>
                   </td>
                   <td colspan="6" tal:condition="not: context/owner/isTeam">
                       <p class="message"
                         >Presenting <tal:presented
                          replace="view/max_sources_presented"
                          /> of <tal:available
                         replace="view/available_sources_size" />
                         available sources.</p>
                   </td>
                </tr>
             </tfoot>
           </table>

           <input tal:attributes="name string:${widget/name}-empty-marker"
                  type="hidden" value="1" />
        </td>
        <td id="empty-result" class="message error"
            style="border: 1px solid;"
            tal:condition="not:view/available_sources_size">
           <p>No matching package for '<span
              tal:replace="request/field.name_filter" />'.</p>
        </td>
      </tr>
      </tbody>
      <tfoot tal:condition="view/available_sources_size">>
      <tr>
        <td>
           <fieldset style="border: 1px solid; padding: 1em">
             <legend>Delete packages</legend>
             <tal:include_binaries
               define="widget nocall:view/widgets/include_binaries">
               <label tal:attributes="for widget/name"
                      tal:content="widget/label">Label</label>
               <input tal:replace="structure widget" />
             </tal:include_binaries>
             <tal:comment_field
               define="widget nocall:view/widgets/comment">
               <label tal:attributes="for widget/name"
                      tal:content="widget/label">Label</label>
               <input tal:replace="structure widget" />
             </tal:comment_field>
             <input tal:replace="structure
                view/actions/field.actions.delete/render" />
           </fieldset>
        </td>
      </tr>
      </tfoot>
      </table>

   </div> <!-- widgets -->

  <div class="actions" metal:fill-slot="buttons">

  </div> <!--empties buttons section -->

  </div> <!-- launchpad_form -->


</div> <!--main -->

<p metal:fill-slot="help">
   You can manage your parackages with the PPA Console. Search for
   packages, then select one of more of them for deletion. A deleted
   package will disappear from the archive indexes within 20 minutes
   and the related files will be gone once they are not required in
   the archive anymore.
</p>

</body>
</html>
