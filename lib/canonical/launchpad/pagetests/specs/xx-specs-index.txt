= Blueprints index page =

The blueprints index page allows searching for blueprints within a
single Launchpad project or within all projects.

We go to the blueprints index page, and search for specifications with
the string `svg` in their name and title in all projects.

    >>> browser.open('http://blueprints.launchpad.dev/')
    >>> browser.getControl(name='field.search_text').value = 'svg'
    >>> browser.getControl(name='field.scope').value = ['all']
    >>> browser.getControl('Find Blueprints').click()
    >>> print browser.url
    http://blueprints.launchpad.dev/?searchtext=svg

There is one such blueprint for the firefox project, and it is listed
among the results.

    >>> print extract_text(find_tag_by_id(browser.contents, 'specs-table'))
    Support Native SVG Objects
    ...

We try the same search within the firefox project only, expecting to
find the same result.

    >>> browser.open('http://blueprints.launchpad.dev/')
    >>> browser.getControl(name='field.search_text').value = 'svg'
    >>> browser.getControl(name='field.scope').value = ['project']
    >>> browser.getControl(name='field.scope.target').value = 'firefox'
    >>> browser.getControl('Find Blueprints').click()
    >>> print browser.url
    http://blueprints.launchpad.dev/firefox?searchtext=svg
    >>> print browser.getLink('svg-support').attrs['title']
    Support Native SVG Objects

The search form forces us to choose either searching within all projects
or searching within one project, using radio button controls, but it is
possible for a client to request the results directly (for example, if
the client is a robot, and is not interacting with the form we set up).
If no value is supplied for the scope parameter, we assume that the
client wanted to search all projects.

We request a URL with the search text `svg` and no scope parameter. We
can expect the search to be performed over all projects, just like when
selecting the `all` scope.

    >>> browser.open('http://blueprints.launchpad.dev/specs?'
    ...     'field.actions.search=Find+Blueprints&field.scope.target='
    ...     '&field.search_text=svg')
    >>> print browser.url
    http://blueprints.launchpad.dev/?searchtext=svg
    >>> print extract_text(find_tag_by_id(browser.contents, 'specs-table'))
    Support Native SVG Objects
    ...
