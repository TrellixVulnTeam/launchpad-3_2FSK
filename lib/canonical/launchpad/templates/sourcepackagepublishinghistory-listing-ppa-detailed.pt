<tal:root
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  omit-tag="">

  <tr class="ppa_package_row">
    <td style="white-space: nowrap"><input type="checkbox"
           tal:condition="view/allow_selection"
           tal:attributes="value context/id;
                           id string:field.selected_sources.${context/id}"
           name="field.selected_sources" /><a href="#"
           tal:attributes="onclick
           string:return toggleExpandableTableRow('pub${context/id}');"
           ><img src="/@@/treeCollapsed" alt="Show files" title="Show files"
                 tal:attributes="id string:pub${context/id}-arrow" /></a>
         <tal:source_name content="context/sourcepackagerelease/title"
         >foo - 1.0</tal:source_name>
    </td>
    <td>
      <tal:view_changesfile
        define="source context/sourcepackagerelease"
        condition="context/archive/required:launchpad.Admin">
        <a tal:condition="source/upload_changesfile"
          tal:attributes="href source/upload_changesfile/http_url"
          >(changesfile)</a>
      </tal:view_changesfile>
    </td>
    <td tal:condition="context/archive/owner/isTeam"
        tal:define="spr context/sourcepackagerelease;
                    signer spr/dscsigningkey/owner|nothing">
      <tal:has_signer condition="signer">
        <a tal:attributes="href spr/dscsigningkey/owner/fmt:url"
           tal:content="spr/dscsigningkey/owner/name"></a>
      </tal:has_signer>
      <tal:no_signer condition="not: signer">
        no signer
      </tal:no_signer>
    </td>
    <td tal:attributes="title context/datepublished/fmt:datetime"
        tal:content="context/datepublished/fmt:approximatedate">2005-09-16</td>
    <td tal:content="context/status/title">PUBLISHED</td>
    <td tal:content="context/distroseries/name/capitalize">Dapper</td>
    <td tal:content="context/section/name/capitalize">Web</td>
    <td tal:content="structure view/build_status">OK</td>
  </tr>
  <tr tal:attributes="id string:pub${context/id}"
      tal:define="published_source_and_binary_files
                  view/published_source_and_binary_files"
      style="display: none">
    <td colspan="5">
      <h3>Publishing details</h3>
        <tal:block replace="structure context/@@+record-details" />
      <h3>Changelog</h3>
        <tal:changelog
           replace="structure context/sourcepackagerelease/@@+changelog"/>
      <h3>Builds</h3>
      <ul style="margin-top: 0; margin-bottom: 0">
        <li tal:repeat="build view/builds">
          <tal:icon replace="structure build/image:icon" />
          <a tal:attributes="href build/fmt:url"
             tal:content="build/distroarchseries/architecturetag">i386</a>
        </li>
      </ul>
      <tal:built-packages condition="view/built_packages" omit-tag="">
        <h3>Built Packages</h3>
        <ul tal:repeat="package view/built_packages"
            style="margin-top: 0; margin-bottom: 0">
          <li>
            <b><tal:name replace="package/binarypackagename"/></b>
            <tal:summary replace="package/summary"/>
          </li>
        </ul>
      </tal:built-packages>
      <h3>Files</h3>
      <span tal:condition="not: published_source_and_binary_files"
         style="padding-left: 1em">No files published for this package.</span>
      <ul tal:repeat="file published_source_and_binary_files"
          style="margin-top: 0; margin-bottom: 0">
        <li><a tal:attributes ="href file/url"
               tal:content="string:${file/filename}"></a>
                (<span tal:content="file/filesize/fmt:bytes" />)</li>
      </ul>
    </td>
  </tr>
</tal:root>
