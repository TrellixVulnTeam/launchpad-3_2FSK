The Rosetta Preferences Page
----------------------------

Carlos is a translator who translates things into Spanish with Rosetta.
Accordingly, Spanish is selected in his preferences. However, Welsh is not.

  >>> browser.addHeader('Authorization', 'Basic carlos@canonical.com:test')
  >>> browser.open('http://launchpad.dev/rosetta/prefs')

  >>> browser.title
  'Rosetta: Preferences'
  >>> 'Your language preferences' in browser.contents
  True

  >>> es_checkbox = browser.getControl('Spanish')
  >>> es_checkbox
  <ItemControl name='es' type='checkbox' optionValue='on'>
  >>> es_checkbox.selected
  True

  >>> cy_checkbox = browser.getControl('Welsh')
  >>> cy_checkbox
  <ItemControl name='cy' type='checkbox' optionValue='on'>
  >>> cy_checkbox.selected
  False

  >>> from BeautifulSoup import BeautifulSoup
  >>> def print_preferred_languages(rosetta_pref_page):
  ...     """Print languages listed in the preferred languages portlet."""
  ...     soup = BeautifulSoup(rosetta_pref_page)
  ...     pref_lang_portlet = soup.fetchText(
  ...         'Your preferred languages:')[0].parent.parent
  ...     for lang in pref_lang_portlet('li', {'class': 'languages'}):
  ...         print lang.string

  >>> print_preferred_languages(browser.contents)
  Catalan
  Spanish

Now let's suppose that Carlos decides that he doesn't like Spanish after all,
and that Welsh is a much nicer language. When he adjusts his preferences,
Spanish will no longer be selected, and Welsh will.

  >>> es_checkbox.click()
  >>> es_checkbox.selected
  False
  >>> cy_checkbox.click()
  >>> cy_checkbox.selected
  True
  >>> browser.getControl('Save').click()

  >>> print_preferred_languages(browser.contents)
  Catalan
  Welsh

