<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
  >

<body>
  <metal:portlets fill-slot="portlets"/>

  <div metal:fill-slot="main">
    <h1>Creation requests</h1>
    <div tal:condition="view/registered_lists">
      <metal:form use-macro="context/@@launchpad_form/form">
        <p metal:fill-slot="extra_top">These team administrators have
            requested mailing lists for their teams.  Your approval is
            required before Launchpad will create the mailing list.  For each
            mailing list request, you can choose whether to <em>Approve</em>
            or <em>Decline</em> the request.  Or you may <em>Hold</em> the
            request to defer your decision until later.
        </p>
        <table class="listing sortable" id="mailing-lists"
               metal:fill-slot="widgets">
          <thead><tr>
            <th>Approve</th><th>Decline</th><th>Hold</th>
            <th>Team</th><th>Requester</th>
          </tr></thead>
          <tr tal:repeat="mailing_list view/registered_lists"
              style="text-align: center">
              <tal:block tal:define=
               "team mailing_list/team;
                team_name team/name;
                registrant mailing_list/registrant;
                registrant_name registrant/name;
                action_name string:field.${team_name}"
                >
                <td><input type="radio" value="approve"
                     tal:attributes="name action_name;
                                     id string:approve.${team_name}"/>
                </td>
                <td><input type="radio" value="decline"
                     tal:attributes="name action_name;
                                     id string:decline.${team_name}"/>
                </td>
                <td><input type="radio" value="hold" checked="checked"
                     tal:attributes="name action_name;
                                     id string:hold.${team_name}"/>
                </td>
                <td>
                  <a tal:attributes="href team/fmt:url;
                                     id string:team.${team_name}">
                  <div tal:content="team/displayname"/></a>
                  </td>
                <td>
                  <a tal:attributes="href registrant/fmt:url;
                   id string:registrant.${team_name}.${registrant_name}">
                  <div tal:content="registrant/displayname"/></a>
                  </td>
                </tal:block>
            </tr>
        </table>
      </metal:form>
    </div>
    <p tal:condition="not: view/registered_lists" id="status"
        >There is nothing to do.</p>
  </div>

<metal:help fill-slot="help"/>

</body>
</html>
