== Release series ==

A product series can have any number of releases associated with it.
These are created with the createProductRelease() method on
IMilestone.

    >>> from zope.component import getUtility
    >>> from canonical.launchpad.interfaces import IProductSet
    >>> productset = getUtility(IProductSet)
    >>> firefox = productset['firefox']
    >>> firefox_1_0 = firefox.getSeries('1.0')
    >>> owner = firefox_1_0.owner
    >>> login_person(owner)
    >>> milestone = firefox_1_0.newMilestone('1.0.9')
    >>> from datetime import datetime
    >>> from pytz import UTC
    >>> firefox_109 = milestone.createProductRelease(owner, datetime.now(UTC))
    >>> from canonical.launchpad.interfaces.productrelease import (
    ...     IProductRelease)
    >>> verifyObject(IProductRelease, firefox_109)
    True

A product release can be deleted using its destroySelf() method, as long
as it doesn't have any IProductReleaseFiles associated with it.

    >>> firefox_109.files.count()
    0
    >>> firefox_109.destroySelf()
    >>> print firefox_1_0.getRelease('1.0.9')
    None

If a product release has files associated with it, though, it can't be
deleted.

    >>> milestone = firefox_1_0.newMilestone('1.0.10')
    >>> firefox_1010 = milestone.createProductRelease(owner,
    ...                                               datetime.now(UTC))
    >>> firefox_1010.addReleaseFile('test', 'test', 'text/plain', owner)
    <ProductReleaseFile...
    >>> firefox_1010.destroySelf()
    Traceback (most recent call last):
    ...
    AssertionError:...
    >>> firefox_1_0.getRelease('1.0.10')
    <ProductRelease...
