<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<head>
  <title metal:fill-slot="title">
    <span tal:replace="context/displayname">Name</span>
    Personal Information</title>
    <!-- Plone style sheet -->
    <style type="text/css" media="screen">@import url(plone.css);</style>
    <!-- Launchpad style sheet -->
    <style type="text/css" media="screen">@import url(launchpad.css);</style>
</head>

<body>

<metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure view/actionsPortlet" />
</metal:rightportlets>

<div metal:fill-slot="main">

      <h1><span tal:content="context/displayname">DISPAYNAME</span>
      <i tal:condition="context/ubuntite">(Ubuntite)</i></h1>

      <br/>

        <table>
          <tr>
            <td>Name:</td>
            <td tal:content="string:${context/displayname} 
                            (${context/name})">NAME(NICK)</td>
          </tr>

          <tr tal:condition="context/teamowner">
            <td>Owner:</td>
            <td><a tal:attributes="href string:../${context/teamowner/name}"
                   tal:content="context/teamowner/displayname"></a></td>
          </tr>

          <tr tal:condition="context/teamdescription">
            <td>Description:</td>
            <td tal:content="context/teamdescription">DESCRIPTION</td>
          </tr>
               
          <tal:dummy tal:condition="request/lp:person">
          <tal:dummy tal:condition="context/preferredemail"
                     tal:define="email context/preferredemail">
          <tr>
            <td>Email:</td>
            <td><span tal:replace="email/email"></span>
              <a href="+emails">(Edit)</a></td>
          </tr>
          </tal:dummy>

          <tal:dummy tal:condition="not: context/preferredemail">
            <tal:dummy tal:condition="not: context/validatedemails">
            <tr>
              <td>Email:</td>
              <td>0 validated email addresses 
                [<a href="+emails">Add or validate emails</a>]</td>
            </tr>
            </tal:dummy>

            <tal:dummy tal:condition="context/validatedemails">
            <tr>
              <td>Email:</td>
              <td><span tal:content="python: len(context.validatedemails)" />
                  validated email addresses. [<a href="+emails">Add emails or
                    set one of yours as preferred</a>]
              </td>
            </tal:dummy>
          </tal:dummy>
          </tal:dummy>

          <tr tal:condition="context/wiki">
            <td>Wiki:</td>
            <td><a tal:attributes="href string:${context/wiki/wiki}${context/wiki/wikiname}">Wiki</a>
            </td>
          </tr>

          <tr tal:condition="context/irc">
            <td>IRC:</td>
            <td><span tal:content="context/irc/nickname"/> at 
                <span tal:content="context/irc/network"/>
            </td>
          </tr> 

          <tr tal:condition="context/jabber">
            <td>Jabber:</td>
            <td tal:content="context/jabber/jabberid"></td>
          </tr> 

          <tr tal:condition="context/archuser">
            <td>Arch User:</td>
            <td tal:content="context/archuser/archuserid"></td>
          </tr>

          <tr tal:condition="context/karma">
            <td>Karma:</td>
            <td tal:content="context/karma"></td>
          </tr>

          <tr tal:condition="context/gpg">
            <td>GPG:</td>
            <td><a href="+showgpg" 
                   tal:content="string:${context/gpg/keysize}${context/gpg/algorithmname}/${context/gpg/keyid}">
                </a></td>
          </tr>

          <tr>
            <td>SSH:</td>
            <td tal:condition="context/sshkeys">
              <a href="+sshkey"><span tal:replace="view/sshkeysCount">0</span>SSH key(s)</a>
              <a href="+editsshkey">(Edit)</a>
            </td>
            <td tal:condition="not: context/sshkeys">
              <a href="+editsshkey">(Upload)</a>
            </td>
          </tr>

	  <tr>
	    <td>Signed Codes of Conduct:</td>
	    <td><a href="+codesofconduct">Handle CoCs</a></td>
	  </tr>

          <tr>
            <td></td>
            <td class="listingNext"><a href="+edit">Edit Profile</a></td>
          </tr>
        </table>


        <!-- Teams which I'm a member of -->
        <div tal:condition="context/memberships">
          <fieldset>
            <legend><span tal:replace="context/displayname"></span> is
            </legend>
            <table>
              <tr tal:repeat="membership context/memberships">
                <td>
                  <span tal:replace="membership/statusname"></span> of 
                  <a tal:attributes="href string:../${membership/team/name}"
                     tal:content="membership/team/displayname">foo</a>
                </td>
            </tr>
            </table>
          </fieldset>
        </div>

    </div> 
</body>
</html>
