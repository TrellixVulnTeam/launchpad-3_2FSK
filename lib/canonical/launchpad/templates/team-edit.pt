<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

<body>

  <metal:leftportlets fill-slot="portlets_one">
      <div tal:replace="structure context/@@+portlet-details" />
  </metal:leftportlets>

  <div metal:fill-slot="main">

    <h1>
      Edit &#8220;<span tal:replace="context/browsername">
      Foo</span>&#8221; team
    </h1>

    <div metal:use-macro="context/@@launchpad_form/form" />

    <script type="text/javascript">
       YUI().use('node', 'event', function(Y) {
           // Prepend/remove 'private_' from team name based on visibility
           // setting.  User can choose to edit it back out, if they wish.
           function visibility_on_change(e) {
               var visibility = e.target;
               var prefix = (visibility.get('value') == 'PRIVATE_MEMBERSHIP')
                   ? 'private-' : '';
              // XXX: Brad Crittenden 2009-01-30
              // bug=http://yuilibrary.com/projects/yui3/ticket/2423101
              // Dotted CSS selectors not parsed correctly.  Therefore not
              // using Y.get().
               var name = document.getElementById('field.name')
               name.value = prefix + name.value.replace(/^private-/, '');

           };
           // Attach the function to the on change event.
           // XXX: Brad Crittenden 2009-01-30
           // bug=http://yuilibrary.com/projects/yui3/ticket/2423101
           // Dotted CSS selectors not parsed correctly.
           Y.on('change', visibility_on_change, document.getElementById('field.visibility'));
       });

  </div>

</body>
</html>
