The guided filebug form for source packages is similar to the filebug
workflow for distributions. First, you start by checking if your bug
already exists.

    >>> user_browser.open(
    ...     "http://launchpad.dev/distros/ubuntu/+source/mozilla-firefox/"
    ...     "+filebug")
    >>> user_browser.getControl(name="field.title").value = "wontmatch"
    >>> user_browser.getControl("Continue").click()

In this case, there are no similar matching bugs.

    >>> from canonical.launchpad.ftests.test_pages import find_tag_by_id
    >>> similar_bugs_table = find_tag_by_id(
    ...     user_browser.contents, "similar-bugs")
    >>> similar_bugs_table is None
    True

And no duplicated bugs in this package.

    >>> most_common_bugs_table = find_tag_by_id(
    ...     user_browser.contents, "most-common-bugs")
    >>> most_common_bugs_table is None
    True

The user got taken to the bug submit form directly.

    >>> user_browser.getControl("Continue")
    Traceback (most recent call last):
      ...
    LookupError: ...

The filebug form looks similar to the normal distro form, but the
package name is prepopulated.

    >>> user_browser.getControl(name="packagename_option").value
    ['choose']
    >>> user_browser.getControl(name="field.packagename").value
    'mozilla-firefox'

So we need fill in only a title and description.

    >>> user_browser.getControl(name="field.title").value = "a test bug"
    >>> user_browser.getControl(name="field.comment").value = "test"
    >>> user_browser.getControl("Submit Bug Report").click()

    >>> print user_browser.url
    http://launchpad.dev/distros/ubuntu/+source/mozilla-firefox/+bug/...
