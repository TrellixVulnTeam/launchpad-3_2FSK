Buildd Master Database Notes
============================

The DBNote class in canonical.buildd.utils is a very simple class
which when combined with SQLObject instances can provide a powerful
annotation semantic for remembering things outside of the database for
the duration of the program's execution.

First you have to have some SQLObject instances or classes to use.
For now we do this by importing the database classes directly. When
the buildd is upgraded to use getUtility, we'll simultaneously upgrade
this test to use it too.

    >>> from canonical.launchpad.database import Person, Distribution
    >>> person1 = Person.get(1)
    >>> distro1 = Distribution.get(1)

Next we get hold of the standard DBNote instance

    >>> from canonical.buildd.utils import notes

Finally we record some annotations and check them

    >>> notes[person1]["thing"] = "person"
    >>> notes[distro1]["thing"] = "distro"
    >>> notes[person1]["thing"]
    'person'
    >>> notes[distro1]["thing"]
    'distro'
    >>> notes[Person][1] is notes[person1]
    True
    >>> notes[Distribution][1] is notes[person1]
    False

