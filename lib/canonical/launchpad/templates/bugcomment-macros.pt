<div metal:define-macro="comment-box"
     class="boardComment">

  <div class="boardCommentDetails">
    <tal:comment_has_owner>
      <tal:comment_owner replace="structure comment/owner/fmt:link" />
    </tal:comment_has_owner>
    said
    <span
      tal:attributes="title comment/datecreated/fmt:datetime"
      tal:content="comment/datecreated/fmt:displaydate">
      7 minutes ago
    </span>:
    <a tal:attributes="href comment/fmt:url">
      <strong tal:condition="comment/display_title"
              tal:content="comment/title" />
      (permalink)
    </a>
  </div>

  <div class="boardCommentBody">
    <ul tal:condition="comment/bugattachments" style="margin-bottom: 1em">
      <li tal:repeat="attachment comment/bugattachments"
          class="download">
        <a tal:attributes="href attachment/libraryfile/http_url"
           tal:content="attachment/title">foo.txt</a>
        (<span tal:replace="attachment/libraryfile/content/filesize/fmt:bytes" />, <span tal:replace="attachment/libraryfile/mimetype" />)
      </li>
    </ul>

    <div style="font-family: monospace;"
      tal:content="structure comment/text_for_display/fmt:text-to-html">
      Comment text.
    </div>

    <p tal:condition="comment/was_truncated">
      <a tal:attributes="href comment/fmt:url">Read more...</a>
    </p>
  </div>

</div>
