<tal:root
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  omit-tag="">
<script type="text/javascript">
  function toggleFormVisibility(row_id) {
    row = document.getElementById(row_id)
    edit_icon = document.getElementById(row_id + "-edit")
    if (row.style.display=="none") {
      row.style.display = "table-row";
    } else {
      row.style.display = "none";
    }
    return false;
  }
</script>

<table
  id="affected-software"
  tal:attributes="class python: context.duplicateof and 'duplicate listing' or 'listing'"
>
  <thead>
    <tr>
      <th colspan="2">Affects</th>
      <th>Status</th>
      <th>Importance</th>
      <th colspan="2">Assigned to</th>
      <th>Milestone</th>
    </tr>
  </thead>

  <tbody>
    <tal:bugtask-or-nomination
        repeat="task_or_nom_view view/getBugTaskAndNominationViews">
      <tal:block replace="structure task_or_nom_view" />
    </tal:bugtask-or-nomination>
  </tbody>

</table>

<div
  class="actions"
  tal:define="current_bugtask view/current_bugtask"

        tal:condition="view/displayAlsoAffectsLinks">
    <tal:also-affects-links define="context_menu context/menu:context">
      <tal:addupstream
          define="link context_menu/addupstream"
          condition="link/enabled"
          replace="structure link/render" />
      <tal:adddistro
          define="link context_menu/adddistro"
          condition="link/enabled"
          replace="structure link/render" />
      <tal:nominate
          define="link context_menu/nominate"
          condition="link/enabled"
          replace="structure link/render" />
    </tal:also-affects-links>

</div>
</tal:root>
