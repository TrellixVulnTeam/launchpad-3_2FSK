<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
<div tal:replace="structure context/@@+portlet-binaries"
     tal:condition="context/binarypackages"/>
</metal:rightportlets>

<div metal:fill-slot="main">

  <h1>Build summary</h1>

      <table>
        <tbody>
          <tr>
            <th>Status:</th>
            <td tal:content="context/buildstate/title" />
          </tr>
          <tr tal:condition="context/dependencies">
            <th>Dependencies:</th>
            <td tal:content="context/dependencies" />
          </tr>
          <tr>
            <th>Date requested:</th>
            <td tal:content="context/datecreated/fmt:datetime" />
          </tr>
          <tr>
            <th>Pocket:</th>
            <td tal:content="context/pocket/name" />
          </tr>
          <tr>
            <th>Date built:</th>
            <td tal:condition="not:context/datebuilt">
              <i>unknown</i>
            </td>
            <td
              tal:condition="context/datebuilt"
              tal:content="context/datebuilt/fmt:datetime"
            />
          </tr>
          <tr>
            <th>Build duration:</th>
            <td tal:condition="not:context/buildduration">
              <i>unknown</i>
            </td>
            <td
              tal:condition="context/buildduration"
              tal:content="context/buildduration/fmt:approximateduration"
            />
          </tr>
          <tr>
            <th>Build log:</th>
            <td>
              <i tal:condition="not:context/buildlog">not available</i>
              <a tal:condition="context/buildlog"
                 tal:attributes="href context/buildlog/url"
                 tal:content="context/buildlog/filename">BUILDLOG</a>
            </td>
          </tr>
          <tr>
            <th>Build machine:</th>
            <td tal:condition="not:context/builder">
                <tal:qb condition="context/buildqueue_record"
                        define="builder context/buildqueue_record/builder">
                   <tal:qbb condition="builder">
	               <a tal:content="builder/title"
                          tal:attributes="href builder/fmt:url">BUILDER</a>
                   </tal:qbb>
                   <tal:nqbb condition="not: builder">
                      unknown
                   </tal:nqbb>
                </tal:qb>
                <tal:nqb condition="not: context/buildqueue_record">
                   unknown
                </tal:nqb>
            </td>
            <td tal:condition="context/builder">
	    <a tal:content="context/builder/title"
               tal:attributes="href context/builder/fmt:url">BUILDER</a>
            </td>
          </tr>
          <tr>
            <th>Processor:</th>
            <td tal:content="context/processor/name" />
          </tr>
          <tr>
            <th>Changesfile:</th>
            <td>
              <i tal:condition="not:context/changesfile">not available</i>
              <a tal:condition="context/changesfile"
                 tal:attributes="href context/changesfile/url"
                 tal:content="context/changesfile/filename">CHANGESFILE</a>
            </td>
          </tr>

        </tbody>
      </table>

    </div>
  </body>
</html>

