<div class="portlet">
    <h4>Related People:</h4>

    <div class="portletBody"
         tal:define="bug_url context/fmt:url">
        <div class="portletContent even"
             tal:define="subscriptions context/subscriptions;
                         bugtasks context/bugtasks">

            <b>Maintainers:</b><br />

            <ul class="people" tal:repeat="task bugtasks">
                <li tal:condition="task/maintainer">
                <a href="."
                   tal:content="task/maintainer/browsername"
                   style="text-decoration: underline"
                   tal:attributes="href string:/people/${task/maintainer/name}" />
                </li>
            </ul>

            <br />

        </div>
    </div>
</div>

<div class="portlet">
    <h4>Bug Subscribers:</h4>

    <div class="portletBody"
         tal:define="bug_url context/fmt:url">

        <div class="portletContent even"
             tal:define="subscriptions context/subscriptions;
                         bugtasks context/bugtasks">

          <tal:subscriptions
            tal:define="ccs view/getCCs;
                        watches view/getWatches;
                        ignores view/getIgnores">
            <tal:cc condition="ccs">
              <b>Cc:</b><br />
              <ul class="people">
                  <li tal:repeat="sub ccs">
                    <a href="#"
                       style="text-decoration: underline"
                       tal:attributes="href sub/person/fmt:url"
                       tal:content="sub/person/browsername" />
                    <small>
                    (<a href="#"
                       style="text-decoration: underline"
                       tal:attributes="href
                       string:$bug_url/people/${sub/id}/+edit">edit</a>)
                    </small>
                  </li>
              </ul>
              <br />
            </tal:cc>

            <tal:watch condition="watches">
              <b>Watch:</b>
              <ul class="people">
                  <li tal:repeat="sub watches" >
                    <a href="#"
                       style="text-decoration: underline"
                       tal:attributes="href sub/person/fmt:url"
                       tal:content="sub/person/browsername" />
                    <small>
                    (<a href="#"
                       style="text-decoration: underline"
                       tal:attributes="href
                       string:$bug_url/people/${sub/id}/+edit">edit</a>)
                    </small>
                  </li>
              </ul>
              <br />
            </tal:watch>

            <tal:ignore condition="ignores">
              <b tal:condition="ignores">Ignore:</b>
              <ul class="people">
                  <li tal:repeat="sub ignores">
                    <a href="#"
                       style="text-decoration: underline"
                       tal:attributes="href sub/person/fmt:url"
                       tal:content="sub/person/browsername" />
                    <small>
                    (<a href="#"
                       style="text-decoration: underline"
                       tal:attributes="href
                       string:$bug_url/people/${sub/id}/+edit">edit</a>)
                    </small>
                  </li>
              </ul>
            </tal:ignore>

          </tal:subscriptions>
        <ul>
          <li class="add"><a
            title="Add a subscriber to this bug"
            tal:attributes="href string:$bug_url/people/+new">
            Add subscribers
          </a></li>
        </ul>
    </div>
</div>
