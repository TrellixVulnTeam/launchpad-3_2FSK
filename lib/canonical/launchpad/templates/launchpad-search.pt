<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

<body>

<div metal:fill-slot="main">

  <form action=""
        name="sitesearch"
        method="get"
        enctype="multipart/form-data"
        accept-charset="UTF-8">
    <label for="field.search_text">Search Launchpad.net:</label>
    <input
       id="field.search_text"
       class="textType"
       type="text"
       size="36"
       name="field.search_text"
       tal:attributes="value view/search_params/search_text"/>
        <script type="text/javascript"
                tal:define="script view/focusedElementScript"
                tal:condition="script"
                tal:content="structure script" />
    <input
       id="field.actions.search"
       name="field.actions.search"
       class="button"
       type="submit"
       value="Search" />
  </form>

  <tal:wants-results condition="view/search_params/search_text">

    <div id="search-results"
	 tal:condition="view/has_matches">
      <ul class="exact-matches">
	<!-- We on the first results page, so show the pillars. -->
	<li
	   class="bug"
	   tal:condition="view/bug">
	  <tal:link replace="structure view/bug/fmt:link" />
	</li>
	<li
	   class="question"
	   tal:condition="view/question">
	  <tal:link replace="structure view/question/fmt:link" />
	</li>
	<li
	   class="project"
	   tal:condition="view/pillar">
	  <tal:link replace="structure view/pillar/fmt:link" />
	</li>
	<li
	   class="person"
	   tal:condition="view/person_or_team">
	  <tal:link replace="structure view/person_or_team/fmt:link" />
	</li>
      </ul>

      <ul class="site-matches" tal:condition="view/pages">
	<li
	   class="pagematch"
	   tal:repeat="page view/pages/batch">
	  <a
	     tal:attributes="href page/url"
	     tal:content="structure page/title">A search result link</a>
	  <p tal:content="structure page/summary" class="">
	    A snippet of search result summary text.
	  </p>
	</li>
      </ul>
    </div>

    <p class="no-results" tal:condition="not:view/has_matches">
      Your search did not return any results.
    </p>

  </tal:wants-results>

</div>

</body>
</html>
