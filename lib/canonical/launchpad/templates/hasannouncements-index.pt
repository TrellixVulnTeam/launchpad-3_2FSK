<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>

<body>

<metal:leftportlets fill-slot="portlets_one">
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
</metal:rightportlets>

<p metal:fill-slot="help-hasannouncements-announcements">
  Project administrators can publish additional announcements, edit these
  announcements or retract them.
</p>

<metal:heading fill-slot="pageheading">
  <h1>News and announcements</h1>
</metal:heading>

<div metal:fill-slot="main">

    <link rel="alternate" type="application/atom+xml" title="Atom 1.0"
          tal:attributes="href string:${context/fmt:url}/announcements.atom" />
    <tal:per_announcement repeat="announcement view/batchnav/currentBatch">
      <h2>
        <tal:date tal:condition="announcement/date_announced">
          <span tal:replace="announcement/date_announced/fmt:date">
            22 Oct 2008
          </span>:
        </tal:date>
        <tal:title content="announcement/title">News item title</tal:title>
      </h2>

      <p>
        <tal:future condition="announcement/future">
          <img src="/@@/warning" title="Announcement is not yet public" />
          <strong tal:condition="announcement/active">
            <tal:date_set condition="announcement/date_announced">
              This will be published on
              <span tal:replace="announcement/date_announced/fmt:datetime" />
            </tal:date_set>
          </strong>
        </tal:future>
        <strong tal:condition="not: announcement/active">
            [Retracted]
        </strong>
        <strong tal:condition="not: announcement/date_announced">
            No publishing date set.
        </strong>
        <strong tal:condition="not: announcement/active">
            Retracted.
        </strong>
        <tal:updated condition="announcement/date_updated">
            Updated
            <span tal:replace="announcement/date_updated/fmt:displaydate"
            />.
        </tal:updated>
        <tal:summary condition="announcement/summary"
                     tal:replace="structure announcement/summary" />
        <a tal:condition="announcement/url"
           tal:attributes="href announcement/url">
           <img src="/@@/link" alt="Link" /> Read more...</a>
        <tal:editor condition="announcement/required:launchpad.Edit">
        <br />
          <a
             tal:attributes="href announcement/fmt:url">
             <img src="/@@/edit" alt="[Edit]" />
             Edit this announcement.</a>
          <a tal:condition="announcement/future"
             tal:attributes="href string:${announcement/fmt:url}/+publish">
             Publish now!</a>
          <a tal:attributes="href string:${announcement/fmt:url}/+retract">
             Retract this item.</a>
        </tal:editor>
      </p>
      <p>
        Created by
        <tal:registrant replace="structure announcement/registrant/fmt:link" />
      </p>
    </tal:per_announcement>

    <div class="lesser" tal:content="structure view/batchnav/@@+navigation-links-lower" />

</div>
</body>
</html>
