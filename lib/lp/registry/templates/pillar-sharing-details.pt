<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  metal:use-macro="view/macro:page/main_only"
  i18n:domain="launchpad"
>

<head>
    <metal:block fill-slot="head_epilogue">
    <script>
            LPJS.use('base', 'node', 'event', 'lp.registry.sharing.details',
                function(Y) {
            Y.on('domready', function() {
                var config = {
                    branches: LP.cache.branches,
                    bugs: LP.cache.bugs
                };
                var detail_module  = Y.lp.registry.sharing.details;
                var details_widget = new details_module.SharingDetailsTable(
                                                          config);
                details_widget.render();
            });
          });
    </script>
    </metal:block>
</head>

<body>
  <div metal:fill-slot="main">
    <div id="observer-summary">
      <p>
      <tal:bugs replace="view/shared_bugs_count">0</tal:bugs> bugs and
      <tal:branches replace="view/shared_branches_count">0</tal:branches>
      branches shared with <tal:name replace="view/person/displayname">
      sharee</tal:name>.<br />

      <tal:is-team condition="view/person/is_team">
        <tal:members>3</tal:members> team members can view these bugs and
        branches.
      </tal:is-team>
      </p>
    </div>

    <table id="shared-table" class="listing sortable">
      <col width="20px"/>
      <col width="auto"/>
      <col width="auto"/>
      <col width="30%"/>
      <col width="auto"/>
      <thead>
        <tr>
          <th colspan="3" width="">
            <a href="#" class="sortheader">Bug Report or Branch</a>
          </th>
          <th colspan="2" width="">
            <a href="#" class="sortheader">Via</a>
          </th>
        </tr>
      </thead>
      <tbody id="sharing-table-body"></tbody>
    </table>

  </div>
</body>
</html>
