Comments are intended to be contributions to a bug report that further
the goal of solving the problem at hand. Any logged in user can add a
comment to a bug.

In this case, let's add a simple comment to bug #2 as user Foo
Bar. Before we do, let's pull out our test mailer, to demonstrate that
submitting a comment through the web UI generates a notification
email.

  >>> from canonical.launchpad.mail import stub

  >>> stub.test_emails = []
  >>> len(stub.test_emails)
  0

  >>> print http(r"""
  ... POST /malone/bugs/2/+messages/+new HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Length: 78
  ... Content-Type: application/x-www-form-urlencoded
  ... Referer: http://localhost:9000/malone/bugs/2
  ...
  ... field.subject=test+comment+subject&field.content=test+comment&UPDATE_SUBMIT=Add""")
  HTTP/1.1 303 See Other
  ...
          <h1>Add a Comment</h1>
  ...


  >>> print http(r"""
  ... GET /malone/bugs/2/ HTTP/1.1
  ... Referer: http://localhost:9000/malone/bugs/2
  ... """)
  HTTP/1.1 200 Ok
  ...
  <BLANKLINE>
  ...
            <h2>Blackhole Trash folder</h2>
  ...

After the comment has been submitted, the notification email is sent:

  >>> len(stub.test_emails)
  4
