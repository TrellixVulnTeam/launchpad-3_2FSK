The translation form includes buttons to copy suggestions, current
translations or the original English strings. Let's see copy buttons in the
translation form in action.

XXX CarlosPerelloMarin 20061202: textarea values gets extra '\n' char when
reading its value due a bug in our test infrastructure. For more info
you can see bug #47511.

  >>> user_browser.open(
  ...     'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/'
  ...     '+pots/evolution-2.2/es/5/+translate')
  >>> user_browser.url
  'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/5/+translate'

We can see that the translation field we are going to use, is empty before
we start using copy buttons.

  >>> user_browser.getControl(name='msgset_134_es_translation_0_new').value
  ''

And the checkbox associated is False, which means we will not try to remove
current active translation if the form is submitted to store translations.

  >>> user_browser.getControl(
  ...     name='msgset_134_es_translation_0_new_checkbox').value
  False

Now, we are going to do a copy submission using current translation.

  >>> user_browser.getControl(name='msgset_134_es_translation_0_copy').click()
  >>> user_browser.url
  'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/5/+translate'

And now, the added translation has current translation.

  >>> user_browser.getControl(name='msgset_134_es_translation_0_new').value
  '\n caratas'

We can see that its checkbox is set. Which means that if the form is submitted
to save the translations, we will store the associated translation as the
active one.

  >>> user_browser.getControl(
  ...     name='msgset_134_es_translation_0_new_checkbox').value
  True

Next step, copy original English string.

  >>> user_browser.getControl(name='msgset_134_singular_copy').click()
  >>> user_browser.url
  'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/5/+translate'

The added translation is the original English string.

  >>> user_browser.getControl(name='msgset_134_es_translation_0_new').value
  '\n cards'

And its checkbox is set too.

  >>> user_browser.getControl(
  ...     name='msgset_134_es_translation_0_new_checkbox').value
  True

Now, we are going to copy a suggestion.

  >>> user_browser.getControl(
  ...     name='msgset_134_es_suggestion_689_0_copy').click()
  >>> user_browser.url
  'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/5/+translate'

The added translation is the suggestion content.

  >>> user_browser.getControl(name='msgset_134_es_translation_0_new').value
  '\n Srprise! (non-editor)'

And its checkbox is set too.

  >>> user_browser.getControl(name='msgset_134_es_translation_0_new_checkbox').value
  True

Let's move to a message set that has plural forms.

  >>> user_browser.open(
  ...     'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/+pots/'
  ...     'evolution-2.2/es/15/+translate')
  >>> user_browser.url
  'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/15/+translate'

And we select a copy of plural form.

  >>> user_browser.getControl(name='msgset_144_plural_copy').click()
  >>> user_browser.url
  'http://launchpad.dev/distros/ubuntu/hoary/+source/evolution/+pots/evolution-2.2/es/15/+translate'

The added translation is the original English plural form.

  >>> user_browser.getControl(name='msgset_144_es_translation_1_new').value
  '\n%d contacts'

And its checkbox is set too.

  >>> user_browser.getControl(
  ...     name='msgset_144_es_translation_1_new_checkbox').value
  True

The singular translation should not have any translation because we don't
change it.

  >>> user_browser.getControl(name='msgset_144_es_translation_0_new').value
  ''

And its checkbox is not set.

  >>> user_browser.getControl(
  ...     name='msgset_144_es_translation_0_new_checkbox').value
  False
