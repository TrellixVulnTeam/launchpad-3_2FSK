<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="malone"
>
  <body>

  <div metal:fill-slot="main">
    <h1 tal:content="CONTEXTS/fmt:pagetitle">Manage Official Bug Tags</h1>

    <noscript>
        <div metal:use-macro="context/@@launchpad_form/form" />
    </noscript>

    <script type="text/javascript"
            tal:define="lp_js string:${icingroot}/build"
            tal:attributes="src string:${lp_js}/bugs/offical_bug_tags.js">
    </script>
    <script tal:replace="structure view/tags_js_data" />
    <script type="text/javascript">
        YUI().use('event', 'bugs.official_bug_tag_management', function(Y) {
            Y.on('domready', function(e) {
                Y.bugs.setup_official_bug_tag_management();
            });
        });
    </script>

    <table id="layout-table" class="official-tags-layout-table" style="display:none">
      <tr>
        <th>Official Tags</th>
        <th />
        <th>Other Tags</th>
      </tr>
      <tr>
        <td id="left-column">
          <table class="input-field-layout-table">
            <tr>
              <td style="width: 100%">
                <input type="text" id="new-tag-text" style="width: 100%" />
              </td>
              <td>
                <input type="submit" value="Add"
                       id="new-tag-add" disabled="true" />
              </td>
            </tr>
          </table>
          <div id="field-error-message" class="error" style="display: none">
            <div class="message">
              This is not a valid tag name.
              Tags must start with a letter or number and be lowercase.
              The characters "+", "-" and "." are also allowed after the first character.
            </div>
          </div>
          <ul id="official-tags-list">
          </ul>
        </td>
        <td id="middle-column">
          <input type="submit" value="&larr;"
                 id="add-official-tags" class="arrow-button"
                 disabled="true" />
          <br />
          <input type="submit" value="&rarr;"
                 id="remove-official-tags" class="arrow-button"
                 disabled="true" />
          <br />
          <br />
          <form action="+manage-official-tags" method="post" id="save-form">
            <input type="hidden" id="field-official_bug_tags" name="field.official_bug_tags" />
            <input type="hidden" name="field.actions.save" value="Save" />
          </form>
        </td>
        <td id="right-column">
          <ul id="other-tags-list">
          </ul>
        </td>
      </tr>
    </table>
    <div class="actions">
      <input type="submit" value="Save" id="save-button" />
      or <a href="#" id="cancel-link">Cancel</a>        
    </div>
  </div>
  </body>
</html>
