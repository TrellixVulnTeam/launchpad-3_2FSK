<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<body>

    <div metal:fill-slot="body">
      <div
        class="sidebar"
        tal:content="structure context/@@+portlet-actions"
      />
    <tal:block tal:define="activeMembersCount view/activeMembersCount;
                           inactiveMembersCount view/inactiveMembersCount;
                           proposedMembersCount view/proposedMembersCount">

        <h1>
          Members of
          &#8220;<span tal:replace="context/team/browsername" />&#8221;
        </h1>
        <p tal:condition="not: view/allMembersCount">
          This team currently has no members.
        </p>
        <tal:block condition="view/allMembersCount">
          <p>
            Select a member to change their details.
          </p>
          <tal:block condition="activeMembersCount">
            <h2>Active members</h2>
            <table class="listing">
              <thead>
                <tr>

            <th>Name</th>
            <th>Member since</th>
            <th>Expires</th>
            <th>Status</th>
          </tr>

              </thead>
              <tbody>
                <tr tal:repeat="membership view/activeMemberships">
                  <tal:block define="member membership/person">
                    <td>
              <a tal:attributes="href member/name"
                 tal:content="member/browsername"
                 title="Edit this membership" />
                    </td>
                    <td
                      tal:content="membership/datejoined/fmt:date"
                    >2005-06-14</td>
                    <td
                      tal:condition="not: membership/dateexpires"
                    >&ndash;</td>
                    <td
                      tal:condition="membership/dateexpires"
                      talcontent="membership/dateexpires/fmt:date"
                    >2006-06-13</td>
                    <td tal:content="membership/statusname"></td>
                  </tal:block>
                </tr>
              </tbody>
            </table>
          </tal:block>
          <tal:block condition="proposedMembersCount">
            <h2>Proposed members</h2>
            <p>
              Proposed members may be approved or declined by a
              team administrator.
            </p>
            <table class="listing">
              <thead>

          <tr>
            <th>Name</th>
                  <th>Applied for membership</th>
          </tr>
              </thead>
              <tbody>
                <tr tal:repeat="membership view/proposedMemberships">

            <tal:block tal:define="member membership/person">
            <td>
              <a tal:attributes="href member/name"
                 tal:content="member/browsername"
                 title="Approve/Decline this membership" />
            </td>
                  <td
                    tal:content="membership/datejoined/fmt:date"
                  >2005-04-01</td>
            </tal:block>
          </tr>
                <tr>
              </tbody>
            </table>
            <ul class="edit">
              <li>
                <a href="+editproposed"
                >Edit all proposed members&#8230;</a>
              </li>
            </ul>
          </tal:block>
          <tal:block condition="inactiveMembersCount">
            <h2>Inactive members</h2>
            <p>
              Inactive members are those whose
              subscriptions have expired, or were
              deactivated by themselves or by an admin.
            </p>
            <table class="listing">
              <thead>

          <tr>
            <th>Name</th>
            <th>Joined in</th>
            <th>Status</th>
          </tr>

              </thead>
              <tbody>
                <tr tal:repeat="membership view/inactiveMemberships">
                  <tal:block define="member membership/person">

            <td>
              <a tal:attributes="href member/name"
                 tal:content="member/browsername"
                 title="Renew/Reactivate this membership" />
            </td>
                    <td
                      tal:content="membership/datejoined/fmt:date"
                    >2005-04-01</td>

            <td tal:condition="membership/isExpired">
                      Expired on
                      <span tal:replace="membership/dateexpires/fmt:date" />
            </td>
                    <td
                      tal:condition="not: membership/isExpired"
                      tal:content="membership/statusname"
                    />
                  </tal:block>
                </tr>
              </tbody>
            </table>
          </tal:block>
          <ul class="add">
            <li><a href="+add">Add a new member</a></li>
          </ul>
        </tal:block>
        </tal:block>
</div>

</body>
</html>
