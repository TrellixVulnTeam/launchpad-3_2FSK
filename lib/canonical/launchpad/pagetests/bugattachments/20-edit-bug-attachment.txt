We can also edit the attachment details, let's navigate to that page.

  >>> browser.addHeader('Authorization', 'Basic test@canonical.com:test')
  >>> browser.open('http://localhost/products/firefox/+bug/1')
  >>> browser.getLink(
  ...   url='http://localhost/products/firefox/+bug/1/attachments/1').click()

  >>> browser.url
  'http://localhost/products/firefox/+bug/1/attachments/1'

  >>> 'Change bug attachment information' in browser.contents
  True

After editing the attachment details (we leave some leading and trailing
whitespace to test that's correctly stripped)...

  >>> browser.getControl('Title').value = '   Another title  '
  >>> browser.getControl('Content Type').value = 'text/html'
  >>> browser.getControl('Change').click()

...we're redirected to the bug page

  >>> browser.url
  'http://localhost/products/firefox/+bug/1'

  >>> 'Another title' in browser.contents
  True

And if we edit it to be a patch the content type will be automatically changed
to be text/plain.

  >>> browser.getLink(
  ...   url='http://localhost/products/firefox/+bug/1/attachments/1').click()

  >>> browser.getControl('Patch').selected = True 
  >>> browser.getControl('Change').click()

  >>> browser.url
  'http://localhost/products/firefox/+bug/1'

  >>> browser.getLink(
  ...   url='http://localhost/products/firefox/+bug/1/attachments/1').click()

  >>> browser.getControl('Content Type').value
  'text/plain'
