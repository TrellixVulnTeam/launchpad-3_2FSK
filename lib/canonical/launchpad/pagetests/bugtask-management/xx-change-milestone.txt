= Changing Milestones of Bugtasks =

Bugtasks associated with products, productserieses, distributions and
distroserieses can be targeted to milestones.

    >>> admin_browser.open('http://launchpad.dev/firefox/+bug/1')

Bug 1 has a bugtask for Firefox; this product has the milestone 1.0.

    >>> milestone_control = admin_browser.getControl(
    ...     name='firefox.milestone', index=0)
    >>> milestone_control.displayValue
    ['(no value)']
    >>> milestone_control.displayOptions
    ['(no value)', 'Mozilla Firefox: 1.0']

Let's assign this bugtask to milestone 1.0.

    >>> milestone_control.displayValue = ['Mozilla Firefox: 1.0']
    >>> admin_browser.getControl('Save Changes', index=0).click()
    >>> milestone_control = admin_browser.getControl(
    ...     name='firefox.milestone', index=0)
    >>> milestone_control.displayValue
    ['Mozilla Firefox: 1.0']

If we define the milestone 1.0.0 for firefox series 1.0...

    >>> admin_browser.open('http://launchpad.dev/firefox/1.0/+addmilestone')
    >>> name_field = admin_browser.getControl('Name:')
    >>> name_field.value = '1.0.0'
    >>> admin_browser.getControl('Register milestone').click()

...and if we approve the nomination of bug #1 for the firefox series 1.0...

    >>> admin_browser.open('http://launchpad.dev/firefox/+bug/1')
    >>> admin_browser.getControl('Approve', index=0).click()

... we can assign the new bugtask for series 1.0 to the milestone 1.0.0.
    
    >>> milestone_control = admin_browser.getControl(
    ...     name='1.0_firefox.milestone')
    >>> milestone_control.displayValue
    ['(no value)']
    >>> milestone_control.displayOptions
    ['(no value)', 'Mozilla Firefox: 1.0.0']
    >>> milestone_control.displayValue = ['Mozilla Firefox: 1.0.0']
    >>> admin_browser.getControl('Save Changes', index=1).click()
    >>> milestone_control = admin_browser.getControl(
    ...     name='1.0_firefox.milestone')
    >>> milestone_control.displayValue
    ['Mozilla Firefox: 1.0.0']

Let's now create milestone 5.04-rc1 for Hoary.

    >>> admin_browser.open('http://launchpad.dev/ubuntu/hoary/+addmilestone')
    >>> name_field = admin_browser.getControl('Name:')
    >>> name_field.value = '5.04.rc1'
    >>> admin_browser.getControl('Register milestone').click()

Now we can target bug #1 to milestone 5.04-rc1 for Ubuntu.

    >>> admin_browser.open('http://launchpad.dev/firefox/+bug/1')
    >>> milestone_control = admin_browser.getControl(
    ...     name='ubuntu_mozilla-firefox.milestone')
    >>> milestone_control.displayValue
    ['(no value)']
    >>> milestone_control.displayOptions
    ['(no value)', 'Ubuntu: 5.04.rc1']
    >>> milestone_control.displayValue = ['Ubuntu: 5.04.rc1']
    >>> admin_browser.getControl('Save Changes', index=3).click()
    >>> milestone_control = admin_browser.getControl(
    ...     name='ubuntu_mozilla-firefox.milestone')
    >>> milestone_control.displayValue
    ['Ubuntu: 5.04.rc1']

Bug #1 is already nominated for Hoary, so we can create another bugtask by
clicking on the "approve" button for this nomination.

    >>> admin_browser.getControl('Approve').click()

Now we can set the milestone for the bug in Hoary. Note that the 
milestone assigned for Ubuntu has been "carried over", so let's
remove the milestone now.

    >>> admin_browser.open('http://launchpad.dev/firefox/+bug/1')
    >>> milestone_control = admin_browser.getControl(
    ...     name='ubuntu_hoary_mozilla-firefox.milestone')
    >>> milestone_control.displayValue
    ['Ubuntu: 5.04.rc1']
    
    >>> milestone_control.displayOptions
    ['(no value)', 'Ubuntu: 5.04.rc1']
    >>> milestone_control.displayValue = ['(no value)']
    >>> admin_browser.getControl('Save Changes', index=3).click()
    >>> milestone_control = admin_browser.getControl(
    ...     name='ubuntu_hoary_mozilla-firefox.milestone')
    >>> milestone_control.displayValue
    ['(no value)']
