<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
  <body>
    <metal:heading fill-slot="pageheading">
      <h1>Binary package search results</h1>
    </metal:heading>

<div metal:fill-slot="main">

  <form name="search" method="GET">
  
    <div>Find packages with names containing:</div>
    <input type="text"
      name="text"
      size="35"
      tal:attributes="value request/text|nothing" />

    <input type="submit" value="Search"
        tal:condition="not: view/searchrequested" />
    <input type="submit" value="Search Again"
        tal:condition="view/searchrequested" />

  </form>

  <div id="search-results">
    <tal:search_requested condition="view/searchrequested">

      <tal:batch define="batch view/batchnav/currentBatch">

        <tal:navigation replace="structure view/batchnav/@@+navigation-links-upper" />

        <ul tal:condition="batch">
          <li tal:repeat="dsbp batch">
            <img src="/@@/package-binary" />
            <a tal:attributes="href dsbp/fmt:url;
                               title dsbp/title"
               class="packagetitle"
               tal:content="dsbp/name"/>:
            <div style="margin-left: 30px; font-size: 80%;"
                 tal:content="dsbp/summary">
              Gee whiz special package.
              <span tal:replace="dsbp/description"
                    tal:condition="view/detailed">
                Gee whiz special package description goes here if there are
                fewer than 5 matches.
              </span>
            </div>
          </li>
        </ul>

        <tal:navigation replace="structure view/batchnav/@@+navigation-links-lower" />

        <tal:no_matches condition="not: view/matches">

          No packages matching '<span tal:replace="view/text">amarok</span>'
          are published in
          <span tal:replace="context/displayname">hoary</span>.

        </tal:no_matches>

      </tal:batch>

    </tal:search_requested>
  </div>
</div>

</body>

</html>
