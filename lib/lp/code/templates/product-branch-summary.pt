<div
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  i18n:domain="launchpad">

  <div id="unknown" tal:condition="context/codehosting_usage/enumvalue:UNKNOWN">
    <p>
      <strong>
        Launchpad does not know where <tal:project_title replace="context/title" />
        hosts its code.
      </strong>
    </p>

    <div
       tal:condition="not: context/codehosting_usage/enumvalue:LAUNCHPAD"
       tal:define="configure_codehosting view/configure_codehosting | nothing">
      <a class="sprite maybe"
         href="https://help.launchpad.net/Code">Getting started
        with code hosting in Launchpad</a>.

      <p tal:condition="context/required:launchpad.Edit"
         id="no-code-edit"
         >
        <a tal:condition="configure_codehosting"
           tal:replace="structure configure_codehosting/fmt:link"/>
      </p>
    </div>
  </div>

  <div id="external"
       tal:condition="context/codehosting_usage/enumvalue:EXTERNAL">
    <p>
      <strong>
        <tal:project_title replace="context/title" /> hosts its code at
        <a tal:attributes="href view/mirror_location"><tal:mirror replace="view/mirror_location"/></a>.
      </strong>
    </p>
    <p tal:condition="context/homepageurl">
      You can learn more at the project's
      <a tal:attributes="href context/homepageurl">web page</a>.
    </p>
    <p tal:condition="view/branch/branch_type/enumvalue:MIRRORED">
      Launchpad has a mirror of the master branch and you can create branches
      from it.
    </p>
    <p tal:condition="view/branch/branch_type/enumvalue:REMOTE">
      Launchpad does not have a copy of the remote branch.
    </p>
  </div>

  <tal:no-branches condition="not: view/branch_count">
    There are no branches for <tal:project-name replace="context/displayname"/>
    in Launchpad.
    <ul>
      <li>If there are Bazaar branches of
      <tal:project-name replace="context/displayname"/>
      in a publicly accessible location,
      Launchpad can act as a mirror of the branch by registering a
      <em>Mirrored</em> branch.
      <a href="https://help.launchpad.net/Code/MirroredBranches">Read more.</a>
      </li>
      <li>Launchpad can also act as a primary
      location for Bazaar branches of
      <tal:project-name replace="context/displayname"/>.
      <a href="https://help.launchpad.net/Code/UploadingABranch">Read more.</a>
      </li>

      <li>Launchpad can import code from CVS, Subversion, Mercurial or Git
      into Bazaar branches.  <a
      href="https://help.launchpad.net/VcsImports">Read more.</a> </li>

    </ul>
  </tal:no-branches>

  <tal:has-branches condition="view/branch_count">
    <p tal:replace="structure context/@@+count-summary"/>
    <p id="merge-counts"
       tal:define="menu context/menu:branches">
      <strong class="count" tal:content="menu/active_review_count">5</strong>
      <tal:link
          define="link menu/active_reviews"
          replace="structure link/render"
          />
    </p>
    <div tal:condition="view/has_development_focus_branch"
         style="margin: 1em 0"
         tal:define="config modules/canonical.config/config;
                     dev_focus context/development_focus/branch">
      You can
      <tal:browseable condition="dev_focus/code_is_browseable">
        <a tal:attributes="href dev_focus/browse_source_url"
           >browse the source code</a> for the development focus branch or get a
           copy of the branch</tal:browseable>
      <tal:not-browseable condition="not: dev_focus/code_is_browseable">
        get a copy of the development focus branch
      </tal:not-browseable>
       using the command:<br/>
      <tt style="padding-left:2em">bzr branch <tal:project-name replace="dev_focus/bzr_identity"/></tt>
    </div>

  </tal:has-branches>

  <p tal:condition="view/latest_release_with_download_files">
    <img src="/@@/download"/> There are
    <a tal:define="rooturl modules/canonical.launchpad.webapp.vhosts/allvhosts/configs/mainsite/rooturl"
      tal:attributes="href string:${rooturl}${context/name}/+download">download files</a>
    available for <tal:project-name replace="context/displayname"/>.
  </p>

</div>
