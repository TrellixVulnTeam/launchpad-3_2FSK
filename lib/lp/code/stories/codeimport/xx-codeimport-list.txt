There is a page listing all the active code imports on the code
homepage.

We start by deleting all the code import sample data and creating a
few imports that will be displayed in the listing.

    >>> import datetime
    >>> import pytz
    >>> from lp.codehosting.codeimport.tests.test_workermonitor import (
    ...     nuke_codeimport_sample_data)
    >>> from lp.code.enums import RevisionControlSystems
    >>> from lp.code.model.tests.test_codeimport import (
    ...     make_active_import)
    >>> from lp.code.interfaces.codeimport import ICodeImportSet
    >>> from lp.testing import login, logout
    >>> from zope.component import getUtility
    >>> login('david.allouche@canonical.com')
    >>> nuke_codeimport_sample_data()
    >>> code_import_set = getUtility(ICodeImportSet)
    >>> active_svn_import = make_active_import(
    ...     factory, product_name="myproject", branch_name="trunk",
    ...     svn_branch_url="http://example.com/svn/myproject/trunk",
    ...     last_update=datetime.datetime(2007, 1, 1, tzinfo=pytz.UTC))
    >>> active_bzr_svn_import = make_active_import(
    ...     factory, product_name="ourproject", branch_name="trunk",
    ...     svn_branch_url="http://example.com/bzr-svn/myproject/trunk",
    ...     rcs_type=RevisionControlSystems.BZR_SVN,
    ...     last_update=datetime.datetime(2007, 1, 2, tzinfo=pytz.UTC))
    >>> active_cvs_import = make_active_import(
    ...     factory, product_name="hisproj", branch_name="main",
    ...     cvs_root=":pserver:anon@example.com:/cvs", cvs_module="hisproj",
    ...     last_update=datetime.datetime(2007, 1, 3, tzinfo=pytz.UTC))
    >>> active_git_import = make_active_import(
    ...     factory, product_name="herproj", branch_name="master",
    ...     git_repo_url="git://git.example.org/herproj",
    ...     last_update=datetime.datetime(2007, 1, 4, tzinfo=pytz.UTC))
    >>> active_hg_import = make_active_import(
    ...     factory, product_name="herproj", branch_name="master",
    ...     hg_repo_url="http://hg.example.org/proj",
    ...     last_update=datetime.datetime(2007, 1, 5, tzinfo=pytz.UTC))
    >>> len(list(code_import_set.getActiveImports()))
    4
    >>> logout()

The page is linked to from the "$N imported branches" text.

    >>> browser.open('http://code.launchpad.dev')
    >>> browser.getLink('4 imported branches').click()
    >>> print browser.title
    Available code imports

It lists the active imports, sorted by product then branch name:

   >>> def print_import_table():
   ...     table = first_tag_by_class(browser.contents, 'listing')
   ...     print extract_text(table)

   >>> print_import_table()
   Project    Branch Name Source Details                             Last Updated
   proj      master      http://hg.example.org/proj             2007-01-04
   herproj    master      git://git.example.org/herproj              2007-01-04
   hisproj    main        :pserver:anon@example.com:/cvs hisproj     2007-01-03
   myproject  trunk       http://example.com/svn/myproject/trunk     2007-01-01
   ourproject trunk       http://example.com/bzr-svn/myproject/trunk 2007-01-02

You can filter the list by product:

   >>> browser.getControl(name='text').value = 'hisproj'
   >>> browser.getControl('Search', index=0).click()
   >>> print_import_table()
   Project   Branch Name Source Details                         Last Updated
   hisproj   main        :pserver:anon@example.com:/cvs hisproj 2007-01-03
