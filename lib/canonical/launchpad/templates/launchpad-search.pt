<html metal:use-macro="view/macro:page/applicationhome" i18n:domain="launchpad">
  <body>
    <h1 metal:fill-slot="heading">Launchpad search</h1>

<div metal:fill-slot="main">

      <h1 tal:condition="view/search_string">
        Projects matching
        &#8220;<tal:string replace="view/search_string" />&#8221;
      </h1>
      <h1 tal:condition="not:view/search_string"
      >Search projects in Launchpad</h1>

    <div align="center">
      <form action="" class="central" method="get">
        <input type="text" name="q" size="30"
               tal:attributes="value view/search_string" />
        <input type="submit" name="search" value="Search" />
      </form>
    </div>

    <p id="empty-search-string" tal:condition="not: view/search_string">
      Enter one or more words related to the project you want to find.
    </p>

    <tal:non-empty-search-string condition="view/search_string">
      <p tal:condition="view/tooManyResultsFound"
           class="informational message">
        More than <span tal:replace="view/max_results_to_display" /> projects
        were found, so we're displaying only the ones that are most relevant
        to your search terms.
        If the project you are looking for is not on the list below, please
        do another search with more search terms.  
      </p>

      <metal:search_results metal:define-macro="search_results">
        <table
          tal:condition="view/matches"
          tal:define="results view/searchresults"
          class="listing"
          >
          <thead>
            <tr class="results">
              <td colspan="2">
                <span tal:replace="view/matches">3</span>
                <span tal:condition="python: view.matches == 1">project found</span>
                <span tal:condition="python: view.matches != 1">projects found</span>
              </td>
            </tr>
          </thead>
          <tbody>
            <tr tal:repeat="pillar results" tal:replace="structure pillar/@@+listing-simple">
            </tr>
          </tbody>
        </table>

        <p tal:condition="not: view/searchresults">
          No projects matching
          &#8220;<span tal:replace="view/text">moz</span>&#8221;
          were found.
        </p>

        <h2>Haven&#8217;t found your project?</h2>

        <p>
          If the project you are looking for isn't here, go ahead and register
          it yourself!
        </p>
        <ul class="rollover buttons">
          <li>
            <a href="/products/+new">
              <img
                alt="Register a project"
                src="/+icing/but-lrg-registerproj.gif"
              />
            </a>
          </li>
        </ul>
      </metal:search_results>

    </tal:non-empty-search-string>


</div>

</body>
</html>
