= Answer Tracker Introduction Page =

    >>> anon_browser.open('http://answers.launchpad.dev/')
    >>> print anon_browser.title
    Launchpad Answers

It shows the 5 latest questions asked:

    >>> latest_questions_asked = find_tag_by_id(
    ...     anon_browser.contents, 'latest-questions-asked')
    >>> print latest_questions_asked.first('h2').renderContents()
    Latest questions asked
    >>> for row in latest_questions_asked.fetch('tr', 'noted'):
    ...     row.first('a').renderContents()
    'Problemas de Impress\xc3\xa3o no Firefox'
    'Problema al recompilar kernel con soporte smp (doble-n\xc3\xbacleo)'
    'Continue playing after shutdown'
    'Installation failed'
    'Firefox loses focus and gets stuck'

As well as the 5 latest questions solved:

    >>> latest_questions_solved = find_tag_by_id(
    ...     anon_browser.contents, 'latest-questions-solved')
    >>> print latest_questions_solved.first('h2').renderContents()
    Latest questions solved
    >>> for row in latest_questions_solved.fetch('tr', 'noted'):
    ...     row.first('a').renderContents()
    'mailto: problem in webpage'

The application footer also contains a sample of stats for the application:

    # Replace numbers with X in output.
    >>> import re
    >>> print re.sub('\d+', 'X', extract_text(find_tag_by_id(
    ...     anon_browser.contents, 'application-footer')))
    X questions answered and X questions solved out of
    X questions asked across X projects

The page also contains the projects actively using the Answer tracker.
(Since sample data contains no projects with a question asked in the
last 60 days, this list is empty):

    >>> print extract_text(find_tag_by_id(
    ...     anon_browser.contents, 'most-active-projects'))
    Active projects

    # Add some recent questions so that this listing contains something.
    >>> from zope.component import getUtility
    >>> from canonical.launchpad.ftests import login, logout
    >>> from canonical.launchpad.interfaces import (
    ...     IDistributionSet, IPersonSet, IProductSet)
    >>> from canonical.database.sqlbase import flush_database_updates
    >>> login('no-priv@canonical.com')
    >>> ubuntu = getUtility(IDistributionSet).getByName('ubuntu')
    >>> firefox = getUtility(IProductSet).getByName('firefox')
    >>> no_priv = getUtility(IPersonSet).getByEmail('no-priv@canonical.com')
    >>> question = ubuntu.newQuestion(
    ...     no_priv, 'Ubuntu question 1', 'Ubuntu question 1')
    >>> question = ubuntu.newQuestion(
    ...     no_priv, 'Ubuntu question 2', 'Ubuntu question 2')
    >>> question = firefox.newQuestion(
    ...     no_priv, 'Firefox question 1', 'Firefox question 1')
    >>> flush_database_updates()
    >>> logout()

    >>> anon_browser.open('http://answers.launchpad.dev/')
    >>> print extract_text(find_tag_by_id(
    ...     anon_browser.contents, 'most-active-projects'))
    Active projects
    Ubuntu
    Mozilla Firefox

Clicking on these project links will bring the user to the project
Answers front page:

    >>> anon_browser.getLink('Ubuntu').click()
    >>> print anon_browser.url
    http://answers.launchpad.dev/ubuntu
    >>> print anon_browser.title
    Questions for Ubuntu
