= Modifications =

Objects available through the web interface, such as people, have a readable
interface which is available through direct attribute access.

    >>> from launchpadlib.testing.helpers import Launchpad
    >>> launchpad = Launchpad(Launchpad.tokens.salgado_change_anything)

    >>> salgado = launchpad.people.get('salgado')
    >>> salgado.display_name
    u'Guilherme Salgado'

Some of these attributes can be changed.  For example, Salgado can change his
display name.  When changing attribute values though, the changes are not
pushed to the web service until the entry is explicitly saved.  This allows
Salgado to batch the changes over the wire for efficiency.

    >>> salgado.display_name = u'Salgado'
    >>> launchpad.people.get('salgado').display_name
    u'Guilherme Salgado'

Once the changes are saved though, they are saved on the web service.

    >>> salgado.save()
    >>> launchpad.people.get('salgado').display_name
    u'Salgado'

The entry object is a normal Python object like any other.  Salgado can set
any attribute on the object, but if it doesn't correspond to a web services
object, it won't be persistent.

    >>> salgado.display_name = u'Guilherme Salgado'
    >>> salgado.is_great = True
    >>> salgado.save()
    >>> salgado = launchpad.people.get('salgado')
    >>> salgado.display_name
    u'Guilherme Salgado'
    >>> salgado.is_great
    Traceback (most recent call last):
    ...
    AttributeError: is_great

Salgado can also set more than one attribute at a time, and all will be
changed when the entry is saved.

    >>> print salgado.homepage_content
    None
    >>> salgado.hide_email_addresses
    False
    >>> print salgado.timezone
    None
    
    >>> salgado.homepage_content = u'This is my home page.'
    >>> salgado.hide_email_addresses = True
    >>> salgado.timezone = u'Brazil/East'
    >>> salgado.save()
    >>> salgado = launchpad.people.get('salgado')

    >>> print salgado.homepage_content
    This is my home page.
    >>> salgado.hide_email_addresses
    True
    >>> print salgado.timezone
    Brazil/East

Salgado cannot set his timezone to an illegal value.

    >>> salgado.timezone = 'SouthPole'
    >>> salgado.save()
    Traceback (most recent call last):
    ...
    HTTPError: HTTP Error 400: Bad Request

The exception has some useful detail about the error.

    >>> from launchpadlib.errors import HTTPError
    >>> def print_error_on_save(entry):
    ...     try:
    ...         entry.save()
    ...     except HTTPError, error:
    ...         pass
    ...     print error.content

    >>> print_error_on_save(salgado)
    timezone: u'SouthPole' isn't a valid token


== Moving an entry ==

Salgado can actually rename and move his person by changing the 'name'
attribute.

    >>> salgado = launchpad.people.get('salgado')
    >>> salgado.name = u'guilherme'
    >>> salgado.save()

Once this is done, he can no longer access his data through the old name.  But
Salgado's person is available through the new name.

    >>> print launchpad.people.get('salgado')
    None
    >>> launchpad.people.get('guilherme').display_name
    u'Guilherme Salgado'

It's just as easy to move Salgado back to the old name.

    >>> salgado.name = u'salgado'
    >>> salgado.save()
    >>> print launchpad.people.get('guilherme')
    None
    >>> launchpad.people.get('salgado').display_name
    u'Guilherme Salgado'


== Read-only attributes ==

Some attributes are read-only, such as a person's karma.

    >>> salgado.karma
    0
    >>> salgado.karma = 1000000
    >>> salgado.save()
    Traceback (most recent call last):
    ...
    HTTPError: HTTP Error 400: Bad Request

The exception has some interesting details about the error.

    >>> print_error_on_save(salgado)
    karma: You tried to modify a read-only attribute.

If Salgado tries to change several read-only attributes at the same time, he
gets useful feedback about his error.

    >>> salgado.date_created = u'2003-06-06T08:59:51.596025+00:00'
    >>> salgado.is_team = True
    >>> print_error_on_save(salgado)
    is_team: You tried to modify a read-only attribute.
    date_created: You tried to modify a read-only attribute.
    karma: You tried to modify a read-only attribute.
