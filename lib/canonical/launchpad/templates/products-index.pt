<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad"
>

<body>

<metal:rightportlets fill-slot="portlets_two">
  <div class="portlet">
    <h2>About these projects</h2>
    <div class="portletBody portletContent">
      <img src="/@@/info" />
      There are <span tal:replace="context/count_all">5</span>
      projects registered in Launchpad, of which
      <span tal:replace="context/count_buggy">5</span> have bugs reported,
      <span tal:replace="context/count_translatable">5</span> 
      have translations,
      <span tal:replace="context/count_featureful">5</span> have
      feature specifications registered,
      and <span tal:replace="context/count_reviewed">5</span>
      have been reviewed.
    </div>
  </div>
</metal:rightportlets>

<div metal:fill-slot="main">

  <h1>Is your project in Launchpad?</h1>

  <div align="center">
    <form class="central" method="get">
  
      <input size="30" name="text" tal:attributes="value view/text" />
      <input tal:condition="view/searchrequested"
        type="submit"
        value="Search again"
        />
      <input tal:condition="not: view/searchrequested"
        type="submit"
        value="Search projects"
        />

    </form>
  </div>

  <tal:searching condition="view/searchrequested">

    <p></p>

      <table
        tal:condition="view/matches"
        tal:define="results view/searchresults"
        class="listing"
        >
        <thead>
          <tr class="results">
            <td colspan="2">
              <span tal:replace="view/matches">3</span>
              <span tal:condition="python: view.matches == 1">project found</span>
              <span tal:condition="python: view.matches != 1">projects found</span>
            </td>
          </tr>
        </thead>
        <tbody>
          <tr tal:repeat="product results"
              tal:replace="structure product/@@+listing-simple">
            <td>Product simple listing</td>
          </tr>
        </tbody>
      </table>

      <p tal:condition="not: view/matches">
        No projects matching
        &#8220;<span tal:replace="view/text">moz</span>&#8221;
        were found.
      </p>

      <h2>Haven&#8217;t found your project?</h2>

      <p id="application-summary">
        If the project you are looking for isn't here, go ahead and register
        it yourself!
      </p>
      <p>
        <a href="+new">&raquo;
          Register a project</a>
      </p>

      <p>
        <a href="+all">&raquo;
          Browse the listing of all (!) projects</a>
      </p>

  </tal:searching>
  <tal:no_search condition="not: view/searchrequested">

    <p></p>

    <div class="left">

      <h2>Why register?</h2>

      <div id="application-summary">
        If a project is registered in Launchpad, people can keep track of the
        status of that project much more easily. You can link a Launchpad
        project to your own bug tracker and improve collaboration with other
        projects.
      </div>

    </div>

    <div class="right">

      <h2>Latest registrations</h2>
          <ul tal:condition="context/latest" class="product">
            <li tal:repeat="product context/latest">
              <tal:date replace="product/datecreated/fmt:approximatedate" />:
              <a
                tal:attributes="href product/fmt:url"
                tal:content="product/displayname"
              />
            </li>
          </ul>
    </div>
  </tal:no_search>

</div>
</body>
</html>
