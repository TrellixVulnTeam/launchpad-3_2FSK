<!-- Copyright 2009 Canonical Ltd.  This software is licensed under the
     GNU Affero General Public License version 3 (see the file LICENSE).
-->

<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
>
  <body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
  <div tal:replace="structure context/distroarchseries/@@+portlet-details" />
</metal:leftportlets>


<div metal:fill-slot="main">

      <div>
        <a
          tal:attributes="href context/distroarchseries/fmt:url"
          tal:content="context/distroarchseries/displayname"
        />:
        <a tal:attributes="href context/distroarchseriesbinarypackage/fmt:url">
          &ldquo;<tal:packagename
            replace="context/distroarchseriesbinarypackage/name"
          />&rdquo; package
        </a>
      </div>
      <h1 tal:content="context/title">Name of package</h1>

  <tal:description replace="structure context/description/fmt:text-to-html">
     Package Description
  </tal:description>

  <h2>Source package</h2>

  <div id="source">
    <ul>
      <li class="source package">
        <a tal:define="spackage context/distributionsourcepackagerelease"
           tal:content="spackage/title"
           tal:attributes="href spackage/fmt:url">SOURCEPACKAGE</a>
      </li>
    </ul>
  </div>

  <h2>Downloadable files</h2>

  <div id="files">
    <div id="build" tal:condition="context/build">
        <a tal:define="pbuild context/build"
           tal:content="pbuild/title"
           tal:attributes="href pbuild/fmt:url">BUILD</a> produced
        <span tal:condition="context/files">
          these files:
        </span>
        <span tal:condition="not: context/files">
          no files for this binary package.
        </span>
    </div>
    
    <div id="downloadable-files">
        <ul class="download" tal:condition="context/files">
          <li tal:repeat="file context/files">
            <a tal:content="file/libraryfile/filename"
               tal:attributes="href file/libraryfile/http_url"></a>
            (<span tal:replace="file/libraryfile/content/filesize/fmt:bytes" />)
          </li>
        </ul>
    </div>
  </div>
  <!-- No build and no downloadable files -->
  <div tal:condition="not: context/build">
    <span tal:condition="not: context/files">
      There are no downloadable files for this binary package.
    </span>
  </div>


  <h2>Package relationships</h2>

  <table width="100%" tal:define="bpr context/binarypackagerelease">
     <tr>
       <td><div tal:replace="structure bpr/@@+portlet-depends" /></td>
       <td><div tal:replace="structure bpr/@@+portlet-conflicts" /></td>
       <td><div tal:replace="structure bpr/@@+portlet-provides" /></td>
     </tr>
     <tr>
       <td><div tal:replace="structure bpr/@@+portlet-replaces" /></td>
       <td><div tal:replace="structure bpr/@@+portlet-suggests" /></td>
       <td><div tal:replace="structure bpr/@@+portlet-recommends" /></td>
     </tr>
     <tr>
       <td><div tal:replace="structure bpr/@@+portlet-predepends" /></td>
       <td><div tal:replace="structure bpr/@@+portlet-enhances" /></td>
       <td><div tal:replace="structure bpr/@@+portlet-breaks" /></td>
     </tr>
  </table>
</div>
</body>
</html>
