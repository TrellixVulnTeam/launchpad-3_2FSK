<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
  >

<body>
    <metal:portlets fill-slot="portlets"/>

    <div metal:fill-slot="main">

        <h1>Creation requests</h1>
        <div tal:condition="view/registered_lists">
            <form name="pending" action="" method="POST">
            <p>These team administrators have requested mailing lists for
               their teams.  Your approval is required before Launchpad will
               create the mailing list.  For each mailing list request, you
               can choose whether to <em>Approve</em> or <em>Decline</em> the
               request.  Or you may <em>Hold</em> the request to defer your
               decision until later.</p>
            <table class="listing sortable" id="mailing-lists">
                <thead><tr>
                    <th>Approve</th><th>Decline</th><th>Hold</th>
                    <th>Team</th><th>Requester</th>
                </tr></thead>
                <tr tal:repeat="mailing_list view/registered_lists"
                    style="text-align: center">
                    <tal:block tal:define=
                     "team mailing_list/team;
                      team_name team/name;
                      registrant mailing_list/registrant;
                      registrant_name registrant/name;

                      action_name string:action:${team_name};
                      approve_id string:approve:${team_name};
                      decline_id string:decline:${team_name};
                      hold_id string:hold:${team_name};
                      team_id string:team:${team_name};
                      registrant_id
                          string:registrant:${team_name}:${registrant_name}"
                      >
                    <td>
                        <input type="radio" value="approve"
                               tal:attributes="name action_name; id approve_id"
                               />
                    </td>
                    <td>
                        <input type="radio" value="decline"
                               tal:attributes="name action_name; id decline_id"
                               />
                    </td>
                    <td>
                        <input type="radio" value="hold" checked
                               tal:attributes="name action_name; id hold_id"
                               />
                    </td>
                    <td>
                        <a tal:attributes="href team/fmt:url; id team_id">
                        <div tal:content="team/displayname"/></a>
                        </td>
                    <td>
                        <a tal:attributes="href registrant/fmt:url;
                                           id registrant_id">
                        <div tal:content="registrant/displayname"/></a>
                        </td>
                    </tal:block>
                </tr>
            </table>
            <input tal:replace="structure view/submit_action/render" />
            </form>

        </div>
        <p tal:condition="not: view/registered_lists" id="status"
            >There is nothing to do.</p>

    </div>

<metal:help fill-slot="help"/>

</body>
</html>
