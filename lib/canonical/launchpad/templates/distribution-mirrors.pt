<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad"
>
<body>

<metal:leftportlets fill-slot="portlets_one">
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
  <div tal:replace="structure context/@@+portlet-details" />
</metal:rightportlets>

<metal:heading fill-slot="pageheading">
  <h3 tal:content="context/title">Ubuntu Linux</h3>
  <h1><span tal:replace="view/mirror_content">Archive</span> Mirrors</h1>
</metal:heading>

<div metal:fill-slot="main">

  <tal:block define="mirrors_by_country view/getMirrorsGroupedByCountry">

  <div tal:condition="not: mirrors_by_country">
    This distribution has no registered 
    <span tal:replace="view/mirror_content">Archive</span> Mirrors.
  </div>

  <div tal:condition="mirrors_by_country">
    <ul>
      <li tal:repeat="country python:sorted(mirrors_by_country.keys())">
        <strong tal:content="country" />

        <tal:block
          tal:define="mirrors mirrors_by_country/?country; 
                      table_id python:hash(country)">
          <metal:mirror-list
            use-macro="context/@@+distributionmirror-macros/mirrors-table" />
        </tal:block>
      <br />
      </li>
    </ul>

  </div>

  </tal:block>

</div>

</body>
</html>
