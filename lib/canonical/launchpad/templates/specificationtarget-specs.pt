<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template_2col/master"
      i18n:domain="launchpad"
>
  <body>
    <metal:portlets fill-slot="portlets">

    </metal:portlets>

<div metal:fill-slot="main"
    tal:define="specs view/specs;
                has_any_specs view/has_any_specifications">

      <h1 tal:condition="context/karma|nothing"
      >Blueprints involving <tal:person replace="context/title" /></h1>
      <h1 tal:condition="not:context/karma|nothing"
      >Blueprints for <tal:software replace="context/title" /></h1>

  <tal:no_specs condition="not: has_any_specs">

    <p>
      Launchpad lets projects track the features they intend to implement over
      the next few releases. It can generate reports of the project roadmap, as
      well as notifying developers of status changes in those blueprints.
      Examples:
      <a href="/ubuntu">Ubuntu</a>,
      <a href="/bzr">Bazaar</a>.
    </p>

    <tal:not_person condition="not: view/is_person">
      <ul class="menu">
        <li class="add">
          <a href="+addspec">Register the first blueprint
          for <span tal:replace="context/displayname">Firefox</span></a>
        </li>
      </ul>
    </tal:not_person>

    <p>
      Once you have a few blueprints in the system you can plan releases,
      and keep track of who is responsible for what. You can approve
      blueprints as goals for a particular release, and then
      generate a simple report of progress towards feature
      completion for that release.
    </p>

      <ul class="menu">
        <li class="info">
          <a href="https://help.launchpad.net/BlueprintDocumentation"
          >Read more about tracking blueprints</a>
        </li>
      </ul>

  </tal:no_specs>

  <tal:has_any_specs condition="has_any_specs">

    <div>
      <form name="spec_search" method="GET">

        Show only blueprints containing:

        <input type="text" name="searchtext"
               tal:attributes="value view/searchtext" />
        <input tal:condition="view/searchrequested"
          type="submit"
          value="Search again"
          />
        <input tal:condition="not: view/searchrequested"
          type="submit"
          value="Search blueprints"
          />
      </form>
    </div>

    <table class="listing sortable" id="speclisting"
          tal:condition="specs">
      <thead>
        <tr>
          <th>Priority</th>
          <th>Blueprint</th>
          <th>Definition</th>
          <th>Delivery</th>
          <th>Assignee</th>
          <th tal:content="view/goaltitle">Hack!</th>
        </tr>
      </thead>
      <tbody>
        <tr tal:repeat="spec specs">
          <td>
            <span class="sortkey" tal:content="spec/priority/sortkey" />
            <span tal:content="spec/priority/title"
                  tal:attributes="
                  class string:specpriority${spec/priority/name}">High</span>
          </td>
          <td><a tal:content="spec/name/fmt:shorten/35"
                 tal:attributes="
                   href spec/fmt:url;
                   title spec/title">foo-bar-baz</a>
              <img src="/@@/branch" alt="Branch"
                   title="Branch is available"
                   tal:condition="spec/branch_links/count" />
              <img src="/@@/info" alt="Informational"
                   title="Informational specification"
                   tal:condition="spec/informational" />
          </td>
          <td class="nowrap">
            <span class="sortkey" tal:content="spec/status/sortkey" />
            <span tal:content="spec/status/title"
                  tal:attributes="
                  class string:specstatus${spec/status/name}">Approved</span>
          </td>
          <td class="nowrap">
            <span class="sortkey" tal:content="spec/delivery/sortkey" />
            <span
              tal:attributes="class string:specdelivery${spec/delivery/name}"
              tal:content="spec/delivery/title">Deployed</span>
          </td>
          <td>
            <a tal:condition="spec/assignee"
               tal:attributes="href spec/assignee/fmt:url"
               tal:content="spec/assignee/browsername">
              Carlos Perello Marin
            </a>
          </td>
          <td>
            <a tal:condition="spec/has_release_goal"
               tal:attributes="href spec/goal/fmt:url"
               tal:content="spec/goal/name">
              Ubuntu 6.04
            </a>
          </td>
        </tr>
      </tbody>
    </table>

    <tal:nomatches condition="not: specs"
                   replace="structure context/@@+nomatches" />

    <p>
      <span tal:replace="specs/count:len">7</span> blueprint(s) listed.
    </p>

  </tal:has_any_specs>

</div>
</body>
</html>
<!-- 1-0 in-progress Person needs latest-touched list (bug 82090) -->
