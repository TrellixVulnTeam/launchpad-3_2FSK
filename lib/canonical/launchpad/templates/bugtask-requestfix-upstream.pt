<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">
  <body>
  <metal:leftportlets fill-slot="portlets_one">
    <div tal:replace="structure context/@@+portlet-details" />
  </metal:leftportlets>

<div metal:fill-slot="main">

  <div metal:use-macro="context/@@launchpad_form/form">

    <h1 tal:condition="view/label"
        tal:content="view/label"
        metal:fill-slot="heading">Heading from ZCML label="xxx"</h1>

    <metal:extra_info metal:fill-slot="extra_info">

      <p class="informational message"
         tal:repeat="message view/notifications"
         tal:content="structure message">
        Confirmation message.
      </p>

    </metal:extra_info>

    <metal:widgets 
        metal:fill-slot="widgets"
        tal:define="product_widget nocall:view/widgets/product;
                    product product_widget/getInputValue">


      <div class="field">

        <label tal:content="product_widget/label">Label</label>

        <div>
          <a tal:attributes="href product/fmt:url"
             tal:content="product/bugtargetname">
            firefox (upstream)
          </a> (<a href="+upstreamtask">Choose another product</a>)
          <input type="hidden" tal:replace="structure product_widget/hidden" />
        </div>
      </div>

      <div tal:condition="not: product/official_malone"
          tal:define="widgets view/bugwatch_widgets;
                      bugtracker product/getExternalBugTracker">
        <p tal:condition="bugtracker">
          <tal:product tal:replace="product/displayname">Evolution</tal:product>
          uses <a tal:attributes="href bugtracker/baseurl"
                  tal:content="bugtracker/title">Gnome Bugzilla</a> to
          track its bugs. If you know this bug has been reported there,
          you can link to it; Launchpad will keep track of its status
          for you.
        </p>

        <p tal:condition="not: bugtracker">
          <tal:product tal:replace="product/displayname">Evolution</tal:product>
          doesn't use Launchpad to track its bugs. If you know this bug
          has been reported in another bug tracker, you can link to it;
          Launchpad will keep track of its status for you.
        </p>

        <div metal:use-macro="context/@@launchpad_widget_macros/launchpad_widget_rows" />

      </div>

    </metal:widgets>

  </div>

</div>

  </body>
</html>
