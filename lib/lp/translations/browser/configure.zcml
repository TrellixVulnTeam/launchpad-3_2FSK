<!-- Copyright 2009 Canonical Ltd.  This software is licensed under the
     GNU Affero General Public License version 3 (see the file LICENSE).
-->

<configure
    xmlns="http://namespaces.zope.org/zope"
    xmlns:browser="http://namespaces.zope.org/browser"
    xmlns:i18n="http://namespaces.zope.org/i18n"
    xmlns:xmlrpc="http://namespaces.zope.org/xmlrpc"
    i18n_domain="launchpad">
    <browser:url
        for="canonical.launchpad.interfaces.IRosettaApplication"
        path_expression="string:translations"
        parent_utility="canonical.launchpad.interfaces.ILaunchpadRoot"/>
    <browser:defaultView
        for="canonical.launchpad.interfaces.IRosettaApplication"
        name="+index"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:navigation
        module="lp.translations.browser.translations"
        classes="
            RosettaApplicationNavigation"/>
    <browser:pages
        for="canonical.launchpad.interfaces.IRosettaApplication"
        facet="translations"
        permission="zope.Public"
        class="lp.translations.browser.translations.RosettaApplicationView"
        layer="canonical.launchpad.layers.TranslationsLayer">
        <browser:page
            name="+index"
            template="../templates/rosetta-index.pt"/>
        <browser:page
            name="+about"
            template="../templates/rosetta-about.pt"/>
        <browser:page
            name="+products-with-translations"
            template="../templates/rosetta-products.pt"/>

        <!-- portlets -->

        <browser:page
            name="+portlet-groups"
            template="../templates/rosetta-portlet-groups.pt"/>
    </browser:pages>
    <browser:page
        for="lp.translations.interfaces.rosettastats.IRosettaStats"
        class="lp.translations.browser.translations.RosettaStatsView"
        facet="translations"
        permission="zope.Public"
        name="+barchart"
        template="../templates/rosettastats-barchart.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:pages
        for="*"
        facet="translations"
        class="lp.translations.browser.translations.RosettaApplicationView"
        permission="zope.Public">
        <browser:page
            name="+portlet-preflangs"
            template="../templates/object-portlet-preflangs.pt"/>
        <browser:page
            name="+rosetta-status-legend"
            template="../templates/rosetta-status-legend.pt"/>
    </browser:pages>
    <browser:page
        for="*"
        name="+translationmessage-macros"
        facet="translations"
        permission="zope.Public"
        template="../templates/translationmessage-macros.pt"/>
    <browser:page
        for="lp.translations.interfaces.translationgroup.IHasTranslationGroup"
        facet="translations"
        permission="zope.Public"
        name="+portlet-translation-groups-and-permission"
        template="../templates/hastranslationgroup-portlet-translation-groups-and-permission.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <facet
        facet="translations">
        <browser:defaultView
            for="lp.translations.interfaces.translator.ITranslator"
            name="+admin"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+admin"
            for="lp.translations.interfaces.translator.ITranslator"
            permission="launchpad.Admin"
            class="lp.translations.browser.translator.TranslatorAdminView"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+edit"
            for="lp.translations.interfaces.translator.IEditTranslator"
            permission="launchpad.Edit"
            class="lp.translations.browser.translator.TranslatorEditView"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+remove"
            for="lp.translations.interfaces.translator.ITranslator"
            permission="launchpad.Edit"
            class="lp.translations.browser.translator.TranslatorRemoveView"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
    </facet>
    <facet
        facet="translations">
        <browser:navigation
            module="lp.translations.browser.translationimportqueue"
            classes="
                TranslationImportQueueEntryNavigation
                TranslationImportQueueNavigation"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            path_expression="string:${id}"
            parent_utility="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"/>
        <browser:page
            name="+index"
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            class="lp.translations.browser.translationimportqueue.TranslationImportQueueEntryView"
            permission="launchpad.Admin"
            template="../templates/translationimportqueueentry-index.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueueEntry"
            facet="translations"
            permission="zope.Public"
            layer="canonical.launchpad.layers.TranslationsLayer"
            name="+portlet-details"
            template="../templates/translationimportqueueentry-portlet-details.pt"/>
        <browser:url
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"
            path_expression="string:+imports"
            parent_utility="canonical.launchpad.interfaces.ILaunchpadRoot"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationimportqueue.ITranslationImportQueue"
            name="+index"
            class="lp.translations.browser.translationimportqueue.TranslationImportQueueView"
            facet="translations"
            permission="zope.Public"
            template="../templates/translationimportqueue-index.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
    </facet>
    <browser:url
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        path_expression="string:+lang/${language/code}"
        attribute_to_parent="distroseries"
        rootsite="translations"/>
    <browser:navigation
        module="lp.translations.browser.distroserieslanguage"
        classes="
            DistroSeriesLanguageNavigation"/>
    <browser:defaultView
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        name="+index"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:pages
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        permission="zope.Public"
        facet="translations"
        layer="canonical.launchpad.layers.TranslationsLayer">
        <browser:page
            name="+rosetta-status-legend"
            template="../templates/rosetta-status-legend.pt"/>
    </browser:pages>
    <browser:page
        name="+index"
        permission="zope.Public"
        for="lp.translations.interfaces.distroserieslanguage.IDistroSeriesLanguage"
        template="../templates/serieslanguage-index.pt"
        class="lp.translations.browser.distroserieslanguage.DistroSeriesLanguageView"
        facet="translations"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <facet
        facet="translations">
        <browser:navigation
            module="lp.translations.browser.pofile"
            classes="
                POFileNavigation"/>
        <browser:url
            for="lp.translations.interfaces.pofile.IPOFile"
            path_expression="language/code"
            attribute_to_parent="potemplate"/>
        <browser:menus
            module="lp.translations.browser.pofile"
            classes="
                POFileFacets
                POFileNavigationMenu"/>
        <browser:defaultView
            for="lp.translations.interfaces.pofile.IPOFile"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:pages
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="zope.Public"
            class="lp.translations.browser.pofile.POFileView"
            layer="canonical.launchpad.layers.TranslationsLayer">
            <browser:page
                name="+index"
                template="../templates/pofile-index.pt"/>
            
            <!-- POFile Portlets -->
            
            <browser:page
                name="+contributors"
                template="../templates/pofile-translate-contributors.pt"/>
            <browser:page
                name="+portlet-details"
                template="../templates/pofile-portlet-details.pt"/>
            <browser:page
                name="+access"
                template="../templates/pofile-translate-access.pt"/>
            <browser:page
                name="+portlet-stats"
                template="../templates/pofile-portlet-stats.pt"/>
        </browser:pages>
        <browser:page
            name="+upload"
            permission="launchpad.Edit"
            class="lp.translations.browser.pofile.POFileUploadView"
            for="lp.translations.interfaces.pofile.IPOFile"
            template="../templates/pofile-upload.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.pofile.IPOFile"
            facet="overview"
            class="lp.translations.browser.translations.TranslateRedirectView"
            permission="zope.Public"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="zope.Public"
            template="../templates/pofile-translate.pt"
            class="lp.translations.browser.pofile.POFileTranslateView"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+export"
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="launchpad.AnyPerson"
            template="../templates/pofile-export.pt"
            class="lp.translations.browser.pofile.POExportView"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+filter"
            for="lp.translations.interfaces.pofile.IPOFile"
            permission="zope.Public"
            template="../templates/pofile-filter.pt"
            class="lp.translations.browser.pofile.POFileFilteredView"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
    </facet>
    <browser:url
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        path_expression="string:+lang/${language/code}"
        attribute_to_parent="productseries"/>
    <browser:defaultView
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        name="+index"/>
    <browser:pages
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        permission="zope.Public"
        facet="translations"
        layer="canonical.launchpad.layers.TranslationsLayer">
        <browser:page
            name="+rosetta-status-legend"
            template="../templates/rosetta-status-legend.pt"/>
    </browser:pages>
    <browser:page
        name="+index"
        permission="zope.Public"
        for="lp.translations.interfaces.productserieslanguage.IProductSeriesLanguage"
        template="../templates/productserieslanguage-index.pt"
        class="lp.translations.browser.productserieslanguage.ProductSeriesLanguageView"
        facet="translations"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <facet
        facet="translations">
        <browser:navigation
            module="lp.translations.browser.language"
            classes="
                LanguageSetNavigation"/>
        <browser:defaultView
            for="canonical.launchpad.interfaces.ILanguage"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:menus
            module="lp.translations.browser.language"
            classes="
                LanguageSetContextMenu
                LanguageNavigationMenu"/>
        <browser:url
            for="canonical.launchpad.interfaces.ILanguage"
            path_expression="code"
            parent_utility="canonical.launchpad.interfaces.ILanguageSet"/>
        <browser:page
            for="canonical.launchpad.interfaces.ILanguage"
            class="lp.translations.browser.language.LanguageView"
            permission="zope.Public"
            template="../templates/language-index.pt"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="canonical.launchpad.interfaces.ILanguage"
            class="lp.translations.browser.language.LanguageAdminView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            name="+admin"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:pages
            for="canonical.launchpad.interfaces.ILanguage"
            class="lp.translations.browser.language.LanguageView"
            permission="zope.Public"
            layer="canonical.launchpad.layers.TranslationsLayer">
            <browser:page
                name="+portlet-details"
                template="../templates/language-portlet-details.pt"/>
            <browser:page
                name="+portlet-top-contributors"
                template="../templates/language-portlet-top-contributors.pt"/>
        </browser:pages>
        <browser:defaultView
            for="canonical.launchpad.interfaces.ILanguageSet"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:url
            for="canonical.launchpad.interfaces.ILanguageSet"
            path_expression="string:+languages"
            parent_utility="canonical.launchpad.interfaces.ILaunchpadRoot"/>
        <browser:page
            for="canonical.launchpad.interfaces.ILanguageSet"
            class="lp.translations.browser.language.LanguageSetView"
            permission="zope.Public"
            template="../templates/languageset-index.pt"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="canonical.launchpad.interfaces.ILanguageSet"
            class="lp.translations.browser.language.LanguageAddView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            name="+add"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:navigation
            module="lp.translations.browser.potemplate"
            classes="
                POTemplateNavigation
                POTemplateSubsetNavigation
                POTemplateSetNavigation"/>
        <browser:defaultView
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+preferred-chart"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateViewPreferred"
            permission="zope.Public"
            template="../templates/potemplate-chart.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:pages
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateView"
            permission="zope.Public"
            layer="canonical.launchpad.layers.TranslationsLayer">
            <browser:page
                name="+index"
                template="../templates/potemplate-index.pt"/>
            <browser:page
                name="+chart"
                template="../templates/potemplate-chart.pt"/>
            
            <!-- Potemplate Portlets -->
            
            <browser:page
                name="+portlet-details"
                template="../templates/potemplate-portlet-details.pt"/>
            <browser:page
                name="+portlet-langstats"
                template="../templates/potemplate-portlet-langstats.pt"/>
        </browser:pages>
        <browser:page
            name="+upload"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            permission="launchpad.Edit"
            template="../templates/potemplate-upload.pt"
            class="lp.translations.browser.potemplate.POTemplateUploadView"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+edit"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateEditView"
            permission="launchpad.Edit"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+admin"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            class="lp.translations.browser.potemplate.POTemplateAdminView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+export"
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            permission="launchpad.AnyPerson"
            template="../templates/potemplate-export.pt"
            class="lp.translations.browser.potemplate.POTemplateExportView"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:menus
            module="lp.translations.browser.potemplate"
            classes="
                POTemplateFacets
                POTemplateMenu"/>
        <browser:url
            for="lp.translations.interfaces.potemplate.IPOTemplateSubset"
            urldata="lp.translations.browser.potemplate.POTemplateSubsetURL"/>
        <browser:url
            for="lp.translations.interfaces.potemplate.IPOTemplate"
            urldata="lp.translations.browser.potemplate.POTemplateURL"/>
        <browser:defaultView
            for="lp.translations.interfaces.potemplate.IPOTemplateSubset"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+index"
            for="lp.translations.interfaces.potemplate.IPOTemplateSubset"
            permission="zope.Public"
            class="lp.translations.browser.potemplate.POTemplateSubsetView"
            attribute="__call__"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:navigation
            module="lp.translations.browser.translationgroup"
            classes="
                TranslationGroupNavigation
                TranslationGroupSetNavigation"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            path_expression="name"
            rootsite="translations"
            parent_utility="lp.translations.interfaces.translationgroup.ITranslationGroupSet"/>
        <browser:pages
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            class="lp.translations.browser.translationgroup.TranslationGroupView"
            permission="zope.Public"
            layer="canonical.launchpad.layers.TranslationsLayer">
            <browser:page
                template="../templates/translationgroup-index.pt"
                name="+index"/>

            <!-- TranslationGroup portlets -->

            <browser:page
                name="+portlet-projects"
                template="../templates/translationgroup-portlet-projects.pt"/>
        </browser:pages>
        <browser:page
            name="+edit"
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            permission="launchpad.Edit"
            class="lp.translations.browser.translationgroup.TranslationGroupEditView"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+appoint"
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            permission="launchpad.Edit"
            class="lp.translations.browser.translationgroup.TranslationGroupAddTranslatorView"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+reassign"
            for="lp.translations.interfaces.translationgroup.ITranslationGroup"
            permission="launchpad.Edit"
            class="lp.translations.browser.translationgroup.TranslationGroupReassignmentView"
            template="../templates/translationgroup-reassignment.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="*"
            permission="launchpad.Edit"
            name="+object-reassignment"
            template="../../../canonical/launchpad/templates/object-reassignment.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            path_expression="string:+groups"
            parent_utility="canonical.launchpad.interfaces.ILaunchpadRoot"
            rootsite="translations" />
        <browser:defaultView
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+new"
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            class="lp.translations.browser.translationgroup.TranslationGroupAddView"
            permission="launchpad.Admin"
            template="../../app/templates/generic-edit.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationgroup.ITranslationGroupSet"
            permission="zope.Public"
            template="../templates/translationgroups-index.pt"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:url
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            path_expression="string:${potmsgset/sequence}"
            attribute_to_parent="browser_pofile"/>
        <browser:menus
            module="lp.translations.browser.translationmessage"
            classes="
                CurrentTranslationMessageFacets
                CurrentTranslationMessageAppMenus"/>
        <browser:defaultView
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            class="lp.translations.browser.translationmessage.CurrentTranslationMessageIndexView"
            permission="zope.Public"
            name="+index"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            class="lp.translations.browser.translations.TranslateRedirectView"
            permission="zope.Public"/>
        <browser:page
            name="+translate"
            for="lp.translations.interfaces.translationmessage.ITranslationMessage"
            permission="zope.Public"
            template="../templates/translationmessage-translate.pt"
            class="lp.translations.browser.translationmessage.CurrentTranslationMessagePageView"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            name="+display"
            for="lp.translations.interfaces.translationmessage.ITranslationMessageSuggestions"
            permission="launchpad.AnyPerson"
            template="../templates/translationmessage-suggestions.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>

<!-- SourcePackage translation pages -->

    <browser:defaultView
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        name="+translations"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:menus
        classes="SourcePackageTranslationsMenu"
        module="lp.translations.browser.sourcepackage"/>

    <browser:page
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        name="+export"
        layer="canonical.launchpad.layers.TranslationsLayer"
        permission="launchpad.ExpensiveRequest"
        template="../templates/translations-export.pt"
        class="
            lp.translations.browser.sourcepackage.SourcePackageTranslationsExportView"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:pages
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        permission="zope.Public"
        class="lp.translations.browser.sourcepackage.SourcePackageTranslationsView"
        layer="canonical.launchpad.layers.TranslationsLayer">
        <browser:page
            name="+potlist"
            template="../templates/object-pots.pt"/>
        <browser:page
            name="+translate"
            template="../templates/sourcepackage-translate.pt"/>
        <browser:page
            name="+translations"
            template="../templates/object-translations.pt"/>
    </browser:pages>
    <browser:page
        name="+translate"
        for="lp.registry.interfaces.sourcepackage.ISourcePackage"
        class="lp.translations.browser.translations.TranslateRedirectView"
        permission="zope.Public"/>

<!-- ProductSeries translation pages -->

    <browser:defaultView
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+translations"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:menus
        classes="ProductSeriesTranslationsMenu"
        module="lp.translations.browser.productseries"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.productseries.IProductSeries"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:pages
        for="lp.registry.interfaces.productseries.IProductSeries"
        class="lp.translations.browser.productseries.ProductSeriesView"
        permission="zope.Public"
        layer="canonical.launchpad.layers.TranslationsLayer" >
        <browser:page
            name="+translations"
            template="../templates/productseries-translations.pt"
            />
        <browser:page
            name="+languages"
            template="../templates/productseries-translations-languages.pt"
            />
    </browser:pages>
    <browser:pages
        for="lp.registry.interfaces.productseries.IProductSeries"
        class="lp.translations.browser.productseries.ProductSeriesUploadView"
        permission="launchpad.Edit"
        layer="canonical.launchpad.layers.TranslationsLayer">
        <browser:page
            name="+translations-upload"
            template="../templates/productseries-translations-upload.pt"/>
    </browser:pages>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+translations-settings"
        class="lp.translations.browser.productseries.ProductSeriesTranslationsSettingsView"
        permission="launchpad.Edit"
        template="../templates/productseries-translations-settings.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+templates"
        class="lp.translations.browser.productseries.ProductSeriesTemplatesView"
        permission="launchpad.Edit"
        template="../templates/object-templates.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.productseries.IProductSeries"
        name="+request-bzr-import"
        class="lp.translations.browser.productseries.ProductSeriesTranslationsBzrImportView"
        permission="launchpad.Edit"
        template="../templates/productseries-translations-bzr-import.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        name="+export"
        layer="canonical.launchpad.layers.TranslationsLayer"
        for="lp.registry.interfaces.productseries.IProductSeries"
        permission="launchpad.AnyPerson"
        template="../templates/translations-export.pt"
        class="lp.translations.browser.productseries.ProductSeriesTranslationsExportView"/>
    <browser:page
        name="+link-translations-branch"
        layer="canonical.launchpad.layers.TranslationsLayer"
        for="lp.registry.interfaces.productseries.IProductSeries"
        permission="launchpad.Edit"
        template="../../app/templates/generic-edit.pt"
        class="lp.translations.browser.productseries.LinkTranslationsBranchView"/>

<!-- Person views -->

        <browser:defaultView
            for="lp.registry.interfaces.person.IPerson"
            name="+translations"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:menus
            module="lp.translations.browser.person"
            classes="
                PersonTranslationsMenu"/>
        <browser:page
            name="+translations"
            for="lp.registry.interfaces.person.IPerson"
            class="lp.translations.browser.translations.TranslationsRedirectView"
            permission="zope.Public"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+translations"
            facet="translations"
            class="lp.translations.browser.person.PersonTranslationView"
            permission="zope.Public"
            template="../templates/person-translations.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+licensing"
            facet="translations"
            class="
              lp.translations.browser.person.PersonTranslationRelicensingView"
            permission="launchpad.Edit"
            template="../templates/person-translations-relicensing.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+imports"
            class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
            facet="translations"
            permission="zope.Public"
            template="../templates/hastranslationimports-index.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+translations-to-review"
            class="lp.translations.browser.person.PersonTranslationView"
            permission="zope.Public"
            template="../templates/person-translations-to-review.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+translations-to-review-table"
            class="lp.translations.browser.person.PersonTranslationView"
            permission="zope.Public"
            template="../templates/person-translations-to-review-table.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>
        <browser:page
            for="lp.registry.interfaces.person.IPerson"
            name="+translations-to-complete-table"
            class="lp.translations.browser.person.PersonTranslationView"
            permission="zope.Public"
            template="../templates/person-translations-to-complete-table.pt"
            layer="canonical.launchpad.layers.TranslationsLayer"/>


<!-- Product views -->

    <browser:defaultView
        for="lp.registry.interfaces.product.IProduct"
        layer="canonical.launchpad.layers.TranslationsLayer"
        name="+translations"/>
    <browser:menus
        classes="
            ProductTranslationsMenu"
        module="lp.translations.browser.product"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.product.IProduct"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        name="+help-translate-button"
        for="lp.registry.interfaces.product.IProduct"
        class="lp.translations.browser.translations.HelpTranslateButtonView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.product.IProduct"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        name="+changetranslators"
        for="lp.registry.interfaces.product.IProduct"
        class="lp.translations.browser.product.ProductChangeTranslatorsView"
        permission="launchpad.Edit"
        template="../templates/set-translators.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:pages
        for="lp.registry.interfaces.product.IProduct"
        permission="zope.Public"
        class="lp.translations.browser.product.ProductView"
        layer="canonical.launchpad.layers.TranslationsLayer">
        <browser:page
            name="+translations"
            template="../templates/product-translations.pt"/>
        <browser:page
            name="+portlet-translatables"
            template="../templates/product-portlet-translatables.pt"/>
        <browser:page
            name="+portlet-obsolete-translatables"
            template="../templates/product-portlet-obsolete-translatables.pt"/>
    </browser:pages>

<!-- Project views -->

    <browser:defaultView
        for="lp.registry.interfaces.project.IProject"
        name="+translations"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:menus
        classes="
            ProjectTranslationsMenu"
        module="lp.translations.browser.project"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.project.IProject"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.project.IProject"
        permission="zope.Public"
        name="+translations"
        template="../templates/project-translations.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        name="+help-translate-button"
        for="lp.registry.interfaces.project.IProject"
        class="lp.translations.browser.translations.HelpTranslateButtonView"
        permission="zope.Public"/>
    <browser:page
        name="+changetranslators"
        for="lp.registry.interfaces.project.IProject"
        class="lp.translations.browser.project.ProjectChangeTranslatorsView"
        permission="launchpad.Edit"
        template="../templates/set-translators.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>

<!-- Distribution -->

    <browser:defaultView
        for="lp.registry.interfaces.distribution.IDistribution"
        name="+translations"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:menus
        classes="
            DistributionTranslationsMenu"
        module="lp.translations.browser.distribution"/>
    <browser:page
        name="+translations"
        for="lp.registry.interfaces.distribution.IDistribution"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.distribution.IDistribution"
        class="lp.translations.browser.distribution.DistributionView"
        permission="zope.Public"
        name="+translations"
        template="../templates/distribution-translations.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        name="+help-translate-button"
        for="lp.registry.interfaces.distribution.IDistribution"
        class="lp.translations.browser.translations.HelpTranslateButtonView"
        permission="zope.Public"/>
    <browser:page
        name="+settings"
        for="lp.registry.interfaces.distribution.IDistribution"
        class="lp.translations.browser.distribution.DistributionSettingsView"
        permission="launchpad.Edit"
        template="../templates/set-translators.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distribution.IDistribution"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distribution.IDistribution"
        name="+select-language-pack-admin"
        class="lp.translations.browser.distribution.DistributionLanguagePackAdminView"
        permission="launchpad.TranslationsAdmin"
        template="../../app/templates/generic-edit.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>

<!-- DistroSeries -->

    <browser:defaultView
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        name="+translations"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:menus
        classes="
            DistroSeriesTranslationsMenu"
        module="lp.translations.browser.distroseries"/>

    <browser:page
        name="+translations"
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.translations.TranslationsRedirectView"
        permission="zope.Public"/>
    <browser:pages
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.distroseries.DistroSeriesView"
        permission="zope.Public"
        layer="canonical.launchpad.layers.TranslationsLayer">
        <browser:page
            name="+translations"
            template="../templates/distroseries-translations.pt"/>
        <browser:page
            name="+langchart"
            template="../templates/distroseries-langchart.pt"/>
    </browser:pages>
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.distroseries.DistroSeriesTemplatesView"
        permission="launchpad.Edit"
        layer="canonical.launchpad.layers.TranslationsLayer"
        name="+templates"
        template="../templates/object-templates.pt" />
    <browser:page
        name="+help-translate-button"
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.translations.HelpTranslateButtonView"
        permission="zope.Public"/>
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        permission="launchpad.TranslationsAdmin"
        class="lp.translations.browser.distroseries.DistroSeriesTranslationsAdminView"
        name="+admin"
        template="../../app/templates/generic-edit.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        name="+imports"
        class="lp.translations.browser.hastranslationimports.HasTranslationImportsView"
        permission="zope.Public"
        template="../templates/hastranslationimports-index.pt"
        layer="canonical.launchpad.layers.TranslationsLayer"/>
    <browser:page
        for="lp.registry.interfaces.distroseries.IDistroSeries"
        class="lp.translations.browser.distroseries.DistroSeriesLanguagePackView"
        permission="zope.Public"
        layer="canonical.launchpad.layers.TranslationsLayer"
        name="+language-packs"
        template="../templates/distroseries-language-packs.pt"/>

    </facet>
</configure>
