<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  i18n:domain="launchpad"
>

<metal:timeline-iframe define-macro="timeline-iframe">
  <div id="timeline-loading" style="display: none">
    <img src="/@@/spinner" /> Loading graph...
  </div>
  <iframe id="timeline-iframe" name='timeline-iframe'
          style="display: none; overflow: hidden"
          src="+timeline-graph?resize_frame=timeline-iframe"
          width="100%" height="0px"></iframe>
  <script>
    YUI().use('node', function(Y) {
        if (Y.UA.ie) {
            return;
        }
        var loading_el = Y.get('#timeline-loading');
        loading_el.setStyle('display', 'block');
        var iframe = Y.get('#timeline-iframe');
        Y.on('load', function(e) {
            loading_el.setStyle('display', 'none');
            iframe.setStyle('display', 'block');
        }, iframe);
    });
  </script>
</metal:timeline-iframe>

</html>
