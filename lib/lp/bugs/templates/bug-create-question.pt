<!-- Copyright 2009 Canonical Ltd.  This software is licensed under the
     GNU Affero General Public License version 3 (see the file LICENSE).
-->

<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="malone">

  <body>
    <metal:leftportlets fill-slot="portlets_one">
      <div tal:replace="structure context/bug/@@+portlet-questions" />
    </metal:leftportlets>

    <metal:rightportlets fill-slot="portlets_two">
      <div tal:replace="structure context/@@+portlet-search" />
    </metal:rightportlets>

    <metal:main fill-slot="main">
      <div>
        <img alt="" src="/@@/bug" />
        <a tal:attributes="href context/bug/fmt:url"
        >Bug #<tal:bug replace="context/bug/id">3252543</tal:bug></a>:
        <tal:title replace="context/bug/title">Foo doesn't work</tal:title>
      </div>

      <h1>Convert this bug to a question</h1>

      <metal:form use-macro="context/@@launchpad_form/form">
        <div metal:fill-slot="extra_info">
          <p tal:condition="not: view/can_be_a_question">
            This bug cannot be converted into a question.
            <tal:question condition="context/bug/getQuestionCreatedFromBug">
              A question was already created from this bug.
            </tal:question>
            <tal:uses-malone
              condition="not: context/pillar/official_malone">
              <tal:target
                replace="context/target/displayname">Firefox</tal:target>
              does not use Launchpad to track bugs.
            </tal:uses-malone>
            This bug may be valid in other locations, or it is not valid in
            any locations. Only one location must be valid for a bug to be
            convertible to a question.
          </p>

          <p>
            Some bug reports are really questions, or the reporter
            is confused, and an explanation is needed. In such cases,
            the bug can made into a question. When a bug is made into a
            question, the bug's status is set to Invalid. The new question
            will be linked to the bug.
          </p>
        </div>

        <div class="actions" metal:fill-slot="buttons">
          <input tal:repeat="action view/actions"
            tal:replace="structure action/render"
            tal:condition="view/can_be_a_question" />
        </div>
      </metal:form>
    </metal:main>

    <metal:help fill-slot="help">
      <p>
        A bug must meet a few conditions to be convertible to a question.
        Its status must be either New, Incomplete, Confirmed, or Wont Fix.
        The bug's project must use Launchpad to track bugs.
      </p>
      <p>
        Bugs that are also in external bug trackers cannot be converted
        to questions. This is also true for bugs that are being developed.
        If a bug is valid (not Invalid) in many locations, it cannot be
        made into a question--a bug report cannot be a bug in one project,
        but a question in another.
      </p>
      <p>
        Only one question can be created from a bug. Once a bug is made
        into a question, the bug is Invalid.
      </p>
    </metal:help>
  </body>
</html>
