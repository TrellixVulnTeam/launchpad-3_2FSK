<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template_2col/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
  <div tal:replace="structure context/@@+portlet-details" />
  <div tal:replace="structure context/@@+portlet-latestspecs" />
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
</metal:rightportlets>

<metal:heading fill-slot="pageheading">
  <h3 tal:content="context/title">Context title goes here</h3>
  <h1>Current documentation</h1>
</metal:heading>

<div metal:fill-slot="main" tal:define="specs view/documentation">

  <table class="listing sortable" id="speclisting"
        tal:condition="specs">
    <thead>
      <tr>
        <th>Priority</th>
        <th>Specification</th>
        <th>Definition</th>
        <th>Delivery</th>
        <th>Drafter</th>
        <th tal:content="view/goaltitle">Hack!</th>
      </tr>
    </thead>
    <tbody class="lesser">
      <tr tal:repeat="spec specs">
        <td>
          <span class="sortkey" tal:content="spec/priority/sortkey" />
          <span tal:content="spec/priority/title"
                tal:attributes="
                class string:specpriority${spec/priority/name}">High</span>
        </td>
        <td><a tal:content="spec/name/fmt:shorten/35"
               tal:attributes="
                 href spec/fmt:url;
                 title spec/title">foo-bar-baz</a>
            <img src="/@@/info" alt="Informational"
                 tal:condition="spec/informational" />
        </td>
        <td>
          <span class="sortkey" tal:content="spec/status/sortkey" />
          <span tal:content="spec/status/title"
                tal:attributes="
                class string:specstatus${spec/status/name}">Approved</span>
        </td>
        <td tal:attributes="class string:specdelivery${spec/delivery/name}"
            tal:content="spec/delivery/title">Deployed</td>
        <td>
          <a tal:condition="spec/drafter"
             tal:attributes="href spec/drafter/fmt:url"
             tal:content="spec/drafter/browsername">
            Carlos Perello Marin
          </a>
        </td>
        <td>
          <a tal:condition="spec/has_release_goal"
             tal:attributes="href spec/goal/fmt:url"
             tal:content="spec/goal/name">
            Ubuntu 6.04
          </a>
        </td>
      </tr>
    </tbody>
  </table>

  <p tal:condition="not: specs" class="discreet">
    No documentation (complete informational specifications) to list.
  </p>

  <p tal:condition="specs" class="discreet">
    <span tal:replace="specs/count:len">7</span> specification(s) listed.
    This page shows specifications that are marked as "approved" and also
    flagged as "informational". In this way, you can draw up documents for
    the way the code is supposed to work, and have those documents show up
    here automatically when they are approved.
  </p>

</div>
</body>
</html>
