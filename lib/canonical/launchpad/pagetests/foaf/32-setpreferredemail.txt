Let's change the preferred email from no-priv.

    >>> browser = setupBrowser(auth='Basic no-priv@canonical.com:test')
    >>> browser.open('http://launchpad.dev/~no-priv')
    >>> browser.getLink('Update e-mail addresses').click()
    >>> browser.url
    'http://launchpad.dev/~no-priv/+editemails'
    >>> browser.title
    "No Privileges Person's e-mail addresses"

    >>> second_browser = setupBrowser(auth='Basic no-priv@canonical.com:test')
    >>> second_browser.open('http://launchpad.dev/~no-priv/+editemails')

Set foo@baz.com as no-priv's preferred email address.

    >>> browser.getControl('foo@baz.com').selected = True
    >>> browser.getControl('Set as Contact Address').click()

    >>> for msg in get_feedback_messages(browser.contents):
    ...     print msg
    Your contact address has been changed to: foo@baz.com

Setting foo@baz.com again in another browser should return a nice message.

    >>> second_browser.getControl('foo@baz.com').selected = True
    >>> second_browser.getControl('Set as Contact Address').click()

    >>> for msg in get_feedback_messages(second_browser.contents):
    ...     print msg
    foo@baz.com is already set as your contact address.
