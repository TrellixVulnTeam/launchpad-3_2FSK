= Reviewing proposed members =

We have one page in which a team admin can review (approve/decline/hold) all
proposed members at once.

    >>> from zope.testbrowser.testing import Browser
    >>> browser = Browser()
    >>> browser.addHeader('Authorization', 'Basic mark@hbd.com:test')
    >>> browser.open('http://launchpad.dev/~ubuntu-team/+members')
    >>> browser.getLink('Approve or decline members').click()
    >>> browser.url
    'http://launchpad.dev/~ubuntu-team/+editproposedmembers'

Let's have a look at the proposed members that we have.

    >>> table = find_tag_by_id(browser.contents, 'member-list')
    >>> for tag in table.findAll('a'):
    ...     print tag.span.renderContents()
    Andrew Bennetts

Now we'll approve 'Andrew Bennetts'.

    >>> browser.getControl(name='action_7').value = ['approve']
    >>> browser.getControl('Submit').click()

    >>> browser.url
    'http://launchpad.dev/~ubuntu-team/+members'
    >>> table = find_tag_by_id(browser.contents, 'activemembers')
    >>> table_contents = table.renderContents()
    >>> 'Andrew Bennetts' in table_contents
    True

And now we see that there are no pending members left.

    >>> browser.getLink('Approve or decline members')
    Traceback (most recent call last):
    ...
    LinkNotFoundError
