
Resetting to autotest does in fact reset to autotest.

Check that the +sourceadmin form load s and that the importstatus is the
expected value.


  >>> print http(r"""
  ... GET /products/a52dec/failedbranch/+sourceadmin HTTP/1.1
  ... Authorization: Basic cm9iZXJ0Y0Byb2JlcnRjb2xsaW5zLm5ldDpsdW5jaHBhZA==
  ... """)
  HTTP/1.1 200 Ok
  ...Test Failed...
  ...Rerun this import in the Autotester...


Set the resetToAutotest checkbox.


  >>> print http(r"""
  ... POST /products/a52dec/failedbranch/+sourceadmin HTTP/1.1
  ... Content-Type: application/x-www-form-urlencoded
  ... Authorization: Basic cm9iZXJ0Y0Byb2JlcnRjb2xsaW5zLm5ldDpsdW5jaHBhZA==
  ... 
  ... cvsroot=%3Apserver%3Aanonymous%40cvs.sourceforge.net%3A%2Fcvsroot%2Fliba52&cvsmodule=a52dec&cvsbranch=AUTOTESTFAILED&svnrepository=&rcstype=cvs&resetToAutotest=on&admin_productseries_source=Update+RCS+Details""")
  HTTP/1.1 303 See Other
  ...
  ...
  Location: http://localhost:9000/products/a52dec/failedbranch


Check that the importstatus was indeed updated.


  >>> print http(r"""
  ... GET /products/a52dec/trunk HTTP/1.1
  ... """)
  HTTP/1.1 200 Ok
  ...Bazaar Status...
  ...Testing...
