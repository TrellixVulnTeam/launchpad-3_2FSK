Edit person time zone information
=================================

A person's time zone is only editable by people who have launchpad.Edit on
the person, which is that person and admins.

    >>> login('test@canonical.com')
    >>> zzz = factory.makePerson(
    ...     name='zzz', time_zone='Africa/Maseru', email='zzz@foo.com')
    >>> logout()

A user cannot set another user's +editlocation page.

    >>> nopriv_browser = setupBrowser(auth="Basic no-priv@canonical.com:test")
    >>> nopriv_browser.open('http://launchpad.dev/~zzz/+editlocation')
    Traceback (most recent call last):
    ...
    Unauthorized:...

A user can set his own time zone:

    >>> self_browser = setupBrowser(auth="Basic zzz@foo.com:test")
    >>> self_browser.open('http://launchpad.dev/~zzz/+editlocation')
    >>> self_browser.getControl(name='field.time_zone').value = [
    ...     'Europe/Madrid']
    >>> self_browser.getControl('Update').click()

    >>> login('zzz@foo.com')
    >>> zzz.time_zone
    u'Europe/Madrid'
    >>> logout()

And when he comes back to change it later, he'll see it there as the selected
value.

    >>> self_browser.open('http://launchpad.dev/~zzz/+editlocation')
    >>> print self_browser.getControl(name='field.time_zone').value
    ['Europe/Madrid']
