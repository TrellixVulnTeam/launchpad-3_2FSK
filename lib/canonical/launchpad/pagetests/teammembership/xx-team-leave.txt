== Leaving the team ==

  Logged in as 'name16', go to the team named 'ubuntu-team' home page.

  >>> print http(r"""
  ... GET /~ubuntu-team HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  Content-Length: ...
  Content-Type: text/html;charset=utf-8
  ...
  ...Leave...
  ...


  Click on the "Leave" link, to leave the team.

  >>> print http(r"""
  ... GET /~ubuntu-team/+leave HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  Content-Length: ...
  Content-Type: text/html;charset=utf-8
  ...
  ...Are you sure you want to leave...
  ...


  Confirm that wants to leave the team.

  >>> print http(r"""
  ... POST /~ubuntu-team/+leave HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Length: ...
  ... Content-Type: application/x-www-form-urlencoded
  ... 
  ... leave=Leave""")
  HTTP/1.1 303 See Other
  Content-Length: ...
  Content-Type: text/html;charset=utf-8
  ...


  Got redirected to team's home page and see that now he can join.

  >>> print http(r"""
  ... GET /~ubuntu-team HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  Content-Length: ...
  Content-Type: text/html;charset=utf-8
  ...
  ...Join...
  ...


== Team overview page quick-links ==

A member of a team can quickly leave a team by using the links on the
team's overview page.

    >>> browser = setupBrowser(auth='Basic carlos@canonical.com:test')
    >>> browser.open('http://launchpad.dev/~admins')
    >>> print extract_text(
    ... 	find_portlet(browser.contents, 'Your involvement'))
    Your involvement
    You are a member of this team.
    >>> browser.getControl('Leave the Team').click()
    >>> print browser.url
    http://launchpad.dev/~admins

    # The 'Leave' link should be gone.
    >>> browser.getControl('Leave the Team')
    Traceback (most recent call last):
    ...
    LookupError: label 'Leave the Team'

    # And the 'Join' link should have returned.
    >>> browser.getLink('Join the team')
    <Link ...>

Team owners do not have the option to leave.

    >>> browser.open('http://launchpad.dev/~testing-spanish-team')
    >>> print extract_text(
    ... 	find_portlet(browser.contents, 'Your involvement'))
    Your involvement
    You are the owner of this team.
    >>> browser.getControl('Leave the Team')
    Traceback (most recent call last):
    ...
    LookupError: label 'Leave the Team'
