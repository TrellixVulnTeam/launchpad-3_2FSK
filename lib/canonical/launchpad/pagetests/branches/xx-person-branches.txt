= Person Views of Branch Lists =

There are several views of the branches related to a person.

Branch lists for people also include branches that are owned by
teams that the person is participating in.

Branch listing pages now hide dormant branches by default.  Dormant
branches are branches that have not been updated or committed to for
some time.  Since this is a time based change all the branches
are reset here to be recently updated.

    >>> from canonical.launchpad.ftests.branch_helper import (
    ...     reset_all_branch_last_modified)
    >>> reset_all_branch_last_modified()


== Related Branches ==

First, check that the condensed branch listing page works:

  >>> browser = setupBrowser(auth='Basic test@canonical.com:test')
  >>> browser.open('http://code.launchpad.dev/~name12')
  >>> print browser.title
  Bazaar branches related to Sample Person

The heading in the main content is the same as the page title text.

  >>> main = find_main_content(browser.contents)
  >>> print extract_text(main.h1)
  Bazaar branches related to Sample Person


== Default view for a person on code root site ==

The default view for a person on the code root site is the normal branch
listing view for that person.

If a person does not have any related branches, we print an informative
message.

  >>> browser.open('http://code.launchpad.dev/~kinnison')
  >>> print find_tag_by_id(browser.contents, 'no-branch-message').renderContents()
  There are no branches related to Daniel Silverstone in Launchpad today.
  You can use Launchpad as a registry for Bazaar branches, and encourage
  broader community participation in your project using
  distributed version control.


== Owned Branches ==

There is a link in the branch context menu for person which points to
the owned branches page.

    >>> browser.open('http://code.launchpad.dev/~name12')
    >>> browser.getLink('Owned').click()
    >>> print browser.title
    Bazaar branches owned by Sample Person
    >>> table = find_tag_by_id(browser.contents, 'branchtable')
    >>> for row in table.tbody.fetch('tr'):
    ...     print extract_text(row)
    lp://dev/~name12/firefox/main             New            ...
    lp://dev/~name12/gnome-terminal/2.6       Mature         ...
    lp://dev/~name12/gnome-terminal/main      Development    ...
    lp://dev/~name12/gnome-terminal/klingon   Experimental   ...
    lp://dev/~name12/gnome-terminal/mirrored  New            ...
    lp://dev/~name12/gnome-terminal/pushed    New            ...


== Registered Branches ==

There is also a link which points to the registered branches page.

    >>> browser.open('http://code.launchpad.dev/~name12')
    >>> browser.getLink('Registered').click()
    >>> print browser.title
    Bazaar branches registered by Sample Person
    >>> table = find_tag_by_id(browser.contents, 'branchtable')
    >>> for row in table.tbody.fetch('tr'):
    ...     print extract_text(row)
    lp://dev/~name12/firefox/main              New            ...
    lp://dev/~name12/gnome-terminal/2.6        Mature         ...
    lp://dev/~name12/gnome-terminal/main       Development    ...
    lp://dev/~name12/gnome-terminal/klingon    Experimental   ...
    lp://dev/~name12/gnome-terminal/mirrored   New            ...
    lp://dev/~name12/gnome-terminal/pushed     New            ...


== Subscribed branches ==

From the persons main listing page, there is also a link to subscribed
branches.

    >>> browser.open('http://code.launchpad.dev/~name12')
    >>> browser.getLink('Subscribed').click()
    >>> print browser.title
    Bazaar branches subscribed to by Sample Person
    >>> table = find_tag_by_id(browser.contents, 'branchtable')
    >>> for row in table.tbody.fetch('tr'):
    ...     print extract_text(row)
    lp://dev/~launchpad/gnome-terminal/launchpad  New           ...
    lp://dev/~name12/+junk/junk.dev               Experimental  ...
