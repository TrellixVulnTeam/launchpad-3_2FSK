<div metal:use-macro="context/@@launchpad_form/form">
  <div class="form" metal:fill-slot="widgets">
    <div
      tal:condition="context/bug/duplicateof"
      class="warning message"
    >
      Remember, this bug report is a duplicate.
      Comment here only if you think the duplicate status is incorrect.
    </div>

        <table>
          <tal:subject
              tal:define="widget nocall:view/widgets/subject|nothing"
              tal:condition="widget">
            <metal:widget metal:use-macro="context/@@launchpad_form/widget_row" />
          </tal:subject>

          <tal:comment
              tal:define="widget nocall:view/widgets/comment|nothing"
              tal:condition="widget">
            <metal:widget metal:use-macro="context/@@launchpad_form/widget_row" />
          </tal:comment>
        </table>

        <tal:email_me
             tal:define="widget nocall:view/widgets/email_me|nothing"
             tal:condition="python: widget and view.shouldShowEmailMeWidget()">
          <metal:widget metal:use-macro="context/@@launchpad_form/widget_row" />
        </tal:email_me>

        <fieldset style="border: 1px solid;">
          <legend style="margin-left: 1em; font-weight: normal;">
            <span class="fieldRequired">Include an attachment (Optional)</span>
          </legend>

          <table>
            <tal:filecontent
                tal:define="widget nocall:view/widgets/filecontent|nothing"
                tal:condition="widget">
              <metal:widget metal:use-macro="context/@@launchpad_form/widget_row" />
            </tal:filecontent>

            <tal:patch
                tal:define="widget nocall:view/widgets/patch|nothing"
                tal:condition="widget">
              <metal:widget metal:use-macro="context/@@launchpad_form/widget_row" />
            </tal:patch>

            <tal:attachment_description
                tal:define="widget nocall:view/widgets/attachment_description|nothing"
                tal:condition="widget">
              <metal:widget metal:use-macro="context/@@launchpad_form/widget_row" />
            </tal:attachment_description>

          </table>
        </fieldset>

      </div>

      <div class="actions" metal:fill-slot="buttons">
        <input tal:replace="structure view/actions/field.actions.save/render" />
      </div>

    </div>
