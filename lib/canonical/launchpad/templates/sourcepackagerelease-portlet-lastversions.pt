<div class="portlet">
  <h4>Latest versions:</h4>
    <div class="portletBody portletContent">
    <ul tal:define="lastversions view/lastversions">
      <tal:block condition="python:view.context not in lastversions">
        <li tal:repeat="spackage lastversions">
          <a
            tal:content="string:${spackage/name}-${spackage/version}"
            tal:attributes="href spackage/version"
          />
        </li>
      </tal:block>
      <tal:block condition="python:view.context in lastversions">
        <li tal:repeat="spackage lastversions">
          <a
            tal:condition="python:spackage != view.context"
            tal:content="string:${spackage/name}-${spackage/version}"
            tal:attributes="href string:../${spackage/version}"
          />
          <span
            tal:condition="python:spackage == view.context"
            tal:replace="string:${spackage/name}-${spackage/version}"
          />
        </li>
      </tal:block>
    </ul>
    <p tal:condition="view/lastversions">
      <i>No latest versions.</i>
    </p>
  </div>
</div>
