<tal:comment condition="nothing">
  This is a customised version of lib/zope/form/browser/widget_macros.pt
  for Launchpad use.
</tal:comment>
<html>

  <body>
    <metal:block define-macro="launchpad_widget_rows">
      <div class="row" tal:define="widgets widgets|view/widgets"
                       tal:repeat="widget widgets">
        <metal:block define-macro="launchpad_widget_row">
        
          <div class="field">

            <tal:comment replace="nothing">
              XXX: 20060809 jamesh
              this is an evil hack to allow us to share the widget macros
              between the new and old form base classes.
            </tal:comment>
            <div tal:attributes="class python:error and 'error' or None"
                 tal:define="launchpadform modules/canonical/launchpad/webapp/launchpadform;
                             error python:launchpadform.getWidgetError(view, widget)">

              <label tal:attributes="for widget/name"
                     tal:content="widget/label">Label</label>

              <span tal:condition="widget/required"
                    class="fieldRequired"
                    title="Required">(Required)</span>

              <div tal:content="structure widget">
                  <input type="text" style="width:100%"/>
              </div>
               
              <div
                tal:condition="error"
                class="message"
                tal:content="structure error"
              >An error message.</div>

            </div>

            <p class="formHelp"
                tal:condition="widget/hint"
                tal:content="widget/hint">Some Help Text
            </p>
             
          </div>

        </metal:block>
        
      </div>
      
    </metal:block>

  </body>

</html>
