<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad"
>
  <body>

    <metal:heading fill-slot="pageheading">
      <h1 tal:content="context/title">Foo Bar PPA</h1>
    </metal:heading>

    <metal:leftportlets fill-slot="portlets_one">
      <div tal:replace="structure context/owner/@@+portlet-details" />
    </metal:leftportlets>

    <div metal:fill-slot="main" tal:condition="not:view/searchPackages"
         tal:define="is_owner python: view.user == context.owner">

      <div id="whiteboard" tal:condition="is_owner">
         <p>PPA whiteboard:</p>
         <div class="informational" tal:condition="context/whiteboard">
            <tal:archive-whiteboard
               replace="structure context/whiteboard/fmt:text-to-html" />
         </div>
         <p><a href="+edit">Add/Edit PPA whiteboard</a>.</p>
      </div>

      <div id="description">
         <p>PPA description:</p>
         <tal:archive-description condition="context/description"
                replace="structure context/description/fmt:text-to-html" />
         <p class="informational" tal:condition="not:context/description"
            >No description available.</p>
         <p tal:condition="is_owner"
            ><a href="+edit">Add/Edit PPA description</a>.</p>
      </div>

      <p>For more information about how to configure your system to
        use packages from this PPA see
        <a href="https://help.launchpad.net/PPAQuickStart"
        >quick-start guide</a>.</p>

      <h2>Packages</h2>

      <p tal:condition="not:context/number_of_sources">
        This PPA does not contain any package yet.
      </p>

      <tal:active_ppa condition="context/number_of_sources">

      <div>
        <ul id="package_counters">
          <li id="source_counter">
             <span tal:replace="context/number_of_sources"/> Sources
             (<span tal:replace="context/sources_size/fmt:bytes" />)</li>
          <li id="binary_counter">
             <span tal:replace="context/number_of_binaries"/> Binaries
             (<span tal:replace="context/binaries_size/fmt:bytes" />)</li>
	  <li id="total_size">
             Estimated archive size:
             <span tal:replace="context/estimated_size/fmt:bytes" /></li>
        <ul>
      </div>

      <p>Browse the archive in
         <a tal:attributes="href context/archive_url"
            tal:content="context/archive_url" />.</p>

      <div>
        <form name="package_search" action="" method="GET">
           <label for="name"> Package with names containing:</label>
           <input id="name" title="Package Name" size="20"
                  type="text" name="name_filter"
                  tal:attributes="value view/name_filter"/>
           <input type="submit" value="Search" />
        </form>
      </div>

      <div tal:define="batch view/search_results">

      <tal:navigation_top
           replace="structure view/batchnav/@@+navigation-links-upper" />

      <table class="listing sortable" id="packages_list" tal:condition="batch">
        <thead>
          <tr>
            <th>Source</th>
            <th>Published</th>
            <th>Status</th>
            <th>Target</th>
            <th>Pocket</th>
            <th>Component</th>
            <th>Section</th>
          </tr>
        </thead>
        <tbody>
          <tal:block repeat="publishing batch"
                     replace="structure publishing/@@+listing-ppa-detailed">
          </tal:block>
        </tbody>
      </table>

      <tal:navigation_bottom
           replace="structure view/batchnav/@@+navigation-links-lower" />

        <div id="empty-result" tal:condition="not: batch">
           No packages for '<span tal:replace="view/name_filter" />'.
        </div>

      </div>

      </tal:active_ppa>

    </div>

    <p metal:fill-slot="help">
      Here you can find information about the source packages
      currently published in the PPA in question. This page also
      provides estimated archive sizes.
    </p>

  </body>
</html>
