<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<head>
  <title metal:fill-slot="title"
    tal:content="context/sourcepackage/shortdesc">
  </title>
  <!-- Plone style sheet -->
  <style type="text/css" media="screen">@import url(plone.css);</style>
  <!-- Soyuz style sheet -->
  <style type="text/css" media="screen">@import url(soyuz.css);</style>
</head>

<body>

  <metal:leftportlets fill-slot="portlets_one">
  </metal:leftportlets>

  <metal:rightportlets fill-slot="portlets_two">
    <div tal:replace="structure view/actionsPortlet" />
    <div tal:replace="structure view/lastversionsPortlet" />
  </metal:rightportlets>

  <div metal:fill-slot="main" id="content" class="documentEditable">
    <div class="documentContent" id="region-content">

      <h1>
        <span tal:content="context/shortdesc">
          TITLE</span>
      </h1>

      <h4>Source Package Release Information</h4>
      <p>

      <ul>

        <li tal:define="cversion view/currentversion">
           <b>Current Version:</b> 
             <a tal:condition="python:cversion != view.context.version"
                tal:content="view/currentversion"
                tal:attributes="href string:.." />

             <span tal:condition="python:cversion == view.context.version"
                   tal:replace="view/currentversion" />

        </li>

        <li><b>Upload Date:</b> 
           <span tal:content="context/dateuploaded">
           UPLOADDATE</span> UTC

        <li><b>Urgency:</b>
           <span tal:content="context/pkgurgency">
           URGENCY</span>

        <li><b>Component:</b>
           <span tal:content="context/component/name">
           Component</span>

        <li><b>Project:</b>
           <tal:block tal:condition="context/sourcepackage/product">
             <tal:block tal:condition="context/sourcepackage/product/project">
               <a tal:define="project context/sourcepackage/product/project"
                tal:content="project/displayname"
                tal:attributes="href string:/doap/projects/${project/name}">
                Project</a>
             </tal:block>
             <i tal:condition="not:context/sourcepackage/product/project">
                No project available for this sourcepackage
             </i>
           </tal:block>
           <i tal:condition="not:context/sourcepackage/product">
             No project available for this sourcepackage
          </i>

        <li><b>Product:</b>
           <a tal:condition="context/sourcepackage/product"
              tal:define="product context/sourcepackage/product"
              tal:content="product/displayname"
              tal:attributes="href string:/doap/products/${product/name}">
           Product</a>
           <i tal:condition="not:context/sourcepackage/product">
             No product available for this sourcepackage
           </i>


        <li>
           <b>Download Packages</b>
             <div  tal:define="files context/files_url">
               <ul tal:condition="files">
                  <li tal:repeat="file files">
                    <a 
                      tal:content="file/filename"
                      tal:attributes="href file/fileurl" /> 
                  </li>
               </ul>
               <i tal:condition="not:files">
                 No files available for download.
               </i>
             </div>

        <li><b>Binary Packages</b> 
             (<a tal:condition="context/changelog"
            href="+changelog">View Changelog)</a>
           <tal:dummy tal:condition="not:context/changelog">
               No Changelog for this Source Release )
           </tal:dummy>


        <ul tal:define="binaries view/binaries">
            <li tal:condition="not:binaries">
              <i>No binaries generated for this
              SourcePackageRelease</i>
            </li>
            <li tal:repeat="bin binaries" >
              <span tal:replace="bin" /> 
                <span tal:repeat="archtag python:binaries[bin]">
                  (<a tal:content="archtag" tal:attributes="href 
                      string:../../${archtag}/${bin}" />) 
                </span>
            </li>
        </ul>


     <div>

     <table width="100%">
     <tr><td valign="top">

       <h4>Build Dependencies</h4>
       <table>
        <tr tal:condition="not:view/builddepends"><td>No Dependencies</td></tr>
        <tr tal:repeat="dep view/builddepends">
         <td> <a tal:content="dep/name" tal:attributes="href
           string:../../i386/${dep/name}"/>
           <span tal:condition="dep/signal"
                 tal:content="string:(${dep/signal} ${dep/version})"/>
         </td>
        </tr>
      </table>
      </td><td valign="top">

       <h5>Platform Independent Dependencies</h5>
       <table>
        <tr tal:condition="not:view/builddependsindep"><td>No
       Platform Independent Dependencies</td></tr>
        <tr tal:repeat="dep view/builddependsindep">
         <td> <a tal:content="dep/name" tal:attributes="href
           string:../../i386/${dep/name}"/>
           <span tal:condition="dep/signal"
                 tal:content="string:(${dep/signal} ${dep/version})"/>
         </td>
        </tr>
       </table>

      </td></tr>
      </table>

     </div>
    </div>
  </div>
</body>
</html>
 
