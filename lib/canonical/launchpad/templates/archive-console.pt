<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="context/@@main_template/master"
  i18n:domain="launchpad"
  >
<body>

    <metal:portlets fill-slot="portlets">
       <tal:portlet replace="structure context/distribution/@@+portlet-ppa-architectures" />
    </metal:portlets>

    <div metal:fill-slot="main"
         tal:define="ppa_active view/is_active">

      <p tal:condition="not: ppa_active">
        This PPA does not contain any packages yet.
      </p>

      <tal:active_ppa condition="ppa_active">

      <div>
        <form name="package_search" action="" method="GET">
           <label for="name">Package name contains:</label>
           <input id="field.name_filter" title="Package Name" size="20"
                  type="text" name="field.name_filter"
                  tal:attributes="value view/name_filter"/>
           <span tal:replace="structure view/plain_status_filter_widget" />
           <input type="submit" value="Search" />
        </form>
      </div>

      <form name="ppa_actions" action="" method="POST" >

      <div style="padding-top: 1em;" tal:define="batch view/search_results">

      <tal:navigation_top
           condition="python: view.name_filter is not None"
           replace="structure view/batchnav/@@+navigation-links-upper" />

      <table class="listing" id="packages_list" tal:condition="batch">
        <thead>
          <tr>
            <td />
            <th colspan="2">Source</th>
            <th tal:condition="context/owner/isTeam">Uploader</th>
            <th>Published</th>
            <th>Status</th>
            <th>Series</th>
            <th>Section</th>
          </tr>
        </thead>

        <tbody>
          <tal:block repeat="publishing batch"
                     replace="structure publishing/@@+listing-ppa-detailed">
          </tal:block>
        </tbody>
      </table>

      <tal:navigation_bottom
           condition="python: view.name_filter is not None"
           replace="structure view/batchnav/@@+navigation-links-lower" />

        <div id="empty-result" tal:condition="not: batch">
           <tal:has_filter condition="view/name_filter">
              No matching package for '<span tal:replace="view/name_filter" />'.
           </tal:has_filter>
        </div>
      </div>

      <div id="action_console"
           tal:define="message view/performPPAAction;
                       error view/error|nothing"
           style="padding-top: 1em;">

        <table>
         <thead>
            <tr>
              <td>Action Console:</td>
            </tr>
         </thead>
         <tfoot style="padding-top: 1em">
            <tr>
              <td>
                 <label for="DELETE_BINARIES">Include binaries</label>
                 <input type="checkbox" name="DELETE_BINARIES" value="YES" />
                 <label for="DELETION_COMMENT">Comment:</label>
                 <input title="Comment" size="50" type="text"
                        name="DELETION_COMMENT" />
                 <input value="Delete" name="DELETE" type="submit"/>
              </td>
            </tr>
            <tr>
              <td>
                 <label for="COPY_BINARIES">Include binaries</label>
                 <input type="checkbox" name="COPY_BINARIES" value="YES" />
                 <label for="DEST_PPA_OWNER">Destination PPA owner:</label>
                 <input title="Destination PPA owner" size="20" type="text"
                        name="DEST_PPA_OWNER" />
                 <input value="Copy" name="COPY" type="submit"/>
              </td>
            </tr>
          </tfoot>
        </table>

        <p class="informational message"
           tal:condition="message"
           tal:content="structure message" />

        <p class="error message"
           tal:condition="error"
           tal:content="error" />

      </div>

      </form>

      </tal:active_ppa>

    </div> <!--main -->

    <p metal:fill-slot="help">
       Not yet ...
    </p>

  </body>
</html>
