<tal:block replace="view/processTranslations" /><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

  <body>

<metal:leftportlets fill-slot="portlets_one">
      <div tal:replace="structure context/@@+portlet-about" />
      <div tal:replace="structure context/@@+portlet-details" />
      <div tal:replace="structure context/@@+portlet-quickhelp" />
      <div tal:replace="structure context/@@+portlet-stats" />
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
      <div tal:replace="structure context/@@+portlet-translators" />
      <div tal:replace="structure context/@@+portlet-contributors" />
</metal:rightportlets>


    <div metal:fill-slot="main">

      <div>You are translating</div>
      <h1>
        <tal:productseries
          condition="exists:context/potemplate/productseries/displayname"
          tal:replace="context/potemplate/productseries/displayname"
        />
        <tal:sourcepackage
          condition="exists:context/potemplate/sourcepackagename"
          replace="context/potemplate/sourcepackagename"
        />
        into
        <tal:language replace="context/language/englishname" />
      </h1>
      <div class="discreet">
        Template: <tal:template replace="context/title" />
      </div>

      <p class="portalMessage" tal:condition="not: view/is_editor">
        You are not an official translator for this file. You can still make
        suggestions, and your translations will be stored and reviewed for
        acceptance later by the designated translators.
      </p>

    <div
      tal:condition="view/lacksPluralFormInformation"
      class="portalMessage"
    >
        <p>
          Rosetta can&#8217;t handle the plural items in this file, because it doesn&#8217;t yet know how plural forms work for
          <span tal:replace="context/language/englishname">language</span>.
        </p>
        <p>
          To fix this, please e-mail the <a
          href="mailto:rosetta-users@lists.ubuntu.com">Rosetta users
          mailing list</a> with this information, preferably in the
          format described in the
          <a href="https://wiki.ubuntu.com/RosettaFAQ">Rosetta FAQ</a>.
        </p>
        <p>
          This only needs to be done once per language.
          Thanks for helping Rosetta.
        </p>

    </div>


    <tal:havepluralforms condition="not: view/lacksPluralFormInformation">

      <!-- If we have errors, say so -->
      <p class="portalMessage" tal:condition="view/errorcount">
        There are <span tal:replace="view/errorcount">4</span> errors in the
        translations you provided. Please correct them before continuing.
      </p>

    <!-- Display settings. -->

      <p><form method="post"
              style="text-align: right;"
              action="./+translate"
        >
          <input type="hidden" name="offset" value=""
                 tal:attributes="value view/offset" />
          <input type="hidden" name="count" value=""
                 tal:attributes="value view/count" />
          <label>Alt:</label>
          <tal:comment replace="nothing">
            Suggestions from this alternative language will be displayed as
            well as suggestions from the translation language. In the case
            where two languages are very similar it will often be useful to
            show the second language as a source of suggestions when
            translating into the first.
          </tal:comment>

          <tal:block replace="structure view/lang_selector" />

          <label>Show:</label>

          <tal:comment tal:replace="nothing">
            The 'selected' attribute value in next select means basically
            the following:

            if request.form['show'] == literalvalue:
                return 'selected'
            else:
                return None

            Where 'literalvalue' is 'all', 'untranslated' 'fuzzy' or
            'translated'.
          </tal:comment>

          <select name="show" title="Choose which items to show">
            <option value="all"
              tal:attributes="selected
              request/htmlform:show/selected/all"
              >
              all
            </option>
            <option value="untranslated"
              tal:attributes="selected
              request/htmlform:show/selected/untranslated"
              >
              untranslated
            </option>
            <option value="fuzzy"
              tal:attributes="selected
              request/htmlform:show/selected/fuzzy"
              >
              need review
            </option>
            <option value="translated"
              tal:attributes="selected
              request/htmlform:show/selected/translated"
              >
              translated
            </option>
          </select>
          <input type="submit" value="Change" />
        </form></p>

        <!-- The translation form. -->
        <form method="post"
              action="./+translate">
          <!-- the hidden elements -->
          <input type="hidden" name="count"
                 tal:attributes="value view/count" />
          <input type="hidden" name="alt"
                 tal:condition="view/second_lang_code"
                 tal:attributes="value view/second_lang_code" />
          <input type="hidden" name="offset"
                 tal:condition="not: view/atEnd"
                 tal:attributes="value view/offset" />
          <input type="hidden" name="show"
                 tal:condition="view/show"
                 tal:attributes="value view/show" />
          <table class="listing" style="margin-top: 0.5em;">
            <thead>
              <tr class="results">
                <td colspan="4">

                  <!-- Show which messages are displayed. -->
                  <div style="width: 50%; float: left;">
                    <tal:block tal:condition="view/onlyOneForm">
                      All
                      <strong tal:content="view/shown_count">23</strong>
                      items
                    </tal:block>
                    <tal:block tal:condition="not:view/onlyOneForm">
                    Items
                    <strong tal:content="view/getFirstMessageShown">5</strong>
                    &rarr;
                    <strong tal:content="view/getLastMessageShown">10</strong>
                    of
                    <strong tal:content="view/shown_count">23</strong>
                    </tal:block>
                  </div>

                  <!-- Paging doodads. -->
                  <div style="width: 50%; float: right; text-align: right;">

                    <tal:comment tal:replace="nothing">
                      Link to previous page and beginning, if this is not
                      the beginning page.
                    </tal:comment>

                    <span class="previous" tal:condition="not:view/atBeginning">
                      <a tal:attributes="href view/beginningURL">First</a>
                      &ndash;
                      <a tal:attributes="href view/previousURL">Previous
                        <span tal:replace="view/count">5</span></a>
                      <span tal:condition="not:view/atEnd">&ndash;</span>
                    </span>

                    <tal:comment tal:replace="nothing">
                      Link to next page and end, if tis is not the end page.
                    </tal:comment>

                    <span class="next" tal:condition="not:view/atEnd">
                      <a tal:attributes="href view/nextURL">Next
                        <span tal:replace="view/count">5</span></a>
                      &ndash;
                      <a tal:attributes="href view/endURL">Last</a>
                    </span>
                  </div>
                </td>
              </tr>
            </thead>
            <tbody>
              <tal:pomsgsetview repeat="pomsgset view/messageSets">
                <tal:pomsgset
-                  replace="structure pomsgset/@@+pomsgset-translate" />
              </tal:pomsgsetview>
            </tbody>
            <tfoot>
              <tr>
                <th colspan="4">
                  <input type="submit" name="submit_translations" value="Save &amp; Continue" style="text-align: right;"
                      tal:attributes="tabindex: view/makeTabIndex" />
                </th>
              </tr>
            </tfoot>
          </table>

        <!-- Offset of next page, if not at end. -->
        </form>
        <p class="discreet">
          Translation status:
          <span class="language-code"
            tal:content="context/language/englishname"
            tal:omit-tag=""
          >Spanish</span>
          <span tal:replace="view/completeness" tal:omit-tag="">0 %</span>
        </p>
      </tal:havepluralforms>
    </div>

  </body>
</html>
