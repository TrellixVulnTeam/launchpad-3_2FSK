Rejecting and Reopening
=======================

Any logged in user can reject an open support request. This should be
done when the request isn't an actual support request, for example, if
the request is a duplicate or spam.

To reject the request, the user uses the 'Reject Request' link and
confirms the rejection by clicking the 'Reject' button.

    >>> user_browser.open('http://launchpad.dev/products/firefox/+ticket/2')
    >>> user_browser.getLink('Reject Request').click()
    >>> user_browser.getControl('Reject').click()

A confirmation message is displayed and the status of the request is now
changed to 'Invalid'.

    >>> from BeautifulSoup import BeautifulSoup
    >>> soup = BeautifulSoup(user_browser.contents)
    >>> print soup.first('p', 'informational message').renderContents()
    You have rejected this request.

    >>> print soup.first('b', text='Status:').next.strip()
    Invalid

It is possible to reopen a rejected request using the 'Reopen Request'
link. After following that link, the user should confirm the reopening
by clicking the 'Reopen' button.

    >>> user_browser.getLink('Reopen Request').click()
    >>> user_browser.getControl('Reopen').click()

A confirmation message is displayed and the status is changed back
to 'Open'.

    >>> soup = BeautifulSoup(user_browser.contents)
    >>> print soup.first('p', 'informational message').renderContents()
    You have reopened this request.

    >>> print soup.first('b', text='Status:').next.strip()
    Open

Additionally, a portlet listing the 'Reopenings' now appears:

    >>> porlet = soup.first(
    ...     'h4', text='This request was reopened:').findParent('div')
    >>> porlet.first('li', 'ticket')
    <li class="ticket">
        2006-09-08 by...
        <a href=".../people/name12">Sample Person</a>
    </li>

The listing of all reopenings can also be consulted by using the
'History' link.

    >>> user_browser.getLink('History').click()
    >>> print user_browser.title
    History of support request #2
    >>> soup = BeautifulSoup(user_browser.contents)
    >>> history_table = soup.first('table', 'listing')
    >>> history_table.first('tbody').first('tr')
    <tr>
        <td>2006-09-08</td>
        <td>Sample Person</td>
        <td>Invalid</td>
        <td>Sample Person</td>
        <td>2006-09-08
        </td>
    </tr>
