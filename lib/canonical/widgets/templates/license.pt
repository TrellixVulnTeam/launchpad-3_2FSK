<!-- Copyright 2009 Canonical Ltd.  This software is licensed under the
     GNU Affero General Public License version 3 (see the file LICENSE).
-->

<tal:root
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  omit-tag="">
<script type="text/javascript"
        tal:condition="view/allow_pending_license">
//<![CDATA[
  function unsetLicenses() {
    var checkboxes = document.getElementsByName('field.licenses');
    for (var i = 0; i < checkboxes.length; i++) {
      checkboxes[i].checked = false;
    }
  }

  function setLicensePendingStatus(pending) {
    document.getElementById('license_pending').checked = pending;
    document.getElementById('license_complete').checked = !pending;
  }
//]]>
</script>
<div style="color: black">

  Select the license(s) under which you release your project.
  <div tal:condition="view/allow_pending_license"
     tal:define="is_empty not:view/_getFormInput">
    <input id="license_pending" name="license_status" type="radio"
          tal:attributes="checked is_empty"
          onClick="unsetLicenses()" />
    <label for="license_pending">I haven't specified the license yet</label>
    <br/>

    <input id="license_complete" name="license_status" type="radio"
          tal:attributes="checked not:is_empty" />
    <label for="license_complete">
      This project consists of code licensed under:
    </label>
  </div>

  <tal:allow-pending condition="view/allow_pending_license">
    <div tal:attributes="style string:padding-left: 20px"
         onclick="setLicensePendingStatus(false)">
      <input tal:replace="structure view/checkbox_matrix" />
    </div>
  </tal:allow-pending>
  <tal:do-not-allow-pending condition="not:view/allow_pending_license">
    <div>
      <input tal:replace="structure view/checkbox_matrix" />
    </div>
  </tal:do-not-allow-pending>

  <p>
    Launchpad.net is free to use for software projects that share
    their source code and comply with these
    <a tal:define="config modules/canonical.config/config"
       tal:attributes="href config/commercial/licensing_policy_url">
      licensing policies.
    </a>
    <br/>
    <a href="mailto:feedback@launchpad.net">Contact us</a>
    if your project uses a proprietary license.
  </p>
</div>
</tal:root>
