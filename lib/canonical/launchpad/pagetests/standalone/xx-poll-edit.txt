First Foo Bar creates a new poll on team "name18", wich he is an admin.

  >>> print http(r"""
  ... POST /people/name18/+newpoll HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Type: multipart/form-data; boundary=---------------------------152240574020301212452145100880
  ... 
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... poll1
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.title"
  ... 
  ... poll1title
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.proposition"
  ... 
  ... poll1 proposition
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.secrecy"
  ... 
  ... Secret Votes (It's impossible to track a person's vote)
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.secrecy-empty-marker"
  ... 
  ... 1
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.allowspoilt.used"
  ... 
  ... 
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.allowspoilt"
  ... 
  ... on
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.dateopens"
  ... 
  ... 3000-01-01
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="field.datecloses"
  ... 
  ... 3001-11-01
  ... -----------------------------152240574020301212452145100880
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Add
  ... -----------------------------152240574020301212452145100880--
  ... """)
  HTTP/1.1 303 See Other
  ...
  Location: http://localhost:9000/people/name18/+poll/poll1
  ...
  
Then he changes the poll's name from poll1 to poll2.

  >>> print http(r"""
  ... POST /people/name18/+poll/poll1/+edit HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Type: multipart/form-data; boundary=---------------------------12159828621479198731211554283
  ... 
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... poll2
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.title"
  ... 
  ... poll1title
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.proposition"
  ... 
  ... poll1 proposition
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.secrecy"
  ... 
  ... Secret Votes (It's impossible to track a person's vote)
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.secrecy-empty-marker"
  ... 
  ... 1
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.allowspoilt.used"
  ... 
  ... 
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.allowspoilt"
  ... 
  ... on
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.dateopens"
  ... 
  ... 3000-01-01 00:00:00+00:00
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="field.datecloses"
  ... 
  ... 3001-11-01 00:00:00+00:00
  ... -----------------------------12159828621479198731211554283
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Change
  ... -----------------------------12159828621479198731211554283--
  ... """)
  HTTP/1.1 303 See Other
  ...
  Location: http://localhost:9000/people/name18/+poll/poll2
  ...
  
Now we check if poll2 is there.

  >>> print http(r"""
  ... GET /people/name18/+poll/poll2 HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  ...

And if poll1 isn't.

  >>> print http(r"""
  ... GET /people/name18/+poll/poll1 HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 404 Not Found
  ...
 
Now we check if it is possible to edit a poll after the voting has began.

  >>> print http(r"""
  ... POST /people/name18/+newpoll HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Type: multipart/form-data; boundary=---------------------------413355457545712150788748393
  ... 
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... alreadyopen
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.title"
  ... 
  ... Open
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.proposition"
  ... 
  ... Proposition.
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.secrecy"
  ... 
  ... Secret Votes (It's impossible to track a person's vote)
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.secrecy-empty-marker"
  ... 
  ... 1
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.allowspoilt.used"
  ... 
  ... 
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.allowspoilt"
  ... 
  ... on
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.dateopens"
  ... 
  ... 2005-10-10
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="field.datecloses"
  ... 
  ... 2008-12-30
  ... -----------------------------413355457545712150788748393
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Add
  ... -----------------------------413355457545712150788748393--
  ... """)
  HTTP/1.1 303 See Other
  ...
  Location: http://localhost:9000/people/name18/+poll/alreadyopen
  ...
  
  >>> print http(r"""
  ... GET /people/name18/+poll/alreadyopen/+edit HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  ...
    ...<h1>This poll can't be edited</h1>...


  >>> print http(r"""
  ... POST /people/name18/+newpoll HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... Content-Type: multipart/form-data; boundary=---------------------------821310704125672221673661982
  ... 
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... alreadyclosed
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.title"
  ... 
  ... closed
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.proposition"
  ... 
  ... closed
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.secrecy"
  ... 
  ... Secret Votes (It's impossible to track a person's vote)
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.secrecy-empty-marker"
  ... 
  ... 1
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.allowspoilt.used"
  ... 
  ... 
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.allowspoilt"
  ... 
  ... on
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.dateopens"
  ... 
  ... 2005-10-10
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="field.datecloses"
  ... 
  ... 2005-11-01
  ... -----------------------------821310704125672221673661982
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Add
  ... -----------------------------821310704125672221673661982--
  ... """)
  HTTP/1.1 303 See Other
  ...
  Location: http://localhost:9000/people/name18/+poll/alreadyclosed
  ...
  
  >>> print http(r"""
  ... GET /people/name18/+poll/alreadyclosed/+edit HTTP/1.1
  ... Authorization: Basic Zm9vLmJhckBjYW5vbmljYWwuY29tOnRlc3Q=
  ... """)
  HTTP/1.1 200 Ok
  ...
  ...<h1>This poll can't be edited</h1>... 

 
