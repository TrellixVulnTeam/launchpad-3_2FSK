Check that we can approve an import for sync without setting an Arch
name and without having to review the Product.

We use the david.allouche@canonical.com user for this test, because it is
member of vcs-imports and not a member of admins.

Check the the +sourceadmin form loads and that the import status is the
expected value.

    >>> browser.addHeader('Authorization', 'Basic david.allouche@canonical.com:test')
    >>> browser.open('http://localhost:9000/products/a52dec/trunk/+sourceadmin')
    >>> print browser.contents
    <!DOCTYPE...
    ...The current import status is:...
    ...Testing...

Set the syncCertified checkbox without setting the Arch name.

    >>> browser.getControl(name='cvsroot').value = (
    ...     ':pserver:anonymous@cvs.sourceforge.net:/cvsroot/liba52')
    >>> browser.getControl(name='cvsmodule').value = 'a52dec'
    >>> browser.getControl(name='cvsbranch').value = 'MAIN'

    >>> browser.getControl(name='syncCertified').value = 'on'

    >>> browser.getControl('Update RCS Details').click()

    >>> browser.url
    'http://localhost:9000/products/a52dec/trunk'

Check that that import status was indeed updated.

    >>> print browser.contents
    <!DOCTYPE...
    ...Bazaar Status...
    ...Processing...

Check that thunderbird productseries doesn't have vcs information recorded.

    >>> browser.open('http://localhost:9000/products/thunderbird/trunk/')
    >>> 'No revision control details recorded for trunk' in browser.contents
    True

Since it doesn't have any vcs information recorded, it should not have an
Import Status.

    >>> browser.open(
    ...     'http://localhost:9000/products/thunderbird/trunk/+sourceadmin')
    >>> 'The current import status is:' in browser.contents
    False

And we can add some vcs details

    >>> browser.getControl(name='svnrepository').value = 'svn://thunderbird'
    >>> browser.getControl(name='rcstype').value = ['svn']
    >>> browser.getControl('Update RCS Details').click()

    >>> browser.url
    'http://localhost:9000/products/thunderbird/trunk'

And now the Import Status is enabled.

    >>> browser.open(
    ...     'http://localhost:9000/products/thunderbird/trunk/+sourceadmin')
    >>> print browser.contents
    <!DOCTYPE...
    ...The current import status is...
    ...Testing...
