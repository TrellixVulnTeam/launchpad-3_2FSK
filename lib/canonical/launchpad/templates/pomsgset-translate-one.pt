<tr class="translation">
  <td style="text-align: right;">
    <span tal:replace="view/sequence">1</span>.
    <input
      type="hidden"
      tal:attributes="
      name string:msgset_${view/potmsgset/id}"
      />
  </td>
  <td>
    <a tal:attributes="href view/zoom_url">
      <img tal:attributes="
        alt view/zoom_alt;
        title view/zoom_alt;
        src view/zoom_icon;" /></a>
  </td>
  <th style="border-style: dotted; border-width: 1px 0 0;">
    <label class="language-code" tal:condition="not:view/is_plural">
      English:
    </label>
    <label class="language-code" tal:condition="view/is_plural">
      English singular:
    </label>
  </th>
  <td class="icon left right" />
  <td tal:content="structure view/msgid">
    The original text.
  </td>
</tr>
<tr class="secondary translation" tal:condition="view/is_plural">
  <th colspan="3">
    <label>English plural:</label>
  </th>
  <td class="icon left right" />
  <td tal:content="structure view/msgid_plural">
    plural source
  </td>
</tr>
<tr
  tal:condition="view/msgid_has_tab"
  class="discreet secondary translation"
>
  <td colspan="2" />
  <th>
    <img alt="Note:" src="/@@/info" title="This is a note to translators" />
  </th>
  <td />
  <td>
    <code>[tab]</code> represents a tab character.
    Please write it exactly the same way, <code>[tab]</code>, in your
    translation.
  </td>
</tr>
<tr
  tal:condition="view/msgid_has_newline"
  class="discreet secondary translation"
>
  <td colspan="2" />
  <th>
    <img alt="Note:" src="/@@/info" title="This is a note to translators" />
  </th>
  <td />
  <td>
    &ldquo;<img alt="" src="/@@/translation-newline" />&rdquo; represents
    a new line.
    Start a new line in the equivalent position in the translation.
  </td>
</tr>
<tr
  tal:condition="view/msgid_has_leading_or_trailing_space"
  class="discreet secondary translation"
>
  <td colspan="2" />
  <th>
    <img alt="Note:" src="/@@/info" title="This is a note to translators" />
  </th>
  <td />
  <td>
    &ldquo;<img alt=" " src="/@@/translation-space" />&rdquo; represents
    a space.
    Enter a space in the equivalent position in the translation.
  </td>
</tr>
<tr
  tal:condition="view/source_comment"
  class="discreet secondary translation"
>
  <td colspan="4" />
  <td>
    <img
      alt="Developer note:"
      src="/@@/info"
      title="This note was provided by the software developer."
      />
    <span
      tal:content="view/source_comment"
      tal:omit-tag="">
      This refers to the content type.
    </span>
  </td>
</tr>
<tr class="error" tal:condition="view/error">
  <td />
  <th colspan="2">
        <strong>Error in Translation:</strong>
  </th>
  <td colspan="3">
    <div>
        <span tal:replace="view/error" />
      </div>
  </td>
</tr>
<tal:language-code
  define="language_code view/pofile/language/code">
  <tal:plural-forms repeat="index view/translation_range">
    <tr class="secondary">
      <th colspan="3">
        <label class="language-code">
          <span tal:replace="view/pofile/language/englishname">
            Welsh
          </span>:
        </label>
      </th>
      <td>
        <!-- will eventually contain copy buttons -->
      </td>
      <td>
        <tal:comment tal:replace="nothing">
          XXX: Carlos Perello Marin 2005-05-05
          This 'python:' expression should be fixed by SteveA.
        </tal:comment>
        <input
          style="width: 100%;"
          type="text"
          tal:condition="not:view/is_multi_line"
          tal:attributes="
            name string:msgset_${view/potmsgset/id}_${language_code}_translation_${index};
            value python:view.getTranslation(index);
            tabindex view/generateNextTabIndex;
            lang view/pofile/language/dashedcode;
            dir view/pofile/language/abbreviated_text_dir;
            " />
        <tal:block condition="view/is_multi_line">
          <tal:comment tal:replace="nothing">
            XXX: Carlos Perello Marin 2005-05-05
            This 'python:' expression should be fixed by SteveA.
          </tal:comment>
          <tal:with-content condition="python:view.getTranslation(index)">
            <tal:comment tal:replace="nothing">
              The lack of indentation for tal:content is deliberate or we would
              add extra whitespaces to the textarea, which causes us to
              potentially corrupt translations.
              https://bugzilla.mozilla.org/show_bug.cgi?id=299009
            </tal:comment>
            <textarea
              style="width: 100%;"
              tal:attributes="
                name string:msgset_${view/potmsgset/id}_${language_code}_translation_${index};
                rows view/max_lines_count;
                tabindex view/generateNextTabIndex;
                lang view/pofile/language/dashedcode;
                dir view/pofile/language/abbreviated_text_dir;
                ">
<tal:content replace="python:view.getTranslation(index)" /></textarea>
          </tal:with-content>
          <tal:without-content condition="python:not view.getTranslation(index)">
            <tal:comment tal:replace="nothing">
              XXX: Carlos Perello Marin 2005-05-05
              This 'python:' expression should be fixed by SteveA.

              We are using an special case if we don't have any content for this
              textarea because tal expressions leave empty lines behind so we
              get new lines added to the textarea for free and that causes
              erroneous translations.
            </tal:comment>
            <textarea
              style="width: 100%;"
              tal:attributes="
                name string:msgset_${view/potmsgset/id}_${language_code}_translation_${index};
                rows view/max_lines_count;
                tabindex view/generateNextTabIndex;
                lang view/pofile/language/dashedcode;
                dir view/pofile/language/abbreviated_text_dir;
                "></textarea>
          </tal:without-content>
        </tal:block>
      </td>
    </tr>
    <tal:active
      define="active python:view.context.getActiveSubmission(index)"
      condition="active">
      <tr class="discreet secondary">
        <th colspan="3" style="padding-bottom: 1em;">
          Translated by:
        </th>
        <td class="icon left right" />
        <td style="overflow: auto;">
          <a tal:content="active/person/browsername"
             tal:attributes="href active/person/fmt:url">Foo Bar</a> on
          <span tal:content="active/datecreated/fmt:datetime">
            2006-08-05 01:04 UTC
          </span>
        </td>
      </tr>
    </tal:active>
    <tal:submission_blocks repeat="submission_block view/submission_blocks">
      <tal:submissions repeat="submissions submission_block">
        <div tal:replace="structure submissions/@@+display" />
      </tal:submissions>
    </tal:submission_blocks>
  </tal:plural-forms>
  <tr class="secondary">
    <td colspan="4" />
    <td>
      <div>
        <label class="fuzzy-checkbox">
          <input
            type="checkbox"
            value="fuzzy"
            tal:attributes="
              checked view/is_fuzzy;
              name string:msgset_${view/potmsgset/id}_${language_code}_needsreview;
              tabindex view/generateNextTabIndex
              " />
          <tal:block condition="not:view/is_plural">
            Someone should review this translation
          </tal:block>
          <tal:block condition="view/is_plural">
            Someone should review these translations
          </tal:block>
        </label>
      </div>
    </td>
  </tr>
  </tal:language-code>
<tr tal:condition="view/comment" class="secondary">
  <th colspan="3"><label>Translator note:</label></th>
  <td />
  <td tal:content="view/comment">
    Translator comment.
  </td>
</tr>
<tr class="discreet secondary">
  <th colspan="3" style="padding-bottom: 1em;">
    Located in:
  </th>
  <td class="icon left right" />
  <td style="overflow: auto;" tal:content="view/file_references">
    ./plone_forms/discussion_reply_form.pt
  </td>
</tr>

