<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="launchpad">

<head>
    <title metal:fill-slot="title">
        <span tal:replace="context/displayname">Release</span>
        Packages
    </title>
  <!-- Plone style sheet -->
  <style type="text/css" media="screen">@import url(plone.css);</style>
  <!-- Launchpad style sheet -->
  <style type="text/css" media="screen">@import url(launchpad.css);</style>

</head>

<body>

<div metal:fill-slot="main">
<h1><span tal:content="context/displayname"/> Packages</h1>


<table>
  <legend><h4><span tal:content="context/title"/>
  Packages</h4></legend>
  <tr><td>
  <fieldset>
  <div>
   <table>
     <tr><td>
       <form name="search" method="POST" action="+search">
       <div class="field">
	  <label>Name</label>
	  <div class="formHelp">
	  Enter the package name .
       </div>
       <input type="text" name="name" tal:attributes="value request/name|nothing"/>
       </div>
       <div class="formControls">
	<input type="submit" value="Search"/>
       </div>
       </form>
       </td>
       <td>
	<div>
	 <table>
	 <tr><th><a 
	 tal:attributes="href string:+sources/">
	 View Source Packages List</a></th>
	 <th>( <span tal:content="context/sourcecount"/> 
	 Packages)</th>
	 </tr><tr>
	 <th><a
	 tal:attributes="href string:i386/">
	 View Binary Packages List (i386)</a></th>
	 <th>( <span tal:content="context/binarycount"/> 
	 Packages)</th>
	 </tr>
	 </table>
	 </div>
     </td></tr>
   </table>	
  </div>
 </td></tr>
</table>


<h4 tal:condition="view/search_action">Search Results</h4> 

<div tal:condition="view/sources">
<fieldset>
<h3>Source Packages</h3>
<ul>
 <li tal:repeat="source view/sources">
  <a tal:attributes="href string:+sources/${source/name}"
     tal:content="source/name">SOURCE</a> : 
    <span tal:content="source/shortdesc"/>
  </li> 
</ul>
</fieldset>
</div>


<div tal:condition="view/binaries">
<fieldset>
<h3>Binary Packages</h3>
<ul>
  <li tal:repeat="binary view/binaries">
    <a tal:define="archtag binary/build/distroarchrelease/architecturetag"
       tal:attributes="href
       string:${archtag}/${binary/name}" 
    tal:content="string:${binary/name}-${archtag}">BIN</a>  : 
    <span tal:content="binary/shortdesc"/>
  </li> 
</ul>
</fieldset>
</div>

<h3><a tal:attributes="href string: ../${context/name}">Back
to <span tal:content="context/title"/> 
Page</a></h3>


</div>
</body>
</html>
