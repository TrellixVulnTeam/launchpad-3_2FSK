<tal:root
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  omit-tag="">

  <metal:admin  tal:condition="context/required:launchpad.Admin">
    <p tal:condition="context/hide_all_translations" class="hidden-notice">
      <strong>Translations for this series are currently hidden.</strong>
    </p>
  </metal:admin>
  <metal:not-admin tal:condition="not:context/required:launchpad.Admin">
    <!--
      If translations are hidden, trigger exception that takes us straight
      to the "translations for this series are not available" page.
    -->
    <metal:check-available tal:omit-tag="context/checkTranslationsViewable" />
  </metal:not-admin>

  <table class="sortable listing" width="100%" id="languagestats">
    <thead>
      <tr>
        <th>Language</th>
        <th>Contributors</th>
        <th>Status</th>
        <th>Untranslated</th>
        <th>Need review</th>
        <th>Changed</th>
      </tr>
    </thead>

    <tbody>
      <tr tal:repeat="drlang view/distroserieslanguages">
        <td>
          <a tal:attributes="href string:${drlang/fmt:url}"
             tal:content="drlang/language/englishname">
             Language Name
          </a>
        </td>
        <td>
          <span class="sortkey" tal:content="drlang/contributor_count">0</span>
          <tal:count
            tal:condition="drlang/contributor_count"
            tal:replace="drlang/contributor_count">0</tal:count>
          <tal:count condition="not: drlang/contributor_count">
            &mdash;
          </tal:count>
        </td>
        <td style="white-space: nowrap">
          <div tal:replace="structure drlang/@@+barchart" />
        </td>
        <td>
          <span class="sortkey" tal:content="drlang/untranslatedCount">0</span>
          <tal:count
            tal:condition="drlang/untranslatedCount"
            tal:replace="drlang/untranslatedCount">0</tal:count>
          <tal:count condition="not: drlang/untranslatedCount">
            &mdash;
          </tal:count>
        </td>
        <td>
          <span class="sortkey" tal:content="drlang/unreviewedCount">0</span>
          <tal:count
            tal:condition="drlang/unreviewedCount"
            tal:replace="drlang/unreviewedCount">0</tal:count>
          <tal:count condition="not: drlang/unreviewedCount">
            &mdash;
          </tal:count>
        </td>
        <td>
          <span class="sortkey" tal:content="drlang/updatesCount">0</span>
          <tal:count
            tal:condition="drlang/updatesCount"
            tal:replace="drlang/updatesCount">0</tal:count>
          <tal:count condition="not: drlang/updatesCount">
            &mdash;
          </tal:count>
        </td>
      </tr>
    </tbody>
  </table>
</tal:root>
