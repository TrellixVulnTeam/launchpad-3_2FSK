<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template_2col/master"
      i18n:domain="launchpad">

<body>

<metal:leftportlets fill-slot="portlets_one">
</metal:leftportlets>

<metal:rightportlets fill-slot="portlets_two">
</metal:rightportlets>

<metal:heading fill-slot="pageheading">
  <h3 tal:content="context/browsername">Context Title</h3>
  <h1>Bazaar branches</h1>
</metal:heading>

<div metal:fill-slot="main"
     tal:define="branchviewset view/branches;
                 branchset view/branches">

  <tal:comment condition="nothing">
  <!-- XXX: There are distinct branchset and branchviewset variables because it
  is planned to implement a stateful search functionality. The page must look
  obviously different if there is no matching branch (non-empty branchset,
  empty branchviewset) or if there is just no branch to match against (empty
  branchset). - David Allouche 2005-04-21 -->
  </tal:comment>

  <table class="listing sortable" id="branchtable"
         tal:condition="branchset">
    <thead>
      <tr>
        <th>Name</th>
        <th>Title</th>
        <th>Author</th>
        <th>Status</th>
        <th class="initial-sort">Product</th>
        <th>Role</th>
      </tr>
    </thead>
    <tbody>
      <tr tal:repeat="branch branchviewset">
        <!-- Name -->
        <td tal:content="branch/name/fmt:shorten/30">Name</td>
        <!-- Title -->
        <td>
          <a tal:attributes="href branch/fmt:url"
             tal:content="branch/displayname/fmt:shorten/50">
               Title Goes Here!
          </a>
        </td>
        <!-- Author -->
        <td>
          <span tal:condition="branch/author"
                tal:replace="branch/author/browsername">Author</span>
        </td>
        <!-- Status -->
        <td>
          <span tal:content="branch/lifecycle_status/sortkey"
                class="sortkey">23</span>
          <span tal:content="branch/lifecycle_status/title"
                tal:attributes="
                  class string:branchstatus${branch/lifecycle_status/name}">
                  Status</span>
        </td>
        <!-- Product -->
        <td>
          <span tal:condition="branch/product"
                tal:replace="branch/product/name">
            Product
          </span>
        </td>
        <!-- Role -->
        <td tal:define="role python:view.branch_role(branch)">
          <span class="sortkey" tal:content="role/sortkey">12</span>
          <span tal:replace="role/title">Role of the person</span>
        </td>
      </tr>
      <tr tal:condition="not: branchviewset">
        <td rowspan="6">
          <i>There are branches registered for
            <span tal:replace="context/name">James Jiggler</span> but none of them
            match the current filter criteria for this page. try clicking on
            the "Show All" action.</i>
        </td>
      </tr>
    </tbody>
  </table>

  <p tal:condition="not:branchset">
    There are no branches related to
    <span tal:replace="context/displayname">Steve Alexander</span>
    in Launchpad today. You can use Launchpad as a registry for Bazaar
    branches, and encourage broader community participation in your project
    using distributed version control.
  </p>

</div><tal:comment condition="nothing"><!-- end main slot --></tal:comment>

<metal:block fill-slot="help">

  <p>Launchpad can act as a registry of branches for the <a
    href="http://bazaar-vcs.org/">Bazaar</a>distributed version control
    system.</p>

  <p>This page lists all the branches which are related to a person or team.
    A person or team can be related to a branch in several ways:</p>

  <ul>
    <li>The <strong>registrant</strong> of a branch is responsible for
      administering this branch. The registrant can edit all the branch
      details. Upload branches can only be modified (with <code>bzr
      push</code>, <code>commit</code>, etc.) by the registrant.</li>

    <li>The <strong>author</strong> is the person being given credit for the
      branch. The author cannot modify the branch in any way, and should
      normally be the same as the registrant.</li>

    <li>A <strong>subscriber</strong> is a person expressing interest in a
      branch. Subscribing to a branch does not give any right, and is only
      useful to link to a branch from a person's page.</li>
  </ul>

  <p>If a person or team is both the <em>registrant</em> and the
    <em>author</em> of a branch, it appears as the <em>author</em>. A person or
    team is presented as the registrant only if the branch has different
    author, or if the author is not specified.</p>

</metal:block><tal:comment condition="nothing"><!-- end help slot --></tal:comment>

</body>
</html>
