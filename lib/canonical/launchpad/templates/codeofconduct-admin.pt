<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/@@main_template/master"
      i18n:domain="rosetta">
<body>


<metal:rightportlets fill-slot="portlets_two">
        <div tal:replace="structure context/@@+portlet-actions" />
</metal:rightportlets>

<div metal:fill-slot="main">

      <h1>Administer code of conduct signatures</h1>

      <p>
        As an admin, you can
        approve or reject code of conduct signatures,
        and also register signatures that were not submitted digitally.
      </p>

      <form name="search" action="." method="POST">
        <table>
      <tr>
            <th><label for="searchfor">Show:</label></th>
      <td>
        <select name="searchfor">
          <tal:block tal:define="searchfor request/searchfor|nothing">
          <option tal:condition="python: searchfor == 'all'"
                  value="all" selected>all</option>
          <option tal:condition="python: searchfor != 'all'"
                  value="all">all</option>
          <option tal:condition="python: searchfor == 'activeonly'"
                  value="activeonly" selected>active</option>
          <option tal:condition="python: searchfor != 'activeonly'"
                  value="activeonly">active</option>
          <option tal:condition="python: searchfor == 'inactiveonly'"
                  value="inactiveonly" selected>inactive</option>
          <option tal:condition="python: searchfor != 'inactiveonly'"
                  value="inactiveonly">inactive</option>
          </tal:block>
        </select>
              signatures
            </td>
          </tr>
          <tr>
            <th><label for="name">From:</label></th>
      <td>
        <input type="text" name="name" 
               tal:attributes="value request/name|nothing"/>
      </td>
          </tr>
          <tr>
            <th></th>
      <td>
        <div class="actions">
          <input type="submit" value="Search"/>
        </div>
      </td></tr>
        </table>
      </form>

      <tal:results condition="view/search">
        <h2>Results</h2>

     <ul tal:condition="view/results">
       <li tal:repeat="code view/results">
           <a tal:attributes="href string:/people/${code/owner/name}" 
              tal:content="code/owner/displayname">OWNER</a>
           <a tal:attributes="href code/id"
	      tal:content="code/displayname">CoC</a>
           <span tal:omit-tag="" tal:condition="code/active">[ACTIVE]</span>
           <span tal:omit-tag="" tal:condition="not:code/active">[INACTIVE]</span>
       </li>
     </ul>

        <p tal:condition="not:view/results">
          No signatures found.
        </p>
      </tal:results>

</div>

</body>
</html>
