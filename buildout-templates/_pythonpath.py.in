# Copyright 2009 Canonical Ltd.  This software is licensed under the
# GNU Affero General Public License version 3 (see the file LICENSE).

# NOTE: This is a generated file.  The original is in
# buildout-templates/_pythonpath.py.in

# This file works if the Python has been started with -S, or if bin/py
# has been used.

import os
import sys

site_dir = "${scripts:parts-directory}"

if ('site' in sys.modules and
    not sys.modules['site'].__file__.startswith(
        os.path.join(site_dir, 'site.py'))):
    # We have the wrong site.py, so our paths are not set up correctly.
    # We blow up, with a hopefully helpful error message.
    raise RuntimeError(
        'The wrong site.py is imported. Scripts should usually be '
        "started with Launchpad's bin/py, or with a Python invoked with "
        'the -S flag.')

if site_dir not in sys.path:
    sys.path.insert(0, site_dir)
import site # sets up paths
