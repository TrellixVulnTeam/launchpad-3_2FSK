= Translations Relicensing =

When Karl visits +translate page for the first time, he is sent
to a form to indicate whether he wants his translations to be
relicensed under BSD license.

    >>> browser = setupBrowser(auth='Basic karl@canonical.com:test')
    >>> browser.open('http://translations.launchpad.dev/alsa-utils/trunk/'
    ...              '+pots/alsa-utils/es/+translate')
    >>> browser.url
    'http://translations.launchpad.dev/~karl/+relicensing'

Karl realises that he is not on the translate page, he can see that
that this page has information about relicensing.

    >>> print browser.title
    Relicense your translations
    >>> print find_main_content(browser.contents)
    <div...
    <p>We are planning to relicense...
    ...

The page asks Karl to make a choice as to whether he wants to
relicense his translations.

    >>> radiobutton = browser.getControl(name='field.allow_relicensing')

The default choice is to permit relicensing. Karl chooses "no".

    >>> print radiobutton.value
    True
    >>> radiobutton.value = False
    >>> browser.getControl("Update my decision").click()

Karl sees a notice that his translations will be removed when
Launchpad Translations switches to a BSD license.

    >>> get_feedback_messages(browser.contents)
    [u'Your choice has been saved. Your translations will be removed
    once we completely switch to BSD license for translations.']

Karl changes his mind. He returns to the relicensing page.

    >>> browser.open('http://translations.launchpad.dev/~karl/')
    >>> browser.getLink('Relicense translations').click()
    >>> browser.url
    'http://translations.launchpad.dev/~karl/+relicensing'
    >>> browser.title
    Relicence your translations

Karl sees that the current value is 'no', which he set before.

    >>> radiobutton = browser.getControl(name='field.allow_relicensing')
    >>> print radiobutton.value
    False

He changes it again.

    >>> radiobutton.value = True
    >>> browser.getControl("Update my decision").click()

    >>> get_feedback_messages(browser.contents)
    [u'Your choice has been saved. Thank you for deciding to relicense
    your translations.']

Karl can now browse to a +translate page without being forwarded.

    >>> browser.open('http://translations.launchpad.dev/alsa-utils/trunk/'
    ...              '+pots/alsa-utils/es/+translate')
    >>> browser.url
    'http://translations.launchpad.dev/alsa-utils/trunk/+pots/alsa-utils/es/+translate'
