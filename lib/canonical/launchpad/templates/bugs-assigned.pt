<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    lang="en"
    metal:use-macro="context/@@malone_template/master"
    i18n:domain="malone">

<body>

<metal:rightportlets fill-slot="portlets_two">
    <form method="POST" action="" style="float: right;">
        <b>Assigned to:</b><br />
        <div tal:replace="structure view/userSelector" /><br />
        <b>Minimum Severity:</b><br />
        <div tal:replace="structure view/severitySelector" /><br />
        <b>Minimum Priority:</b><br />
        <div tal:replace="structure view/prioritySelector" /><br />
        <div tal:replace="structure view/showClosedSelector" />
        <label for="showclosed"><b>Show Closed Bugs</b></label><br />
        <input type="submit" value="Update">
    </form>
</metal:rightportlets>

<div metal:fill-slot="main">

    <h1>Bugs Assigned to <span tal:replace="view/user/browsername">
    Person</span></h1>

    <p>This report shows bugs that are assigned to a specific person. In
    Malone, a single bug can appear in multiple packages, so bugs can be
    assigned to be fixed in multiple places. The "work status" shows the
    state of that particular assignment. So even though the bug might be
    fixed upstream, or in another package, you may still have to fix it in
    yours.</p>

    <div tal:condition="view/maintainedProductBugs">

        <h2>Bugs on upstream products <span
        tal:replace="view/user/browsername">person</span> maintains:</h2>

        <table class="listing rowNavigation" width="100%">

            <tr>
                <th>Bug #</th>
                <th>Title</th>
                <th>Upstream Project</th>
                <th>Upstream Product</th>
                <th>Work Status</th>
                <th>Severity</th>
                <th>Priority</th>
                <th>Work Assigned To...</th>
            </tr>

            <tr tal:repeat="bugtask view/maintainedProductBugs"
                tal:attributes="onclick
                string:window.location='/malone/bugs/${bugtask/bug/id}'">
                <td><span tal:replace="bugtask/bug/id">$Bug.id</span>
                    <span tal:condition="bugtask/bug/name">(<span
                    tal:replace="bugtask/bug/name">name</span>)</span></td>
                <td tal:attributes="title bugtask/bug/summary">
                    <b><span tal:replace="bugtask/bug/title">$Bug.title</span></b></td>
                <td tal:content="bugtask/product/project/displayname|nothing">project</td>
                <td tal:content="bugtask/product/displayname|nothing">product</td>
                <td tal:content="bugtask/status/title">status</td>
                <td tal:content="bugtask/severity/title">severity</td>
                <td tal:content="bugtask/priority/title">priority</td>
                <td tal:content="bugtask/assignee/browsername|default">-</td>
            </tr>

        </table>

    </div>

    <div tal:condition="view/maintainedPackageBugs">

        <h2>Bugs on distro packages <span
        tal:replace="view/user/browsername">person</span> maintains:</h2>

        <table class="listing rowNavigation" width="100%">

            <tr>
                <th>Bug #</th>
                <th>Title</th>
                <th>Distribution</th>
                <th>Package</th>
                <th>Work Status</th>
                <th>Severity</th>
                <th>Priority</th>
                <th>Work Assigned To...</th>
            </tr>

            <tr tal:repeat="bugtask view/maintainedPackageBugs"
                tal:attributes="onclick
                string:window.location='/malone/bugs/${bugtask/bug/id}'">
                <td><span tal:replace="bugtask/bug/id">$Bug.id</span>
                    <span tal:condition="bugtask/bug/name">(<span
                    tal:replace="bugtask/bug/name">name</span>)</span></td>
                <td tal:attributes="title bugtask/bug/summary">
                    <b><span tal:replace="bugtask/bug/title">$Bug.title</span></b></td>
                <td tal:content="bugtask/distribution/name|string: ${bugtask/distrorelease/distribution/name} ${bugtask/distrorelease/name}">
                    distro
                </td>
                <td tal:content="bugtask/sourcepackagename/name">
                    package
                </td>
                <td tal:content="bugtask/status/title">status</td>
                <td tal:content="bugtask/severity/title">severity</td>
                <td tal:content="bugtask/priority/title">priority</td>
                <td tal:content="bugtask/assignee/browsername|default">-</td>
            </tr>

        </table>

    </div>

    <div tal:condition="view/packageAssigneeBugs">

        <h2>Package bugs assigned directly:</h2>

        <table class="listing rowNavigation" width="100%">

            <tr>
                <th>Bug #</th>
                <th>Title</th>
                <th>Distro</th>
                <th>Package</th>
                <th>Work Status</th>
                <th>Severity</th>
                <th>Priority</th>
                <th>Work Assigned To...</th>
            </tr>

            <tr tal:repeat="bugtask view/packageAssigneeBugs"
                tal:attributes="onclick
                string:window.location='/malone/bugs/${bugtask/bug/id}'">
                <td><span tal:replace="bugtask/bug/id">$Bug.id</span>
                    <span tal:condition="bugtask/bug/name">(<span
                    tal:replace="bugtask/bug/name">name</span>)</span></td>
                <td tal:attributes="title bugtask/bug/summary">
                    <b><span tal:replace="bugtask/bug/title">$Bug.title</span></b></td>
                <td tal:content="bugtask/distribution/name|string: ${bugtask/distrorelease/distribution/name} ${bugtask/distrorelease/name}">
                    distro
                </td>
                <td tal:content="bugtask/sourcepackagename/name">
                    package
                </td>
                <td tal:content="bugtask/status/title">status</td>
                <td tal:content="bugtask/severity/title">severity</td>
                <td tal:content="bugtask/priority/title">priority</td>
                <td tal:content="bugtask/assignee/browsername|default">-</td>
            </tr>

        </table>

    </div>

    <div tal:condition="view/productAssigneeBugs">

        <h2>Upstream bugs assigned directly:</h2>

        <table class="listing rowNavigation" width="100%">

            <tr>
                <th>Bug #</th>
                <th>Title</th>
                <th>Upstream Project</th>
                <th>Upstream Product</th>
                <th>Work Status</th>
                <th>Severity</th>
                <th>Priority</th>
                <th>Work Assigned To...</th>
            </tr>

            <tr tal:repeat="bugtask view/productAssigneeBugs"
                tal:attributes="onclick
                string:window.location='/malone/bugs/${bugtask/bug/id}'">
                <td><span tal:replace="bugtask/bug/id">$Bug.id</span>
                    <span tal:condition="bugtask/bug/name">(<span
                    tal:replace="bugtask/bug/name">name</span>)</span></td>
                <td tal:attributes="title bugtask/bug/summary">
                    <b><span tal:replace="bugtask/bug/title">$Bug.title</span></b></td>
                <td tal:content="bugtask/product/project/displayname|nothing">project</td>
                <td tal:content="bugtask/product/displayname|nothing">product</td>
                <td tal:content="bugtask/status/title">status</td>
                <td tal:content="bugtask/severity/title">severity</td>
                <td tal:content="bugtask/priority/title">priority</td>
                <td tal:content="bugtask/assignee/browsername|default">-</td>
            </tr>

        </table>

    </div>

    <p tal:condition="not:view/assignedBugs">
    No bugs are currently assigned to <span
    tal:replace="view/user/browsername">Person</span>. You can assign a bug by
    clicking on the "File Against Upstream..." or "File Against Package..." links
    near the top of the
    main bug page, assigning the bug to an upstream product or package and then also
    assigning it to a specific person for action.
    </p>

    <p tal:condition="view/assignedBugs">These are the bugs that are
    in the work list for <span
    tal:replace="view/user/browsername">the person</span>. These bugs
    might occur in upstream products or distribution packages which <span
    tal:replace="view/user/browsername">the person</span> maintains, or
    they might have been explicitly assigned. Click on the bug to see more
    detail.</p>

</div>

</body>

</html>
