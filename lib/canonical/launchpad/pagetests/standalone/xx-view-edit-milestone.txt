
We want to make sure we can view and edit a milestone.

  >>> print http(r"""
  ... GET /products/firefox/+milestone/1.0/+edit HTTP/1.1
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... """)
  HTTP/1.1 200 Ok
  ...<h1>Edit milestone</h1>...

OK, now let's POST a change. We should be redirected back to the product
page:

  >>> print http(r"""
  ... POST /products/firefox/+milestone/1.0/+edit HTTP/1.1
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... Content-Length: 672
  ... Content-Type: multipart/form-data; boundary=---------------------------20502162275088454961693046098
  ... 
  ... -----------------------------20502162275088454961693046098
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... 1.0rc
  ... -----------------------------20502162275088454961693046098
  ... Content-Disposition: form-data; name="field.dateexpected"
  ... 
  ... 
  ... -----------------------------20502162275088454961693046098
  ... Content-Disposition: form-data; name="field.visible.used"
  ... 
  ... 
  ... -----------------------------20502162275088454961693046098
  ... Content-Disposition: form-data; name="field.visible"
  ... 
  ... on
  ... -----------------------------20502162275088454961693046098
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Change
  ... -----------------------------20502162275088454961693046098--
  ... """)
  HTTP/1.1 303 See Other
  Content-Length: ...
  Content-Type: text/html;charset=utf-8
  Location: ../..
  ...

And there we should see the new milestone in the portlet:

  >>> print http(r"""
  ... GET /products/firefox/ HTTP/1.1
  ... """)
  HTTP/1.1 200 Ok
  ...1.0rc...

OK, we're done. But let's clean up and reset the name to 1.0:

  >>> print http(r"""
  ... POST /products/firefox/+milestone/1.0rc/+edit HTTP/1.1
  ... Authorization: Basic Y2FybG9zQGNhbm9uaWNhbC5jb206dGVzdA==
  ... Content-Length: 664
  ... Content-Type: multipart/form-data; boundary=---------------------------7601431282379837061156833891
  ... 
  ... -----------------------------7601431282379837061156833891
  ... Content-Disposition: form-data; name="field.name"
  ... 
  ... 1.0
  ... -----------------------------7601431282379837061156833891
  ... Content-Disposition: form-data; name="field.dateexpected"
  ... 
  ... 
  ... -----------------------------7601431282379837061156833891
  ... Content-Disposition: form-data; name="field.visible.used"
  ... 
  ... 
  ... -----------------------------7601431282379837061156833891
  ... Content-Disposition: form-data; name="field.visible"
  ... 
  ... on
  ... -----------------------------7601431282379837061156833891
  ... Content-Disposition: form-data; name="UPDATE_SUBMIT"
  ... 
  ... Change
  ... -----------------------------7601431282379837061156833891--
  ... """)
  HTTP/1.1 303 See Other
  Content-Length: ...
  Content-Type: text/html;charset=utf-8
  Location: ../..
  ...

