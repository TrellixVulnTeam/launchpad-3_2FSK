<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  xml:lang="en"
  lang="en"
  dir="ltr"
  metal:use-macro="view/macro:page/onecolumn"
  i18n:domain="launchpad"
>
<body>

<div metal:fill-slot="main">

  <div metal:use-macro="context/@@launchpad_form/form">

    <p metal:fill-slot="extra_info">
      Your changes to the <span tal:replace="context/displayname">
      project</span> details below will take effect immediately.  
    </p>

  </div>

  <script type="text/javascript">
YUI().use('dom', 'node', function(Y) {
    var remote_product_input = Y.DOM.byId('field.remote_product');
    var bugtracker_inputs = Y.DOM.byTag('input', null, function(elem) {
        return elem.name == 'field.bugtracker';
    });

    var constraint = function(event) {
        Y.each(bugtracker_inputs, function(input) {
            if (input.checked) {
                if (input.value == 'external') {
                    remote_product_input.disabled = false;
                }
                else {
                    remote_product_input.value = '';
                    remote_product_input.disabled = true;
                }
            }
        });
    };

    // Check constraint on page load.
    constraint();

    // Check constraint when input is changed.
    Y.each(bugtracker_inputs, function(input) {
        (new Y.Node(input)).on('change', constraint);
    });
});
  </script>

</div>

</body>
</html>
