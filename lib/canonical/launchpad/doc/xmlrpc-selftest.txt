= XMLRPC self-test API =

The Launchpad root object has a simple XMLRPC API to show that XMLRPC works.

    >>> from canonical.launchpad.xmlrpc import SelfTest, ISelfTest
    >>> from zope.interface.verify import verifyObject
    >>> selftestview = SelfTest('somecontext', 'somerequest')
    >>> verifyObject(ISelfTest, selftestview)
    True
    >>> selftestview.concatenate('foo', 'bar')
    u'foo bar'
    >>> selftestview.make_fault()
    <Fault 666: 'Yoghurt and spanners.'>

We can test our XMLRPC APIs using xmlrpclib, using a custom Transport
which talks with the publisher directly.

    >>> import xmlrpclib
    >>> from canonical.functional import XMLRPCTestTransport
    >>> selftest = xmlrpclib.ServerProxy(
    ...     'http://xmlrpc.launchpad.dev/',  transport=XMLRPCTestTransport())
    >>> selftest.concatenate('foo', 'bar')
    'foo bar'
    >>> selftest.make_fault()
    Traceback (most recent call last):
    ...
    Fault: <Fault 666: 'Yoghurt and spanners.'>
